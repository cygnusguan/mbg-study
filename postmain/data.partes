 const didRequestError = response.code < 200 || response.code >= 300 || !response.responseTime;
                  const MAX_RESPONSE_SIZE = 20000;

                  // TODO: This is very specific to our current use-case. We should abstract this out and parameterize it.
                  const shouldForwardResponse = isAllowedMimeType && didRequestError;

                  if (!shouldForwardResponse) {
                    // If save response is disabled them trim the body and headers
                    body = {
                      ___ignored___: NOT_LOGGED_RESPONSE_BODY
                    };
                  }
                  else {
                    // We need to convert the stream into a string to send it to the execution process.
                    // Convert ArrayBuffer into Uint8Array view
                    if (response.stream instanceof ArrayBuffer) {
                      response.stream = new Uint8Array(response.stream);
                    }

                    // The response stream can be an Uint8Array or an object denoting dropping and truncating
                    body = (response.stream instanceof Uint8Array) ?
                      Uint8ArrayToString(response.stream, contentInfo.charset) : response.stream;

                    if (body.length > MAX_RESPONSE_SIZE) {
                      body = {
                        ___ignored___: LARGE_RESPONSE_BODY
                      };
                    }
                  }

                  if (didRequestError && !isAllowedMimeType) {
                    // Send the content mimetype as hash if mimetype is not text/json
                    hash = contentInfo?.mimeType;
                  } else if (body.___ignored___) {
                    // Catch all scenarios were we could not send response
                    hash = 'OTHER_RESPONSE';
                  }
                  else if (shouldForwardResponse) {
                    try {
                      // TODO. Use common util function
                      // eslint-disable-next-line require-jsdoc
                      function getErrorMetricName (response, err) {
                        if (response && response.code) {
                          const status = _.startCase(_.lowerCase(response.status));

                          return [response.code, status].join(' ').trim(' ');
                        }
                        else if (err && err.code) {
                          return err.code;
                        }
                        else if (err && err.message) {
                          return err.message;
                        }
                        else return 'Unknown';
                      }

                      // Calculate the hash of the request body
                      const errorMetricName = getErrorMetricName(response, err);
                      hash = responseBodyMap.addResponse({ request: { id: item.id, ...request }, errorMetricName, response: { body } });
                    }
                    catch (error) {
                      if (Object.keys(ResponseBodyMap.ERROR_TYPES).includes(error.code)) {
                        hash = 'OTHER_RESPONSE';
                      }
                      else {
                        throw error;
                      }
                    }
                  }
                }

                const transformedRequest = request && new postmanCollectionSdk.Request(
                  request.toJSON()
                );

                sendToMainProcess('response', {
                  virtualUser: { dataRowIndex: dataFileRowIndex, isRowOutOfBound, vuId: executionContext.vuId, dataUsed: !!VUData },
                  err: pick(err || {}, 'code', 'message'),
                  response: { body, contentInfo, hash, ...pick(response || {}, 'code', 'headers', 'responseSize', 'status', 'responseTime') },
                  request: transformedRequest && {
                    url: _.invoke(transformedRequest, 'url.toString', ''),
                    method: _.get(transformedRequest, 'method', ''),
                    headers: transformedRequest.getHeaders({ enabled: false }),
                    body: transformedRequest.toJSON().body
                  },
                  item
                });
              },

              beforeIteration: async function () {
                const runData = runStore.get(executionContext.sequenceId);

                if (runData) {
                  const { stopping } = runData;

                  if (stopping) {
                    clearTimeout(iterationDelayTimer);

                    // set this to null, so that we know if there's a timer counting down
                    iterationDelayTimer = null;

                    await run.abort();

                    resolve({ executionContext });

                    return;
                  }
                }

                // Set the dataFileRowIndex and VU variables for the current iteration
                const injectableRunData = store?.getRunData() || {};

                // Reset all the variables to the values they had during the start of the run.
                // Event though we use iterations to improve performance, each scenario is considered independent run.
                // Thus updated variable values should not propagate across iterations.
                // TODO: [APITEST-322] This is not the recommended way to achieve this. Expose an option/interface from postman-runtime
                delete run.state.environment;
                delete run.state.globals;
                delete run.state.collectionVariables;
                delete run.state._variables;

                // Retain reference to the dataFileRowIndex and isRowOutOfBound for the current iteration such that it
                // can be used in the response callback to track the VU data for the current iteration.
                ({ dataFileRowIndex, isRowOutOfBound } = injectableRunData);

                Object.assign(run.state, {
                  environment: new postmanCollectionSdk.VariableScope(environmentObject),
                  globals: new postmanCollectionSdk.VariableScope(globalsObject),
                  collectionVariables: new postmanCollectionSdk.VariableScope(collectionVariables),
                  _variables: new postmanCollectionSdk.VariableScope(injectableRunData.variables || {})
                });
              },

              iteration: async function (err, cursor) {

                // Using random sleep time using pause and resume between iterations to improve CPU performance
                if (cursor.iteration <= iterationCount - 2) {
                  try {
                    await run.pause();
                  }
                  catch (e) {
                    console.error('Error while pausing the run', e);
                  }
                }

                sendToMainProcess('iteration', { err });
              },

              pause: function () {
                iterationDelayTimer = setTimeout(async () => {
                  try {
                    const runData = runStore.get(executionContext.sequenceId);

                    // check if run exists before resuming, it is possible that the run was
                    // aborted before this hook was called
                    if (runData) {
                      await run.resume();
                    }
                  }
                  catch (e) {
                    console.error('Error while resuming the run', e);
                  }
                }, (MIN_SLEEP_TIMEOUT + (Math.random() * SLEEP_TIMEOUT_MULTIPLIER))); // Random sleep time between 500ms to 1500ms.

                runStore.update(executionContext.sequenceId, { iterationDelayTimer });
              },

              // Called at the end of a run
              done: function (err) {
                sendToMainProcess('done', { err });

                if (err) {
                  console.error('Error while running collection', err);

                  run.abort();
                }

                resolve({ executionContext });
              },
            });
          }
        );
      });
    })
  );
}

/**
 * Handle messages from the execution process. The exec. process sends a message to this thread when it wants to start
 * the execution of a scenario instance for a performance test or add more scenarios to the test.
 */
parentPort.on('message', async (message) => {
  let executionContext, sequenceId;

  switch (message.type) {
    case 'assign':
      try {
        await runRunners(message.payload);

        _sendToParent(
          message.payload.executorReferenceId,
          message.payload.executionContext,
          'allRunFinished'
        );
      }
      catch (err) {
        console.error('Error while running collection', err);

        _sendToParent(
          message.payload.executorReferenceId,
          message.payload.executionContext,
          'error',
          { err }
        );
      }
      finally {
        runStore.remove(message.payload.executionContext.sequenceId);
      }

      break;

    case 'stop':
      executionContext = message.payload;
      ({ sequenceId } = executionContext);

      // Marks the run for stopping after it finishes its current iteration and
      // tries to start the next, see beforeIteration handler in run.start call
      runStore.update(executionContext.sequenceId, { stopping: true });

      break;

    case 'abort':
      executionContext = message.payload;
      ({ sequenceId } = executionContext);

      try {
        const runData = runStore.get(sequenceId);

        if (runData) {
          const { run, iterationDelayTimer } = runData;

          _sendToParent(
            executionContext.executionContextId,
            executionContext,
            'aborting'
          );

          clearTimeout(iterationDelayTimer);
          run.abort();

          _sendToParent(
            executionContext.executionContextId,
            executionContext,
            'aborted'
          );
        }
        else {
          console.warn('No run found for sequenceId', sequenceId);
        }
      }
      catch (err) {
        console.error('Error while aborting collection', err);

        _sendToParent(
          executionContext.executionContextId,
          {},
          'error',
          { err }
        );
      }
      finally {
        runStore.remove(sequenceId);
      }

      break;

    case 'response':
      const { requestType, ...data } = message.payload;

      let callback;

      switch (requestType) {
        case 'oauth2-token-refresh':
          const refreshId = data.refreshId;

          callback = refreshCallbackMap.get(refreshId);

          if (callback) {
            callback(null, data.accessToken);
          }
          else {
            console.error(`No callback found for refreshId ${refreshId}`);
          }

          break;

        case 'get-system-proxy':
          const proxyFetchId = data.proxyFetchId;

          callback = proxyFetchCallbackMap.get(proxyFetchId);

          if (callback) {
            callback(null, data.proxyConfig);
          }
          else {
            console.error(`No callback found for proxyFetchId ${proxyFetchId}`);
          }

          break;

        case 'vu-data':
          const store = dataFileDistributionState.get(`${data.workloadId}:${data.VUData.vuId}`);

          if (store) {
            store.updateVUData(data.VUData);
          }
          else {
            console.error(`No store found for executionContextId ${data.executionContextId}`);
          }

          break;

        default:
          console.log('WorkerThreadExec ~ Unknown runtime request type', requestType);
      }

      break;

    default:
      console.log('WorkerThreadExec ~ Unknown message type', message.type);
  }
});


/**
 * Helper function to convert a Uint8Array to string with proper charset handling
 *
 * @param {Uint8Array} array - The Uint8Array to convert to string
 * @param {String} charset - The charset to use for conversion
 *
 *  FIXME: UTF-32 is not supported by TextDecoder yet, may fallback to iconv-lite?
 */
function Uint8ArrayToString (array, charset) {
  const UNSUPPORTED_ENCODING = new Set(['iso-2022-cn', 'iso-2022-cn-ext']),
    CHARSET_UTF16 = 'utf-16',
    CHARSET_UTF16BE = 'utf-16be',
    BOM_FE = 0xFE,
    BOM_FF = 0xFF;

  // If it's one of the unsupported encodings then bail out
  if (UNSUPPORTED_ENCODING.has(charset)) {
    return '';
  }

  // If we have charset utf-16, it not certain if it big-endian or little-endian in nature
  // BOM characters if present can be us to detect the endianness
  if (charset === CHARSET_UTF16 && array.length >= 2) {
    // If the bom characters match that of big-endian then change the charset to BE
    // In-case it does not match then we don't need to do anything because utf-16 defaults
    // to being little-endian
    (array[0] === BOM_FE && array[1] === BOM_FF) && (charset = CHARSET_UTF16BE);
  }


  // If charset is not defined then default to utf-8
  // For more information on the valid list of charset check
  // https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder
  try {
    return new TextDecoder(charset || 'utf-8').decode(array);
  } catch (e) {
    // Handle RangeError thrown by TextDecoder if the defined charset is invalid
    console.error('Invalid encoding label received in the response headers.', e);

    return new TextDecoder('utf-8').decode(array);
  }
}
/* eslint-disable no-console */
const _ = require('lodash');
const { DATAFILE_RANDOM_DISTRIBUTION } = require('../../ScenarioManager/constants');

/**
 * @typedef VUData
 *
 * @property {Array<String>} keys - The keys of the data file
 * @property {Array<{ key: string, value: string|number|boolean }>} data - The data of the data file
 * @property {Array<Number>} sliceIndices - Reference to the data file rows that are assigned to the VU
 * @property {Boolean} randomize - Whether the data file rows have to be randomized
 */

/**
 * This class is responsible for storing, refreshing and maintaining the data file content and providing it to the
 * VU execution.
 */
class DataFileContentStore {
  VUData = null;
  parentPort = null;
  #readsSinceLastUpdate = 0;
  #isRefreshing = false;
  #enableRefresh = false;
  #workloadId = null;

  /**
   * @param {VUData} VUData - The VUData object
   * @param {Object} parentPort - The parent port to communicate with the parent thread
   */
  constructor (VUData, parentPort) {
    this.VUData = VUData;
    this.parentPort = parentPort;
  }

  /**
   * Returns the variables from the VUData object along with the data file row index
   *
   * @returns {
   *  {
   *   dataFileRowIndex: Number,
   *   variables: Array<{key: string, value: *}>
   *  }|{ dataFileRowIndex: undefined, variables: undefined }
   * } - Object containing dataRowIndex and variablesToInject
   */
  getRunData = () => {
    this.#readsSinceLastUpdate += 1;

    // Refresh the store's VUData object after every REFRESH_DATA_INTERVAL reads such that the VUData can be randomized
    // across iterations of a scenario and across assignments inside a worker thread
    if (!(this.#readsSinceLastUpdate % DATAFILE_RANDOM_DISTRIBUTION.REFRESH_DATA_INTERVAL)) {
      // If there is some error while refreshing the VUData, log it and continue with the existing VUData
      this.#refreshVUData().catch((err) => {
        console.error('Error while refreshing VUData', err);
      });
    }

    let dataFileRowIndex, variables;

    if (this.VUData?.keys) {
      // Pick a random index of dataVariables.sliceIndices
      const vuSliceIndexToDataFileRowIndex = _.random(_.range(this.VUData.sliceIndices.length));

      // Get reference of the selected index wrt to datafile
      dataFileRowIndex = this.VUData.sliceIndices?.[vuSliceIndexToDataFileRowIndex];

      // If there is no data for the given index, return an object with null values
      // This would happen in conditions where the data file is smaller than the number of VUs
      variables = this.VUData.data?.[vuSliceIndexToDataFileRowIndex] || this.VUData.keys.reduce((acc, key) => {
        acc[key] = null;
        return acc;
      }, {});
    }

    return {
      isRowOutOfBound: !Number.isInteger(dataFileRowIndex),
      dataFileRowIndex,
      variables
    };
  };

  /**
   * Updates the VUData object with the new data
   *
   * @param {Object} VUData - The VUData object
   */
  updateVUData = (VUData) => {
    this.VUData = VUData;
    this.#readsSinceLastUpdate = 0;
    this.#isRefreshing = false;
  };

  /**
   * Refreshes the VUData object
   * @returns {Promise<void>}
   */
  #refreshVUData = async () => {
    if (this.#isRefreshing || !this.#enableRefresh) {
      return;
    }

    this.#isRefreshing = true;
    this.#readsSinceLastUpdate = 0;

    this.parentPort.postMessage({
      type: 'request',
      data: {
        requestType: 'refreshVUData',
        workloadId: this.#workloadId
      }
    });
  };

  /**
   * Enables the refresh of the VUData object for a given workload
   * @public
   *
   * @param {String} workloadId - The workload id for which the refresh is enabled
   *
   * @returns {void}
   */
  enableRefresh = (workloadId) => {
    if (this.#enableRefresh || this.#workloadId) {
      throw new Error('DataFileContentStore: Refresh is already enabled for another workload');
    }

    this.#enableRefresh = true;
    this.#workloadId = workloadId;
  };
}

module.exports = DataFileContentStore;
const WorkerThread = require('./WorkerThread');

module.exports = {
  WorkerThread
};
/**
 * Stores run objects for the runs going on in the thread.
 * @class RunStore
 */
class RunStore {
  /**
   * The map of runId to an object containing the run and additional data.
   */
  #runs = null;

  constructor () {
    this.#runs = new Map();
  }

  /**
   * Returns the run object for the given runId.
   *
   * @param {string} runId - The runId of the run object to return.
   *
   * @returns {Object} - The run object for the given runId.
   */
  get (runId) {
    return this.#runs.get(runId);
  }

  /**
   * Adds a run object to the store.
   *
   * @param {string} runId - The runId of the run object to add.
   * @param {Object} runData - The run object to add.
   */
  add (runId, runData) {
    this.#runs.set(runId, runData);
  }

  /**
   * Updates the run of the given ID with a patch object and returns the updated object
   *
   * @param {string} runId - The runId of the run object to return.
   * @param {Object} patch
   *
   * @returns {Object} - The updated run-data object for the given runId.
   */
  update (runId, patch) {
    const runData = this.#runs.get(runId);

    if (!runData) {
      throw new Error('No run found for runId', runId);
    }

    const patched = Object.assign(runData, patch);

    this.#runs.set(runId, patched);

    return patched;
  }

  /**
   * Removes a run object from the store.
   *
   * @param {string} runId - The runId of the run object to remove.
   */
  remove (runId) {
    this.#runs.delete(runId);
  }
}

module.exports = RunStore;
const { Worker } = require('worker_threads');
const EventEmitter = require('events');
const path = require('path');
const scenarioTestingProcessPath = path.join(__dirname, '_thread.js');
const { log } = require('../../lib/logging');
const { THREAD_REQUESTS } = require('../constants');

/**
 * Thin wrapper around the worker thread. This will be responsible for spawning the worker thread and handling the
 * events from the worker thread. It will also be responsible for sending the data to the main process.
 * @class WorkerThread
 * @extends EventEmitter
 *
 * @private
 *
 * @param {Number} id - ID of the worker thread
 * @param {Object} workerData - Data to be passed to the worker thread
 * @param {Function} callback - Callback function to be called when the worker thread sends data
 * @param {Function} workerRequestCallback - Callback function to be called when the worker thread sends a request for additional data
 */
class WorkerThread extends EventEmitter {

  // Set of sequences to be aborted. This will be used to ignore any requests from the worker thread for sequences
  // that are to be aborted.
  sequencesToBeAborted = new Set();

  /**
   * @constructor
   * @param {object} workerData - Data to be passed to the worker thread
   * @param {string} workerData.id - ID of the worker thread
   * @param {function} callback - Callback to be called for run events from the worker thread
   * @param {function} workerRequestCallback - Callback to be called for worker requests
   */
  constructor (workerData, callback, workerRequestCallback, workerExitCallback) {
    super();
    this.id = workerData.id;
    this.worker = new Worker(scenarioTestingProcessPath, {
      workerData: {},
      stdout: true,
      stderr: true
    });
    this.handleMessage = this.handleMessage.bind(this);
    this.handleError = this.handleError.bind(this);
    this.handleExit = this.handleExit.bind(this);

    this.worker.on('message', this.handleMessage);
    this.worker.on('error', this.handleError);
    this.worker.on('exit', this.handleExit);

    // pm.logger is intentionally used here instead of log because log is not yet designed to be used in the worker
    this.worker.stdout.on('data', (data) => pm.logger.info([`Worker ${this.id}`, data.toString()]));
    this.worker.stderr.on('data', (data) => pm.logger.error([`Worker ${this.id}`, data.toString()]));
    this.callback = callback;
    this.workerRequestCallback = workerRequestCallback;
    this.workerExitCallback = workerExitCallback;
  }

  handleMessage = (message) => {
    log.debug('WorkerThread: handleMessage');

    switch (message.type) {
      case 'data':
        const event = message.data.event,
          executionContext = message.data.executionContext;

        if (event === 'aborted' && executionContext?.sequenceId) {
          log.info('WorkerThread: Removing sequence from set of sequences to be aborted');

          // Remove the sequence ID from the set of sequences to be aborted.
          this.sequencesToBeAborted.delete(executionContext.sequenceId);
        }

        try {
          this.callback(message.data);
        }
        catch (error) {
          log.info('Error while calling callback to send data from thread to the worker process: ', error.stack);
        }

        break;

      case 'request':
        if (this.sequencesToBeAborted.has(message.data.sequenceId)) {
          log.info('WorkerThread: Ignoring runtime request for aborted sequence');
          break;
        }

        this.workerRequestCallback(message.data);
        break;

      case 'uncaughtException':
        pm.logger.info('uncaughtException on worker thread', message.error);
        break;

      case 'unhandledRejection':
        pm.logger.info('unhandledRejection on worker thread', message.error);
        break;

      default:
        log.debug('WorkerThread: Received unknown message type: ', message.type);
    }
  };

  handleError (error) {
    log.error('Worker error:', error.toString());
    log.error('Worker error stack:', error.stack);
  }

  handleExit (code) {
    if (code !== 0) {
      log.error(`Worker ${this.id} stopped with exit code ${code}`);

      // Inform the process that a thread has exited
      this.workerExitCallback();
    }
    else {
      log.info(`Worker ${this.id} stopped gracefully`);
    }
  }

  async assignRun (args) {
    log.debug('WorkerThread: assignRun');

    this.worker.postMessage({ type: 'assign', payload: args });
  }

  /**
   * Sends a message to the worker thread
   *
   * @param {Object} payload - The payload to be relayed to the worker
   */
  relayMessageToWorkerThread = (payload) => {
    log.debug('WorkerThread: Relaying runtime callback response');

    // Ignore any requests from the worker thread for sequences that are to be aborted.
    if (this.sequencesToBeAborted.has(payload.sequenceId) && payload.requestType !== THREAD_REQUESTS.VU_DATA) {
      log.info('WorkerThread: Ignoring runtime callback response for aborted sequence');
      return;
    }

    this.worker.postMessage({ type: 'response', payload });
  };

  handleRuntimeRequestResponse = (payload) => {
    const { requestType, ...data } = payload;

    if ([THREAD_REQUESTS.OAUTH2_TOKEN_REFRESH,
    THREAD_REQUESTS.GET_SYSTEM_PROXY, THREAD_REQUESTS.VU_DATA].includes(requestType)) {
      this.relayMessageToWorkerThread(payload);
    }
    else {
      log.warn('WorkerThread ~ Unknown runtime request type', requestType);
    }
  };

  async stop () {
    log.debug('WorkerThread: stop');

    this.worker.off('message', this.handleMessage);

    log.info(`Worker ${this.id} stopping`);

    return this.worker.terminate().then((exitCode) => {
      log.info(`Worker ${this.id} stopped with exitCode ${exitCode}`);
    });
  }

  /**
   * Sends a message to the worker thread to stop the run.
   *
   * @param {Object} executionContext - The execution context of the run to be aborted
   */
  stopRun = (executionContext) => {
    log.info('WorkerThread: stopRun');

    this.worker.postMessage({ type: 'stop', payload: executionContext });
  };

  /**
   * Sends a message to the worker thread to abort the run.
   *
   * @param {Object} executionContext - The execution context of the run to be aborted
   */
  abortRun = (executionContext) => {
    log.info('WorkerThread: abortRun');

    // Add the sequence ID to the set of sequences to be aborted. This will be used to ignore any requests from the
    // worker thread for this sequence.
    this.sequencesToBeAborted.add(executionContext.sequenceId);

    this.worker.postMessage({ type: 'abort', payload: executionContext });
  };
}

module.exports = WorkerThread;
const os = require('os');
const { NodeProcess, IPCNode } = require('../node-process');
const sdk = {
  NodeProcess,
  IPCNode
};

/**
 * Attaches the IPCNode for communication with the sub process. If the sub process already has an IPCNode attached,
 * it detaches the existing IPCNode and attaches the new one. This is done to avoid multiple IPCNodes being attached
 * to the same sub process.
 *
 * @param {number|string} id - Id of the sub process
 *
 * @returns {Promise<IPCNode>} - Promise that resolves with the IPCNode
 */
const attachIpcNode = (id) => new Promise((resolve) => {
  const ipcNode = new sdk.IPCNode(id, pm.logger);

  ipcNode.onConnect(() => {
    pm.logger.info(`ExecutionSystem ${id} ~ ipc connection successfully established`);

    resolve(ipcNode);
  });

  ipcNode.onClose(() => {
    pm.logger.info(`ExecutionSystem ${id} ~ ipc connection closed.`);
  });
});


/**
 * Starts a sub process and attaches the IPCNode for communication with it and returns the sub process item object.
 *
 * @param {Object} params
 * @param {Number} params.id - Id of the sub process
 * @param {String} params.path - Path of the sub process
 * @param {Number} params.priority - Priority of the sub process
 * @param {Boolean} params.attachIPC - Flag to attach the IPCNode, if set to false, the IPCNode will not be attached
 *
 * @returns {Promise<Object>} - Sub process item object
 */
const startSubProcess = ({ id, path, priority, attachIPC = true }) => new Promise((resolve, reject) => {
  const subprocess = sdk.NodeProcess.spawn(path, id);

  let isResolved = false;

  // If some validations fail, sdk.NodeProcess.spawn returns null, checking the same and throwing
  if (!subprocess) {
    const errorMessage = `Failed to spawn the process of the execution system from the path: ${path}`;

    pm.logger.error(errorMessage);

    reject(new Error(errorMessage));

    return;
  }

  // Call onError before doing anything else that depends on the successful spawn on the process
  subprocess.onError((error) => {
    pm.logger.error(`ExecutionSystem ${id} ~ Error in starting subprocess`, error);

    reject(error);
  });

  // When the subprocess is ready, attach the IPCNode
  subprocess.onReady(async () => {
    // Assign a lower priority to the subprocess so that it doesn't hog the CPU
    os.setPriority(subprocess.pid, priority);

    const subProcessItem = {
      process: subprocess,
      ...(attachIPC ? {
        ipcNode: await attachIpcNode(id)
      } : {})
    };

    isResolved = true;
    resolve(subProcessItem);
  });

  // When the subprocess exits, reset the pointers to the subprocess and IPCNode via _resetMainManager
  subprocess.onExit((code, signal) => {
    // Process terminated with error.
    if (code !== 0) {
      pm.logger.error(`ExecutionSystem ${id} ~ subprocess exited with code: ${code}`);

      if (signal) {
        pm.logger.error(`ExecutionSystem ${id} ~ sub process exited in response to signal ${signal}`);
      }
    }

    pm.logger.info(`ExecutionSystem ${id} ~ Sub process terminated with`, code);

    if (!isResolved) {
      pm.logger.error(`ExecutionSystem ${id} ~ Failed to start process.`, code, signal);

      reject({ code, signal });
    }
  });
});

/**
 * Detaches the IPCNode for communication with the sub process.
 *
 * @param {object} node - IPCNode to detach
 *
 * @returns {void}
 */
const detachIpcNode = (node) => {
  try {
    node && node?.dispose();
  } catch (e) {
    pm.logger.error('ExecutionSystem ~ Error in detaching IPCNode', e);
  }
};

/**
 * Invokes a method on the IPCNode.
 *
 * @param {IPCNode} ipcNode - IPCNode to invoke the method on
 * @param {object} options - Options for invoking the method
 * @param {string} [options.action] - Action to perform
 * @param {string} options.method - Method to invoke
 * @param {Array<*>} options.args - Arguments to pass to the method
 *
 * @returns {Promise<*>}
 */
const invokeOnIPC = (ipcNode, { action, method, args }) =>
  ipcNode.invoke(action, { method, args });

const detachIpcNodes = (ipcNodes) => {
  Object.values(ipcNodes).forEach(detachIpcNode);
};

/**
 * Sends a message to the main process.
 *
 * @deprecated Use sendEventOnIPC instead from lib/communication.js
 *
 * @param {object} channel - The channel ID.
 * @param {object} data - The data to send to the main process.
 */
function broadcastOnIPC (channel, data) {
  pm.sdk.ipc.broadcast(channel, JSON.stringify(data));
}

module.exports = {
  attachIpcNode,
  startSubProcess,
  detachIpcNode,
  broadcastOnIPC,
  invokeOnIPC,
  detachIpcNodes
};
const { runTimeoutPromise } = require('./promise');
const { log } = require('../lib/logging');

/**
 * Attaches the IPCNode for communication with the sub process. If the sub process already has an IPCNode attached,
 * it detaches the existing IPCNode and attaches the new one. This is done to avoid multiple IPCNodes being attached
 * to the same sub process.
 *
 * @param {number|string} id - Id of the sub process
 * @param {string} source - Caller component for logging
 *
 * @returns {Promise<IPCNode>} - Promise that resolves with the IPCNode
 */
const _attachIPC = (id, source) => new Promise((resolve) => {
    const ipcNode = new pm.sdk.IPCNode(id, pm.logger);

    ipcNode.onConnect(() => {
      log.info(`${source} <> ${id} ~ ipc connection successfully established`);

      resolve(ipcNode);
    });

    ipcNode.onClose(() => {
      log.info(`${source} <> ${id} ~ ipc connection closed.`);
    });
  }),
  _invokeOnIPC = (ipcNode, target, parameters) => {
    if (!ipcNode) {
      const error = new Error('Couldn\'t communicate with the performance run execution system.');

      log.error('_invokeOnIPC: IPCNode not found', { error, target, parameters });

      throw error;
    }

    return ipcNode.invoke(target, parameters);
  },
  attachIPC = (id, source) => runTimeoutPromise(_attachIPC(id, source)),
  invokeOnIPC = (ipcNode, parameters) => runTimeoutPromise(_invokeOnIPC(ipcNode, 'invoke', parameters)),
  isAlive = async (ipcNode) => {
    if (!ipcNode) {
      const error = new Error('Invalid IPC node.');

      log.error('isAlive: IPCNode invalid.');

      throw error;
    }

    try {
      return await runTimeoutPromise(_invokeOnIPC(ipcNode, 'invoke', { method: 'isAlive' }), 2000);
    } catch (error) {
      log.warn('IPCNode is not alive', ipcNode.namedPipe);

      return false;
    }
  };

module.exports = {
  attachIPC,
  invokeOnIPC,
  isAlive
};
// Allow each operation to take up to 10 seconds
const DEFAULT_TIMEOUT = 10000;

/**
 * Wraps a promise with a timeout which rejects if the promise does not resolve within the specified timeout.
 *
 * @template T
 * @param {Promise<T>} promise - Promise to wrap
 * @param {Number} [timeout=DEFAULT_TIMEOUT] - Timeout in milliseconds
 * @param {Boolean} [logTimeoutAsError=false] - Whether to log the timeout as an error
 *
 * @returns {Promise<T>}
 */
function runTimeoutPromise (promise, timeout = DEFAULT_TIMEOUT, logTimeoutAsError = false) {
  let timeoutId;

  // Create error beforehand to capture the stack trace correctly. If we do it inside the timeout callback,
  // the stack trace will be incorrect and will indicate the timeout callback as the source of the error.
  const error = new Error(`Operation timed out after ${timeout} ms`);
  const timeoutPromise = new Promise((resolve, reject) => {
    timeoutId = setTimeout(() => {
      if (logTimeoutAsError) {
        pm.logger.error(`Promise operation timed out after ${timeout} ms`, { ...error, stack: error.stack, promise });
      }

      reject(error);
    }, timeout);
  });

  return Promise.race([promise, timeoutPromise]).then((result) => {
    clearTimeout(timeoutId);

    return result;
  });
}

module.exports = {
  runTimeoutPromise
};
/**
 * Returns a function that can be used to replace circular references in an object while stringifying it.
 *
 * @returns {function(*, *): *}
 */
const getReplacer = () => {
  // WeakSet is used to allow garbage collection of objects that are no longer referenced
  const seen = new WeakSet();

  return (key, value) => {
    if (typeof value === 'object' && value !== null) {
      if (seen.has(value)) {
        return;
      }
      seen.add(value);
    }
    return value;
  };
};

/**
 * Deserializes an object that was serialized with `serializeObject` function (a special function that preserves
 * undefined values in objects and arrays by replacing them with a `placeholder` string). The placeholder string
 * is passed as the second argument to this function and should be the same as the one used in `serializeObject`.
 *`
 * @param {object} value - Object to deserialize
 * @param [undefinedPlaceholder='___undefined___'] - Placeholder string that was used to replace `undefined` values
 * in the serialized object
 *
 * @returns {undefined|any} - Returns `undefined` if the value is `undefined` or the deserialized object
 */
function deserializeObject (value, undefinedPlaceholder = '___undefined___') {
  let obj;

  try {
    obj = JSON.parse(value);
  }
  catch (error) {
    pm.logger.error('ExecutionProcess~Failed to parse the given string into json');

    // TODO: Handle this error while calling runRunners
    throw error;
  }

  if (obj === undefinedPlaceholder) {
    return undefined;
  }

  /**
   * Function that walks through nested values and calls the callback for each value that is not an object or array.
   * The callback can modify the value, its parent and the key of the value in the parent. The changes will be
   * reflected in the original object. The callback can also return a value that will be used as the new value
   * of the current value.
   *
   * @param {any} value - Value to iterate
   * @param {function} callback - Callback function
   * @param {any} parent - Parent of the value
   * @param {string} key - Key of the value in the parent
   */
  function deepIterate (value, callback, parent, key) {
    if (typeof value === 'object' && value !== null) {
      Object.entries(value).forEach(([entryKey, entryValue]) =>
        deepIterate(entryValue, callback, value, entryKey)
      );
    } else if (Array.isArray(value)) {
      value.forEach((itemValue, itemIndex) =>
        deepIterate(itemValue, callback, value, itemIndex)
      );
    } else if (parent !== undefined) {
      callback(value, parent, key);
    }
  }

  /**
   * It will replace the placeholder string with `undefined` if the value is the placeholder string.
   */
  deepIterate(obj, (value, parent, key) => {
    if (value === undefinedPlaceholder) {
      parent[key] = undefined;
    }
  });

  return obj;
}

module.exports = {
  getReplacer,
  deserializeObject
};
const uuid = require('uuid');
const { log } = require('../../lib/logging');
const { sendEventOnIPC, subscribeOnIPC } = require('../../lib/communication');

/**
 * Token manager to manage the tokens for the authSessionIds. This will be responsible for refreshing the tokens
 * when they are expired and also for providing the access token for the authSessionId when requested.
 *
 * @type {TokenManager}
 */
module.exports = class TokenManager {
  _store = new Map(); // <authSessionId, { accessToken, timestamp, expiresIn, monitor }>
  _authSessionIdToCallbackMap = new Map();
  _refreshAPITokenTimeout = 60000; // 1 minute
  _dynamicTokenRefreshDurationPercentage = 0.9; // 90% of token expiry duration

  /**
   * Lifecycle method called when the execution system is booted up and IPC is established.
   *
   * It subscribes to the `oauth2-token-refreshed` event to refresh the token when it is refreshed.
   *
   * @returns {void}
   */
  onStartup = () => {
    subscribeOnIPC('oauth2-token-refreshed', (data) => {
      if (this._authSessionIdToCallbackMap.has(data.authSessionId)) {
        // refresh after 90% of the lifetime of the token is reached
        const { timestamp, expiresIn } = data,

          // Time elapsed since the token was refreshed last time, this will be difference of current time and the time
          // when the token was refreshed last time. This is to ensure that the token is refreshed after 90% of the
          // lifetime of the token is reached.
          msElapsedSinceRefresh = Math.max((new Date() - new Date(timestamp)), 0),

          // Time left before the token expires
          timeout = Math.max((expiresIn * 1000 * this._dynamicTokenRefreshDurationPercentage) - msElapsedSinceRefresh, 0);

        // Clear the previous monitor if any to avoid multiple monitors for the same authSessionId
        clearTimeout(this._store.get(data.authSessionId)?.monitor);

        this._store.set(data.authSessionId, {
          ...data,
          monitor: setTimeout(() => {
            // generating a random refreshID and not data.refreshId
            this.getOrFetchToken({ authSessionId: data.authSessionId, refreshId: uuid.v4(), forced: true });
          }, timeout)
        });

        // Resolve all the callbacks/promises for the authSessionId
        this._authSessionIdToCallbackMap.get(data.authSessionId).forEach((resolve) => {
          // resolve the promise with the new access token for the authSessionId that was refreshed
          // to continue the execution of the request
          resolve(data.accessToken);

          // remove the resolve from the set of callbacks for the authSessionId
          this._authSessionIdToCallbackMap.get(data.authSessionId).delete(resolve);
        });

        // remove the authSessionId from the map if there are no more callbacks for the authSessionId
        this._authSessionIdToCallbackMap.delete(data.authSessionId);
      }
      else {
        log.debug('[TokenManager] Got an authSession ID we haven\'t seen: ', data.authSessionId);
      }
    });
  }

  /**
   * Refreshes the token for the authSessionId if needed and returns the access token for the given ID.
   * If the token is already present in the store, it will return the token from the store. If the token is not
   * present in the store, it will request for a new token from the renderer process.
   *
   * @param {Object} options
   * @param {String} options.authSessionId - authSessionId for which the token is requested
   * @param {String} options.refreshId - refreshId for the token
   * @param {Boolean} [options.forced=false] - if the token needs to be refreshed forcefully
   *
   * @returns {Promise<String>} - access token for the authSessionId
   */
  getOrFetchToken = ({ authSessionId, refreshId, forced = false }) => new Promise((resolve) => {
    // if the token is already present in the store and the auth sessionId is not being processed, return the token
    if (this._store.has(authSessionId) && !this._authSessionIdToCallbackMap.get(authSessionId) && !forced) {
      const { accessToken } = this._store.get(authSessionId);

      resolve(accessToken);

      return;
    }

    const isAuthSessionIdBeingProcessed = this._authSessionIdToCallbackMap.has(authSessionId);

    if (isAuthSessionIdBeingProcessed) {
      // If the authSessionId is being processed, add the resolve to the set of callbacks for the authSessionId
      // Such that when the token is refreshed, all the callbacks for the authSessionId can be resolved with the
      // new access token and new refresh request is not sent to the renderer process for the same authSessionId.
      this._authSessionIdToCallbackMap.get(authSessionId).add(resolve);
    }
    else {
      // If the authSessionId is not being processed, add the resolve to the set of callbacks for the authSessionId
      // and set the set of callbacks for the authSessionId in the map.
      this._authSessionIdToCallbackMap.set(authSessionId, new Set([resolve]));
    }

    // If the token is not present in the store or the token is being refreshed forcefully, request for a new token
    // from the renderer process.
    if (forced || !isAuthSessionIdBeingProcessed) {
      // sends a message on IPC to renderer to refresh the token if needed
      sendEventOnIPC('refresh-oauth2-token', 'tokenManager', { authSessionId, refreshId });

      log.debug('[TokenManager] Requested for token refresh');
    }
  });

  /**
   * Returns the access token for the authSessionId and refreshId. If the token is not present in the store, it will
   * request for a new token from the renderer process and wait for the token to be refreshed.
   *
   * @param {Object} options
   * @param {String} options.authSessionId - authSessionId for which the token is requested
   * @param {String} options.refreshId - refreshId for the token
   *
   * @returns {Promise<{accessToken:string, refreshId:string}>} - access token and refreshId for the authSessionId
   */
  getToken = async ({ authSessionId, refreshId }) => {
    const accessToken = await this.getOrFetchToken({ authSessionId, refreshId });

    return { accessToken, refreshId };
  }

  /**
   * Resets the token manager by clearing the store and the map.
   *
   * @returns {void}
   */
  reset = () => {
    this._store.forEach((authDetails) => {
      authDetails.monitor !== undefined && clearTimeout(authDetails.monitor);
    });

    this._store.clear();
    this._authSessionIdToCallbackMap = new Map();
  }
};
/**
 * The WorkloadManager service is responsible for managing the lifecycle of one or more collection execution threads.
 * This is useful for features like the Collection Runner or Performance Testing where users are able to select one
 * or more requests to execute, and then execute them while still having the ability to use other parts of the app
 * or observe the execution as it's in progress. The actual execution happens outside of the main process.
 *
 * @TODO: What abstraction do we use to wrap around a group of scenarios? Do we even need to introduce the idea of
 * a scenario within this class or do we use something more traditional like "transaction"?
 */
const _ = require('lodash');
const system = require('../lib/system');
const { log } = require('../lib/logging');
const loadProfiles = require('./load-profile');
const Sequence = require('./Sequence');
const {
  WORKLOAD_STATES,
  DATAFILE_DISTRIBUTION_TYPES,
  DATAFILE_RANDOM_DISTRIBUTION
} = require('../ScenarioManager/constants');
const { broadcastOnIPC } = require('../sub-process-functions');
const { deserializeObject } = require('../utils/string');
const ResourceUtilizationQueue = require('./resource-utilization-queue');
const { getUtilizationConfigDelta } = require('./resource-utilization-tuner');
const { createError, CONSTANTS } = require('../lib/communication');
const SequenceTracker = require('./SequenceTracker');
const LoadProfile = require('./load-profile/LoadProfile');

const defaults = {
  // Load profiles are continuous functions but it's not necessary to continually evaluate them since fractional virtual
  // users can't exist. The (load) increment delay is the minimum time we wait for before evaluating the load profile
  // and deciding whether or not to add or remove virtual users. Decreasing this value will follow the load profile more
  // closely at the cost of some additional compute. Extremely small values are probably unnecessary and won't improve
  // the product experience much so this should hover around 1s at the very least.
  incrementDelayMs: 2000,

  // The time to wait between consecutive executions of a scenario by a single sequence/VU. This can be used to tune the
  // density of the generated load profile by controlling the relationship between VUs and request throughput. A smaller
  // sleep time will lead to a higher requests throughput but can add significant compute and network load in doing so.
  // Sleep times ranging from 100ms to 2000ms are probably reasonable, though either of the spectrum becomes
  // increasingly questionable.
  sleepTimeMs: 100,

  // The time before the end of the workload during which additional scenarios (and by extension, sequences) should not
  // be started. We're assuming that a scenario takes some time to complete and starting a scenario too close to the end
  // of the workload will consume system resources without generating any value. This should be a relatively small value
  // since we're really only accounting for small scenarios. This is unlikely to have much of an impact on long-running
  // workloads or long-running scenarios.
  deadZoneMs: 1000,

  // The time we allow for scenarios to gracefully finish after a workload has technically run for the configured
  // duration. Since there is not limit on the execution time of a single scenario, it's entirely possible for one or
  // more scenarios to continue executing well beyond the configured duration of a workload. The grace period allows
  // some flexibility to allow this by also enforces an absolute maximum duration beyond which scenarios and sequences
  // will be forcibly terminated.
  gracePeriodMs: 5000,

  // The time we allow for scenarios to gracefully finish after a scenario has been requested to do so.
  // The grace period allows some flexibility to allow this, but also enforces an absolute maximum duration
  // beyond which scenarios and sequences will be forcibly terminated.
  sequenceGracePeriod: 2000,

  // Number of resource utilization measurements to depend upon to make decisions about the configs.
  // This number is not set in stone, we can change based on requirement in future.
  resourceUtilObservationCount: 5,

  // The maximum time duration between scenarios, where the process sleeps. We have noticed drop in request
  // throughput beyond the 2000ms limit.
  maxSleepTimeMs: 2000,

  // The minimum time duration between scenarios, where the process sleeps.
  minSleepTimeMs: 100
};

/**
 * Parses the options passed to the WorkerManager and returns a parsed object.
 * @param {{serialized: Object, unSerialized: Object}} context - Context for the WorkloadManager
 */
const parseContext = (context) => {
  const parsedContext = { ...context.unSerialized };
  const serializedContext = context.serialized;

  for (const key in serializedContext) {
    parsedContext[key] = deserializeObject(serializedContext[key]);
  }

  return parsedContext;
};

module.exports = class WorkloadManager {
  dataFileConfig = null;

  /**
   * Creates a new instance of the WorkloadManager which can be used for the duration of the execution. Multiple
   * executions can occur in parallel, and each execution goes through a specific lifecycle:
   *   - `start`: A request to start an execution has been received. Acquire/transform data necessary to execute? What
   *     data should this receive when being invoked and what should it fetch on its own?
   *   - `running`: "Event loop" is running.
   *   - `finished`: Any cleanup activities.
   *
   * @TODO Collection/environment parameters may have to be serialized objects instead of IDs. We need to determine that
   * based on how the main/renderer processes are implemented.
   *
   * @TODO: Does the WorkloadManager need to be aware of what's happening within each scenario?
   *
   * @param  {Object} params
   * @param  {Array} params.sequence - A set of request or Item (as defined by postman-collection) IDs representing
   *                                   the series of requests to be executed.
   * @param  {Object} params.context
   * @param  {[String]} params.context.collection - The collection ID. This is an array for now to support multiple
   *                                                collections in the future.
   * @param  {String} params.context.environment - The environment ID.
   * @param  {Object} params.options
   * @param  {String} params.options.loadProfile - POJO representation of selected load profile which is the return
   *                                               value of LoadProfile base class `toObject` method
   *                                               (xMax is duration of this execution in minutes, yMax is max VUs)
   */
  constructor ({ sequence, context: rawContext, options }) {
    const context = parseContext(rawContext);

    // Validate the inputs before we do absolutely anything
    // @TODO: Consolidate and expand this validation logic elsewhere and invoke instead of having it inline.
    if (!options.loadProfile || !options.loadProfile.id || !loadProfiles[options.loadProfile.id]) {
      throw new Error(`Valid load profile selection is required, but got ${options.loadProfile.id}.`);
    }

    // A unique ID, to be used *within this session*, to reference this instance of the WorkloadManager.
    // This is being generated in newman-api and being passed down to the WorkloadManager.
    this.workloadId = options.id;

    this.config = Object.assign({}, defaults, {
      ...options,
      loadProfile: options.loadProfile,
      durationMs: options.loadProfile.xMax,
      collection: context.collection,
      requestSelection: context.requestSelection,
      environment: context.environment || null,
      globals: context.globals || null,
      isTransient: options.isTransient,
      runtimeOptions: options.runtimeOptions || {}, // Refer TODO above about merging with default config
    });

    if (context.dataFileConfig) {
      this.setDataFileConfig(context.dataFileConfig);
    }

    // @TODO: Consolidate these under something that can represent the current state of this WorkloadManager instance.
    this.eventLoopTimeout = null;
    this.startTime = null;
    this.executionId = this.workloadId;
    this.executionContext = { executionContextId: this.workloadId };
    this.runOngoing = false;
    this.deadzoneThresholdMs = this.config.durationMs - this.config.deadZoneMs;
    this.gracefulDurationMs = this.config.durationMs + this.config.gracePeriodMs;
    this.sequences = new Set();
    this.sequenceIdMap = new Map();
    this.currentSleepDuration = defaults.sleepTimeMs;
    this.lastCreatedSequenceIndex = null;

    // Using an array and not a set here to maintain the order in which the sequences were stopped
    // and to use the same order when re-using the indexes available
    this.usableSequenceIndexes = [];

    // Print platform specs again such that if the logs are rotated on the machine, last run start event can convey
    // the platform specs.
    system.getPlatformSpecs().then((data) => {
      pm.logger.info('System Information', data);
    });

    this.resourceUtilizationQueue = new ResourceUtilizationQueue(defaults.resourceUtilObservationCount);

    this.trackers = [];
  }

  /**
   * @type {WORKLOAD_STATES} - The current state of the WorkloadManager.
   */
  state = WORKLOAD_STATES.IDLE;

  init = async () => {
    this.state = WORKLOAD_STATES.WARMING_UP;

    // Initialize the process manager, such that all the workers are ready to execute scenarios and pools are
    // maintained along with IPC channels to communicate with the workers.

    try {
      pm.logger.info(`[WorkloadManager][${this.workloadId}] Init initializing`);

      await system.invoke('scenarioManager', {
        method: 'init',
        args: [this.config.loadProfile.yMax]
      });

      this._setState(WORKLOAD_STATES.READY);

      log.debug(`[WorkloadManager][${this.workloadId}] Workload is ready to start run`);
    }
    catch (error) {
      pm.logger.error(`[WorkloadManager][${this.workloadId}] Error initializing: `, error);

      // cleanup and enter error state, so that it can be retried
      // TODO: Change this to use system.invoke instead of using globals directly.
      await global.SUBSYSTEM_REGISTER.private.scenarioManager.kill();

      this._setState(WORKLOAD_STATES.ERROR, error);
    }
  };

  _setState = (state, error = null) => {
    if (Object.values(WORKLOAD_STATES).includes(state) && state !== this.state) {
      this.state = state;
      const workloadError = error ? {
        name: error.name,
        message: error.message
      } : null;

      // TODO: Refactor the data payload once we have uniform structure for all the events.
      broadcastOnIPC('workload-state-change', {
        id: this.workloadId,
        state: this.state,
        error: workloadError
      });
    }
  };

  /**
   * Function to get an integer ID to be given to a Sequence object. It tries to fetch
   * an ID from a pool called `usableSequenceIndexes`. If the pool is empty, it returns
   * an incremented value that tracks the highest value of sequence-index used so far.
   *
   * @returns {number} - The sequence index to be used as the ID which creating sequences
   */
  getSequenceIndex = () => {
    if (this.usableSequenceIndexes.length > 0) {
      return this.usableSequenceIndexes.shift();
    }

    else {
      return this.lastCreatedSequenceIndex++;
    }
  };

  /**
   * The Workload event loop runs continuously once an execution has started and ensures that:
   *
   *   - the number of sequences executing in parallel adheres to the selected load profile
   *   - the duration of the Workload is respected, taking into account parameters like the gracePeriod and deadZone.
   *
   * It does so by ticking at specific intervals, controlled by the incrementDelay config parameter. The incrementDelay
   * effectively places a limit on the maximum resolution at which the load profile is evaluated.
   *
   *                                                         Duration (as specified by user)
   *                                                         
   *  
   *                                                                  
   *  Start                                  Deadzone Threshold    Grace Period
   *
   *   Start sequences, to fit load profile  No new 
   *                                                       sequences       
   *                                                                       
   *                                                                    Forcibly kill
   *                                                                    running sequences
   */
  async workloadEventLoop () {
    const tickTime = new Date();

    // If elapsed time is 0 set it to 1ms.
    // Since the incrementDelay is 2s, if we get the elapsed time as 0 then no sequences will be started
    // in the first tick. This will lead to a delay of 2s in starting the scenarios. This is not desirable
    // and hence we are setting the elapsed time to 1ms.
    const elapsedMs = (tickTime - this.startTime) <= 0 ? 1 : (tickTime - this.startTime);

    // Record the system utilization and store them in queue without blocking the event loop
    system.getUsageStats()
      .then(this.resourceUtilizationQueue.enqueue)
      .catch((err) => log.error(
        `WorkloadManager[${this.workloadId}] Error while getting system utilization`,
        err.toString(),
        err.stack
      )
      );

    // If resource utilization measurement queue is full, update sleep duration
    if (this.resourceUtilizationQueue.isFull()) {
      this.updateSleepDuration();
    }

    // No new scenarios should be triggered if we're past the dead zone threshold,
    // since we're nearing the end of the Workload duration.
    if (elapsedMs < this.deadzoneThresholdMs) {
      const actualSequenceCount = this.sequences.size;
      const desiredSequenceCount = LoadProfile.evaluate({
        loadProfile: this.config.loadProfile,
        elapsedMs
      });

      let totalTracked = 0;

      for (const tracker of this.trackers) {
        totalTracked += tracker.target;
      }

      const sequenceDelta = desiredSequenceCount - actualSequenceCount + totalTracked;

      if (sequenceDelta > 0) {
        for (let member = 1; member <= sequenceDelta; member++) {
          const sequence = new Sequence({
            workloadSequenceIndex: this.getSequenceIndex(),
            sequence: this.config.collection,
            environment: this.config.environment,
            globals: this.config.globals,
            requestSelection: this.config.requestSelection,
            runOptions: this.config.runtimeOptions,
            executionContext: this.executionContext,
            getSleepDuration: () => { return this.getSleepDuration(); }, // We need closure here to maintain the scope.
            sequenceFinishCallback: this.sequenceFinishCallback.bind(this),
            sequenceOptions: {
              sequenceGracePeriod: this.config.sequenceGracePeriod
            }
          });

          this.sequences.add(sequence);
          this.sequenceIdMap.set(sequence.id, sequence);

          await sequence.start();
        }
      }
      else if (sequenceDelta < 0) {
        const tracker = new SequenceTracker(-sequenceDelta, this.config.gracePeriodMs, this.abortSequences.bind(this));

        this.trackers.push(tracker);
      }

      // Set the current VU count in the metric store
      await system.invoke('metricsProcessor', {
        method: 'processSetVUCount',
        args: [{
          executionContext: this.executionContext,
          currentVuCount: desiredSequenceCount,
        }]
      });
    }

    if (elapsedMs < this.gracefulDurationMs) {
      // @TODO: How do we reliably bail out if the event loop encounters a failure condition? Should we set a top-level
      // timeout as well to guard against that?

      // Check if there are any sequences still running scenarios. If there are, let them continue since we're still
      // within the grace period. If there are no sequences running scenarios at all then we can can stop early.
      if (elapsedMs >= this.deadzoneThresholdMs) {
        // all the scenarios have completed
        if (this.sequenceIdMap.size === 0) {
          log.debug(`WorkloadManager[${this.workloadId}] All scenarios have completed, stopping execution`);
          this.stop(WORKLOAD_STATES.FINISHED);
        }
        else {
          // this is where we need to let the sequences know that they should not start any new scenario executions
          log.debug(`WorkloadManager[${this.workloadId}] Duration has exceeded deadzone threshold, stopping new scenarios`);

          for (let [sequenceId, sequence] of this.sequenceIdMap) {
            sequence.stopNewScenarios();
          }

          this._setState(WORKLOAD_STATES.FINISHING);
        }
      }

      // As long as we're within the grace period and no condition for stopping has been encountered, we can schedule
      // the next tick of the event loop.
      if (this.runOngoing) {
        this.eventLoopTimeout = setTimeout(this.workloadEventLoop.bind(this), this.config.incrementDelayMs);
      }
    }
    else {
      // At this point we need to kill all the sequences that are still running scenarios
      // TODO: This will kill ALL the sequences started, we need to remove the sequences that have completed from the Map
      // all the scenarios have completed
      // As of now, we are killing all the sequences. In future, we need to kill only the sequences that are belonging
      // to a particular execution context
      log.debug(`WorkloadManager[${this.workloadId} Duration has exceeded grace period, stopping execution`);
      this.stop(WORKLOAD_STATES.FINISHED);

      // Since no longer relevant, we will kill the queue
      this.resourceUtilizationQueue.clear();
    }
  }

  sequenceFinishCallback (sequenceId, state) {
    // It is possible that the first tracker exhausted its grace period, force-stopped
    // the remaining Sequences and set its target to 0. So, we'll need to find a tracker
    // whose target is a positive number and keep clearing the ones that are done.
    while (this.trackers.length > 0 && this.trackers[0].target === 0) {
      this.trackers.shift();
    }

    if (state !== 'aborted') {
      if (this.trackers.length > 0) {
        this.trackers[0].countDown();

        if (this.trackers[0].target === 0) {
          this.trackers.shift();
        }
      } else {
        return false;
      }
    }

    // Preserve the index of the sequence that will be removed, to reuse if a new sequence is added later
    this.usableSequenceIndexes.push(this.sequenceIdMap.get(sequenceId).workloadSequenceIndex);

    // Delete the records of the sequence from the set and the map
    this.sequences.delete(this.sequenceIdMap.get(sequenceId));
    this.sequenceIdMap.delete(sequenceId);

    return true;
  }

  /**
   * Aborts the given number of sequences by aborting the runs in whichever point
   * of execution they are in.
   *
   * @param {number} count - The number of sequences to stop
   */
  async abortSequences (count = 0) {
    if (this.sequences.size > 0) {
      const sequences = Array.from(this.sequences.values()).filter((seq) => !seq.sequenceCompleted).slice(0, count);
      for (let sequence of sequences) {
        await sequence.abortScenario();
      }
    }
  }

  /**
   * This returns the sleep delay based on current config, and resource utilization.
   *
   * @returns {Number}
   */
  getSleepDuration () {
    return this.currentSleepDuration;
  }

  /**
   * This function updates the sleep delay based on current config, and resource utilization.
   */
  updateSleepDuration () {
    const { sleepDuration: sleepDurationDelta } = getUtilizationConfigDelta({
      resourceUtilizationMetrics: this.resourceUtilizationQueue?.values,
      currentConfigs: { sleepDuration: this.currentSleepDuration }
    });

    let resultingSleepDuration = this.currentSleepDuration + sleepDurationDelta;

    // Ensure we update sleep duration to a valid value.
    if (resultingSleepDuration > defaults.maxSleepTimeMs) {
      resultingSleepDuration = defaults.maxSleepTimeMs;
    }
    else if (resultingSleepDuration < defaults.minSleepTimeMs) {
      resultingSleepDuration = defaults.minSleepTimeMs;
    }

    this.currentSleepDuration = resultingSleepDuration;

    // If we have changed the sleep duration value, we will clear the queue
    if (sleepDurationDelta !== 0) {
      this.resourceUtilizationQueue.clear();
    }
  }

  /**
   * Stops the workload run and puts it in the state provided
   *
   * @param {string} finalState: The state that the workload manager needs to be moved to
   */
  async stop (finalState = WORKLOAD_STATES.STOPPED) {
    if (![WORKLOAD_STATES.RUNNING, WORKLOAD_STATES.TERMINATING, WORKLOAD_STATES.FINISHING].includes(this.state)) {
      log.debug('[WorkloadManager] Stop attempted when the workload is not running');
      return;
    }

    this.runOngoing = false;
    this.eventLoopTimeout && clearTimeout(this.eventLoopTimeout);

    if (this.sequenceIdMap.size > 0) {
      await Promise.all(Array.from(this.sequenceIdMap.values()).map((sequence) => sequence.abortScenario()));
    }

    // @TODO: The WorkloadManager shouldn't be directly aware of scenarios, but it should signal the Sequence instead.
    await system.invoke('scenarioManager', { method: 'stop' });

    if (!this.finishTime) {
      // send an event so that anybody waiting for the end of the workload is notified
      this.finishTime = new Date();
    }

    log.debug('[WorkloadManager] ScenarioManager was stopped');

    system.releasePowerSaver();

    this._setState(finalState);
  }

  /**
   * Terminates the execution of the WorkloadManager. This will be called within system when the test execution encounters
   * an error which the system will not be able to recover from and test results are degraded because of that error.
   *
   * @returns {Promise<void>}
   */
  async terminate () {
    log.info(`WorkloadManager[${this.workloadId}] Terminating execution`);

    // Set the state to terminating, until the termination is completed
    this._setState(WORKLOAD_STATES.TERMINATING);

    await this.stop(WORKLOAD_STATES.TERMINATED);
  }

  /**
   * This will be called when the Workload is being destroyed. This is the place to do any cleanup work that needs to be
   * done before the Workload is removed from memory.
   */
  destroy = async () => {
    // clear off all the sequence trackers after the workload is destroyed
    this.trackers = [];

    // TODO: Add clean up for listeners of workload manager and all the sequences
    // Reset token manager if that was associated with this workload instance
    await system.invoke('tokenManager', {
      method: 'reset',
      args: [this.workloadId]
    });
  };

  /**
   * Recovers a workload from any error states
   */
  recover = () => {
    log.info(`[WorkloadManager][${this.workloadId}] Workload is being recovered`);
    return this.init();
  };

  get workloadMetadata () {
    return {
      ...this.config,
      requestSelection: this.config.requestSelection,
      loadProfile: this.config.loadProfile.id, // this contains the name of the profile: constant, ramp etc.
      duration: this.config.durationMs,
      maxVUs: this.config.loadProfile.yMax,
      runtimeOptions: this.config.runtimeOptions,
      startTime: this.startTime,
      finishTime: this.finishTime
    };
  }

  /**
   * Starting a new workload is mostly a bookkeeping activity. The meat of the business logic is handled by the event
   * loop. This method then only needs to do some data wrangling and trigger the initial set of scenario executions.
   */
  async start () {
    pm.logger.info(`WorkloadManager[${this.workloadId}] ~ About to start the workload run`);
    this._setState(WORKLOAD_STATES.STARTING);

    pm.logger.info(`WorkloadManager[${this.workloadId}] ~ Preventing power saver from kicking in`);
    system.preventPowerSaver(this.gracefulDurationMs);

    // @TODO: Add validation steps before starting the Workload.
    this.startTime = new Date();
    this.runOngoing = true;

    pm.logger.info(`WorkloadManager[${this.workloadId}] ~ Listening to events of sequences completing`);

    // Kick off the Workload's event loop. This will adjust the state of the workload every interval to keep it close
    // to the load profile.
    pm.logger.info(`WorkloadManager[${this.workloadId}] ~ Entering the event-loop of the workload`);
    this.workloadEventLoop();

    pm.logger.info(`WorkloadManager[${this.workloadId}] ~ Setting the WLM state to RUNNING`);
    this._setState(WORKLOAD_STATES.RUNNING);
  }

  /**
   * Clean up subscriptions and other resources.
   */
  onDestroy = () => {
    // TODO: Implement
  };

  async handleExecutorResponse (executorResponse) {
    const { sequenceId } = executorResponse.executionContext;

    if (this.sequenceIdMap.has(sequenceId)) {
      await this.sequenceIdMap.get(sequenceId).handleExecutorCallback(executorResponse);
    }
    else {
      pm.logger.info(`WorkloadManager[${this.workloadId}] Sequence completed, not handling the executor response`, sequenceId);
    }
  }

  async processSequenceEvents (sequenceEvent) {
    log.info(`Received sequence event, sequenceEvent.state: ${sequenceEvent.state}, sequenceEvent.sequenceId: ${sequenceEvent.sequenceId}`);

    if (sequenceEvent.state === 'completed') {
      log.debug(`WorkloadManager[${this.workloadId}] ~ Sequence ${sequenceEvent.sequenceId} completed`);

      if (!this.sequenceIdMap.has(sequenceEvent.sequenceId)) {
        log.debug(`WorkloadManager[${this.workloadId}] ~ Sequence ${sequenceEvent.sequenceId} does not exist`);

        return;
      }

      // Preserve the index of the sequence that will be removed, to reuse if a new sequence is added later
      this.usableSequenceIndexes.push(this.sequenceIdMap.get(sequenceEvent.sequenceId).workloadSequenceIndex);

      this.sequences.delete(this.sequenceIdMap.get(sequenceEvent.sequenceId));
      this.sequenceIdMap.delete(sequenceEvent.sequenceId);
    }
  }

  /**
   * Sets the data file configuration for the workload.
   *
   * @param {object} dataFileConfig - Data file configuration.
   *
   * @throws {Error} - If data file config is already set or if data file config is not valid.
   *
   * @returns {void}
   */
  setDataFileConfig (dataFileConfig) {
    if (this.dataFileConfig) {
      createError({
        error: new Error('Data file config is already set'),
        message: 'Data file config is already set',
        source: `WorkloadManager[${this.workloadId}]`,
        severity: CONSTANTS.SEVERITY.ERROR,
        subsystem: 'WORKLOAD_MANAGER',
        broadcast: false
      });
    }

    validateDataFileConfiguration(dataFileConfig);

    this.dataFileConfig = dataFileConfig;
  }

  /**
   * Returns the data for the sequence based on the distribution type.
   *
   * Called via common invocation system from the Sequence.
   *
   * @param {number} [VUIndex] - Index of the sequence.
   *
   * @returns {VUData} - Data for the sequence or scenario.
   */
  getDataForScenario = (VUIndex) => {
    if (!this.dataFileConfig) {
      return null;
    }

    if (!Array.isArray(this.dataFileConfig.contents) || !this.dataFileConfig.contents.length) {
      return null;
    }

    let sliceIndices = [];

    const { distributionType, contents } = this.dataFileConfig;

    if (distributionType === DATAFILE_DISTRIBUTION_TYPES.ORDERED && VUIndex < contents.length) {
      sliceIndices = [VUIndex];
    }
    else if (distributionType === DATAFILE_DISTRIBUTION_TYPES.RANDOM) {
      // Pick random indexes from the data file contents array
      sliceIndices = _.sampleSize(_.range(contents.length), DATAFILE_RANDOM_DISTRIBUTION.SAMPLE_SIZE);
    }

    return {
      // Create an array of objects from contents based on the sliceIndices
      data: sliceIndices.map((rowIndex) =>
        Object.entries(contents[rowIndex]).map(([key, value]) => ({ key, value }))
      ),
      keys: Object.keys(contents[0]),
      vuId: VUIndex,
      sliceIndices,
      randomize: distributionType === DATAFILE_DISTRIBUTION_TYPES.RANDOM
    };
  };
};

/**
 * Validates the data file configuration.
 *
 * @param {object} dataFileConfig - Data file configuration.
 *
 * @throws {Error} - If data file config is not valid.
 *
 * @returns {void}
 */
function validateDataFileConfiguration (dataFileConfig) {
  let error;

  if (!dataFileConfig) {
    error = new Error('Data file config is not provided');
  }
  else if (!dataFileConfig.distributionType) {
    error = new Error('Data file distribution type is not provided');
  }
  else if (!dataFileConfig.contents) {
    error = new Error('Data file contents are not provided');
  }
  else if (!Object.values(DATAFILE_DISTRIBUTION_TYPES).includes(dataFileConfig.distributionType)) {
    error = new Error(`Data file distribution type should be either ${Object.values(DATAFILE_DISTRIBUTION_TYPES).join(' or ')}`);
  }
  else if (!Array.isArray(dataFileConfig.contents) || !dataFileConfig.contents.length) {
    error = new Error('Data file contents should be a non-empty array');
  }

  if (error) {
    createError({
      error,
      message: error.message,
      source: `WorkloadManager[${this.workloadId}]`,
      severity: CONSTANTS.SEVERITY.ERROR,
      subsystem: 'WORKLOAD_MANAGER',
      broadcast: false
    });
  }
}

const LoadProfile = require('./LoadProfile');

const { toMinutes } = require('./utils');

/**
 * This load profile represents a constant load over the entire duration:
 *
 *  
 *  
 *  
 *  xx maxLoad
 *  
 *  
 *
 * The x's represent the control points necessary to describe this load profile.
 */
class Constant extends LoadProfile {
  static get id () { return 'fixed'; }
  static get name () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:constant.name') : 'Fixed';
  }
  static get defaultControlPoints () {
    return [
      {
        id: 'initial',
        time: {
          value: 0,
          anchor: 'initial'
        },
        load: {
          value: 1,
          anchor: 'initial'
        }
      },
      {
        id: 'final',
        time: {
          value: 1,
          anchor: 'final'
        },
        load: {
          value: 1,
          anchor: 'initial'
        }
      }
    ];
  }

  // Originally named Constant, but renamed to Fixed later on because it was easier for users to understand
  get shorthand () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:constant.shorthand') : 'Fixed';
  }
  get description () {
    const vuCount = this.yMax;
    const totalDurationMins = toMinutes(this.xMax);
    const pluralizedUsers = `user${this.yMax === 1 ? '' : 's'}`;
    const pluralizedMinutes = `minute${this.xMax === 1 ? '' : 's'}`;
    const parallelismClause = `${vuCount === 1 ? '' : ', in parallel,'}`;

    const i18n = LoadProfile.getI18N();

    if (i18n) {
      return i18n.t('load-profile:constant.description', {
        virtualUserCount: vuCount,
        totalDurationMins
      });
    }

    return `${vuCount} virtual ${pluralizedUsers} run for ${totalDurationMins} ${pluralizedMinutes}, each executing all requests sequentially.`;
  }
}

module.exports = Constant;
/**
 * A load profile completely encapsulates everything necessary to formally and qualitatively describe a changing
 * quantity over time. Refer to the LoadProfile base class for more information.
 *
 * Additional load profiles can be added by extending the LoadProfile base class and adding it to the list of exports
 * in this file.
 */

[
  require('./constant'),
  require('./ramp'),
  require('./spike'),
  require('./peak'),
].forEach((profile) => module.exports[profile.id] = profile);
// This is an exceptional case where we only want to import the part of the module that's absolutely necessary
// because this needs to be imported outside of `main` to support rendering the load profiles in the GUI. This can be
// removed if:
//   - node version is bumped to v17+, at which point `structuredClone` can be used and this import can be removed.
//   - The 3500 KB size limit on the vendor chunk is increased to give a 20 KB buffer.
// eslint-disable-next-line lodash/import-scope
const cloneDeep = require('lodash/cloneDeep');
const { marginByDuration } = require('./utils');

const MIN_TO_MS = 60 * 1000;

/**
 * Abstract class for load profiles. Load profiles are used to describe the expected load over the duration of a
 * performance test. Load profiles are used by the Workload Manager to generate the load curve.
 *
 * Each load profile should implement the following:
 *  - An `id` to uniquely identify the profile.
 *  - A `name` to uniquely identify the profile for human presentation.
 *  - A `shorthand` getter which returns a string representation of the load profile.
 *  - A `controlPoints` property which is an array of control points.
 *  - A `validator` method which validates the control points of the load profile.
 *  - An `evaluate` method which evaluates the load profile at a given time.
 *
 * A load profile can only be composed of straight lines, so we can completely characterize the curve using just the
 * vertices. Each vertex is a "control point" and its position in a unit square is described by "time" on the x-axis
 * and "load" on the y-axis. Each control point can have additional attributes as well to fully encapsulate all
 * information necessary to represent the control point(s) accurately. A ControlPoint has the following schema:
 *
 * {
 *   id: String; Unique within this group of control points
 *   time: {
 *     value: Number; Between 0 and 1, inclusive.
 *     anchor: String; A reference to this or another ControlPoint "id", indicating that this time is not
 *       independently controllable but is bound to the value of another control point, if the anchor is the "id" of
 *       another control point, or to the initial value of this control point, if the anchor is the "id" of this
 *       control point.
 *     name: [String]; A user-friendly reference to this control point.
 *     description: [String]; A user-friendly description of what this control point represents, in the context of the
 *       load profile.
 *     margin: [Boolean]; Whether or not this control point should maintain a margin from the following control point,
 *       along the time dimension.
 *   }
 *   load: {
 *     value: Number; Between 0 and 1, inclusive.
 *     anchor: String; Refer description of anchor above.
 *     name: [String]; A user-friendly reference to this control point.
 *     description: [String]: A user-friendly description of what this control point represents, in the context of the
 *       load profile.
 *   }
 * }
 *
 * @abstract
 * @class LoadProfile
 */
class LoadProfile {
  static i18n = null;

  constructor (xMax, yMax) {
    this.xMax = xMax;
    this.yMax = yMax;

    // The default control points are immutable, so create a deep clone within this instance instead of a reference.
    this.controlPointsTemplate = cloneDeep(this.constructor.defaultControlPoints);
  }

  static initialize (i18n) {
    LoadProfile.i18n = i18n;
  }

  static isI18NLoaded () {
    if (!LoadProfile.i18n) {
      return false;
    }

    if (
      typeof LoadProfile.i18n.hasLoadedNamespace !== 'function' ||
      !LoadProfile.i18n.hasLoadedNamespace('load-profile')
    ) {
      return false;
    }

    return true;
  }

  static getI18N () {
    return LoadProfile.isI18NLoaded() ? LoadProfile.i18n : null;
  }

  /**
   * Evaluates the load profile at a given time.
   *
   * @param {Object} options - The options to evaluate the load profile.
   * @param {Object} options.loadProfile - The load profile POJO containing all the data about the load profile.
   * @param {Number} options.elapsedMs - The elapsed time in milliseconds.
   *
   * @returns {Number} - The load at the given time.
   */
  static evaluate = ({ loadProfile, elapsedMs }) => {
    if (typeof elapsedMs !== 'number') {
      throw new TypeError('elapsedMs should be a number');
    }

    if (elapsedMs < 0) {
      throw new RangeError('elapsedMs should be greater than or equal to 0');
    }

    // TODO: Maybe change the below two checks be made while setting those values
    if (this.xMax <= 0) {
      throw new RangeError('Duration should be greater than 0');
    }

    if (this.yMax <= 0) {
      throw new RangeError('Max load should be greater than 0');
    }

    if (elapsedMs > loadProfile.xMax) {
      throw new RangeError('elapsedMs should be less than or equal to run duration');
    }

    const [sourcePoint, targetPoint] = findPoints(loadProfile.controlPoints, elapsedMs);

    const slope = ((targetPoint.load.value - sourcePoint.load.value) /
      ((targetPoint.time.value - sourcePoint.time.value)));
    const timeSinceLastPoint = elapsedMs - (sourcePoint.time.value);

    return Math.round(sourcePoint.load.value + (slope * timeSinceLastPoint)) || 0;
  }

  /**
   * A globally unique identifier for this load profile.
   *
   * @return {string}
   */
  get id () {
    return this.constructor.id;
  }

  /**
   * A user-friendly, globally unique name for this load profile.
   *
   * @return {string}
   */
  get name () {
    return this.constructor.name;
  }

  /**
   * The control points describing a load profile cannot be directly manipulated. This method returns a cloned
   * equivalent of this LoadProfile's internal representation of its control points.
   *
   * @type {ControlPoint[]} A set of control points describing this load profile, in chronological order.
   */
  get controlPoints () {
    const clonedControlPoints = cloneDeep(this.controlPointsTemplate);

    return clonedControlPoints.map((cp) => {
      cp.time.value = Math.round(this.xMax * cp.time.value);
      cp.load.value = Math.round(this.yMax * cp.load.value);

      return cp;
    });
  }

  /**
   * Given the "id" of a single control point in this load profile, modify the corresponding "load" value.
   *
   * @param {Object} options
   * @param {string} options.id - The "id" of the control point for which the "value" is to be set.
   * @param {number} options.value - The value to be set, in scaled terms. This will be scaled down to a unit square
   *                                 internally.
   */
  setLoadValue ({ id, value }) {
    // First sanitize the input by:
    //  - Clamping it within the valid range for load values -- between 0 and the maximum load, yMax
    //  - Binning it to the nearest integer.
    const clampedValue = clampInt(0, value, this.yMax);
    const binnedValue = Math.round(clampedValue);
    const unitValue = binnedValue / this.yMax;

    // A single load value can apply to more than one control point -- the primary one being modified and also others
    // with loads anchored to the primary control point's load. Find all relevant control points to be modified before
    // applying changes.
    const thisControlPoint = this.controlPointsTemplate.find((cp) => cp.id === id);
    const anchoredSiblings = this.controlPointsTemplate.filter((cp) => cp.load.anchor === id);

    // If a control point is anchored to its own load value, it cannot be modified. This should never happen in
    // practice since inputs shouldn't be accepted in the first place, but better safe than sorry.
    if (typeof thisControlPoint.load.anchor !== 'undefined') {
      return;
    }

    for (const controlPoint of [thisControlPoint, ...anchoredSiblings]) {
      controlPoint.load.value = unitValue;
    }
  }

  /**
   * Given the "id" of a single control point in this load profile, modify the corresponding "time" value. This method
   * does so after sanitizing the input: clamping to between the previous and next point, binning to whole integers.
   *
   * Control points are clamped to the previous & next point in the time dimension, unlike along the load dimension.
   *
   * @param {Object} options
   * @param {string} options.id - The "id" of the control point for which the "value" is to be set.
   * @param {number} options.value - The value to be set, in scaled terms. This will be scaled down to a unit square
   *                                 internally.
   */
  setTimeValue ({ id, value }) {
    // First sanitize the input by:
    //  - Clamping it within the valid range for load values -- between the times of previous and next control points.
    //    This is different from loads because of adjacency -- controls points must maintain chronological order
    //    within the array.
    //  - Binning it to the nearest integer.
    const thisIndex = this.controlPointsTemplate.findIndex((cp) => cp.id === id);
    const thisPoint = this.controlPointsTemplate[thisIndex];
    const margin = marginByDuration(this.xMax);

    const xMin = (() => {
      const previousPoint = this.controlPointsTemplate[thisIndex - 1];
      const defaultBound = previousPoint?.time.value || 0;
      const marginCountFromThisPoint = thisIndex > 0 ? this.controlPointsTemplate.slice(thisIndex - 1)
        .filter((cp) => cp.time?.margin).length : 0;

      let scaledBound = defaultBound * this.xMax;

      // Adjust the minimum bound if the previous control point expects a margin to be maintained. The default margin
      // to be maintained is one scaled unit, until otherwise necessary. This control point can't exceed xMax even with
      // the margin included, so the minimum bound doesn't need to be adjusted if it's already within 1 unit of xMax.
      if (previousPoint?.time.margin === true) {
        // We do not have the room to fit all the points with margins beyond this point, so move the previous point
        // using a recursive call to adjust the time of the points before that. Since it is recursive, this call will
        // take care of moving any other points before it, to make the necessary room.
        if (scaledBound > (this.xMax - (margin * marginCountFromThisPoint))) {
          this.setTimeValue({ id: previousPoint.id, value: this.xMax - (margin * marginCountFromThisPoint) });

          scaledBound = this.xMax - (margin * marginCountFromThisPoint);
        }

        scaledBound += margin;
      }

      return scaledBound;
    })();

    let xMax = (() => {
      const nextPoint = this.controlPointsTemplate[thisIndex + 1];
      const defaultBound = nextPoint?.time.value || 1;
      let scaledBound = defaultBound * this.xMax;

      // Adjust the maximum bound if this control point expects a margin to be maintained. The default margin
      // to be maintained is one scaled unit, until otherwise necessary. This control point cannot be less than 0 even
      // with margin constraints, so the maximum bound doesn't need to be adjusted if it's already within 1 unit of 0.
      if (thisPoint?.time.margin === true) {
        if (scaledBound >= margin) {
          scaledBound -= margin;
        }

        // TODO: If there is no room, should the next point be moved.
        // What if it has it's own margin and needs to move the point after that.
        // This is starting to look like a recursive problem.
      }

      return scaledBound;
    })();

    // When we update the time of the points in order, based on a change in duration, we will have
    // xMin based on the new duration and the xMax based on the old duration. And sometimes this can
    // lead to xMin being greater than xMax. In such cases, we make them both equal to the bigger of those.
    // TODO: This avoid the over lap of points that should not overlap, one which having a margin.
    //       But this is not an ideal solution, we'll have to find a better way to handle this.
    if (xMin > xMax) {
      xMax = xMin;
    }

    const clampedValue = clampInt(xMin, value, xMax);
    const binnedValue = binValueByDuration({ value: clampedValue, totalDuration: this.xMax });
    const unitValue = binnedValue / this.xMax;

    thisPoint.time.value = unitValue;
  }

  /**
   * Set the internal "xMax" value used to scale the time dimension of the load profile. The internal representation
   * uses a unit square where the "time" will be between 0 and 1, inclusive. The xMax value is then used to scale this
   * unit square up to match the desired duration of the load profile.
   *
   * @param {Object} options
   * @param {number} options.xMax - A non-zero integer value, representing the actual total duration of the load profile
   *                                in minutes.
   */
  setXMax ({ xMax }) {
    this.xMax = xMax;
  }

  /**
   * Set the internal "yMax" value used to scale the load dimension of the load profile. The internal representation
   * uses a unit square where the "load" will be between 0 and 1, inclusive. The yMax value is then used to scale this
   * unit square up to match the desired maximum load of the load profile.
   *
   * @param {Object} options
   * @param {number} options.yMax - A non-zero integer value, representing the actual maximum load this load profile
   *                                should scale to.
   */
  setYMax ({ yMax }) {
    this.yMax = yMax;
  }

  /**
   * The method to setup the control points of a load profile. This method is not supposed to
   * change the values of the control points' time and load explicitly, but it should do so only
   * using the setTimeValue and setLoadValue methods. The need for this method is that each of the
   * load-profiles can have their own ways of checking and loading points in different orders.
   *
   * @param {Object} params
   * @param {Object} params.controlPoints - The control points to be set in the instance.
   */
  setControlPoints ({ controlPoints }) {
    const currentControlPoints = this.controlPoints;

    /**
     * Function to set a control point by recursing through the blocking control points and
     * setting them first.
     *
     * Blocking control points are points that conflict when we try to set the value of another point.
     *
     * @param {*} controlPoint - The control point to be set
     * @param {*} allControlPoints - All of the control points to be set, needed to make the recursive call
     * @param {*} currentControlPoints - The current set of control points to compare to, to check for blocks
     */
    const setControlPointRecursive = (controlPoint, allControlPoints, currentControlPoints) => {
      const blockers = findBlockers(controlPoint, currentControlPoints);

      if (blockers.length === 0) {
        setControlPoint(controlPoint);

        // we can set only the load of a particular point, we won't have time in those cases
        if (controlPoint.time) {
          currentControlPoints.find((cp) => cp.id === controlPoint.id).time.value = controlPoint.time.value;
        }
      }
      else {
        blockers.forEach((blocker) => {
          const correspondingControlPoint = allControlPoints.find((controlPoint) => controlPoint.id === blocker.id);

          if (correspondingControlPoint) {
            setControlPointRecursive(correspondingControlPoint, allControlPoints, currentControlPoints);
          }
        });

        // After all the blockers are recursively set, set the current point
        setControlPoint(controlPoint);
      }
    };

    /**
     * Finds and returns the control point that will block setting the given control point
     *
     * @param {Object} controlPoint - The given control point to be set in the load profile instance
     * @param {Object} controlPoints - All the control points that the given control point needs to exist with
     * @returns
     */
    const findBlockers = (controlPoint, controlPoints) => {
      const index = controlPoints.findIndex((cp) => cp.id === controlPoint.id),
            blockers = [],
            marginValue = marginByDuration(this.xMax);

      let upperBlock;

      // We only check if the next point blocks, since the blocking relationship is mutual
      if (index + 1 < controlPoints.length) {
        const nextPoint = controlPoints[index + 1];

        if (nextPoint) {
          upperBlock = nextPoint.time.value;

          if (nextPoint.time?.margin) {
            upperBlock -= marginValue;
          }

          if (upperBlock < controlPoint.time?.value) {
            blockers.push(nextPoint);
          }
        }
      }

      return blockers;
    };

    /**
     * Function to set the time and/or load of a control point, using the existing setters.
     *
     * @param {Object} controlPoint - The control point object that needs to be set for the load profile.
     */
    const setControlPoint = (controlPoint) => {
      if (controlPoint && controlPoint.load && typeof controlPoint.load?.value !== 'undefined') {
        this.setLoadValue({ id: controlPoint.id, value: controlPoint.load.value });
      }

      if (controlPoint && controlPoint.time && typeof controlPoint.time?.value !== 'undefined') {
        this.setTimeValue({ id: controlPoint.id, value: controlPoint.time.value });
      }
    };

    Array.isArray(controlPoints) && controlPoints.map((cp) => {
      setControlPointRecursive(cp, controlPoints, currentControlPoints);
    });
  }

  /**
   * Return a plain Javascript object representation of this load profile. This is useful when this profile needs to be
   * sent over the wire, stored in memory, or manipulated by any other means.
   *
   * @return {object} A plain Javascript object representing this load profile.
   */
  toObject () {
    return {
      id: this.id,
      name: this.name,
      controlPoints: this.controlPoints,
      xMax: this.xMax,
      yMax: this.yMax,
      shorthand: this.shorthand,
      description: this.description
    };
  }
}

module.exports = LoadProfile;

/**
 * Finds the points between which the elapsed time lies.
 *
 * @param {ControlPoint[]} controlPoints - The control points of the curve.
 * @param {Number} elapsedDurationMs - The elapsed time in milliseconds.
 *
 * @returns {[ControlPoint,ControlPoint]} - The points between which the elapsed time lies.
 */
const findPoints = (controlPoints, elapsedDurationMs) => {
  let left, right;

  for (let point of controlPoints) {
    if (point.time.value < elapsedDurationMs) {
      left = point;
    }
    else {
      // to make sure that we have both the points
      if (!left) {
        left = point;
      }

      right = point;

      break;
    }
  }

  return [left, right];
};

/**
 * Restrict a numeric value within a range. Values which exceed the upper limit will be limited to the upper limit, or
 * one below the upper limit depending on the value of the "exclusive" parameter. Values which exceed the lower limit
 * will be limited to the lower limit or one above the lower limit depending on the value of the "exclusive" parameter.
 *
 * @param  {number} min - The lower end of the acceptable range.
 * @param  {number} input - The value to be clamped within the range.
 * @param  {number} max - The upper end of the acceptable range.
 * @param  {boolean} exclusive - Whether or not to include the lower/upper ends of the range when clamping.
 * @return {number} The clamped integer
 */
const clampInt = (min, input, max, exclusive) => {
  if (exclusive) {
    min += 1;
    max -= 1;
  }

  return Math.min(Math.max(input, min), max);
};

/**
 * Bins the time values for points based on the total duration to provide dynamic prevision
 * for the time handles on the load preview.
 *
 * @param {Object} params
 * @param {Object} params.value - The value of duration to be binned, in milliseconds
 * @param {Object} params.totalDuration - The total duration of the run
 *
 * @returns {Number} The binned value
 */
function binValueByDuration ({ value, totalDuration }) {
  const oneSecond = 1000, // milliseconds
        tenSeconds = 10 * oneSecond;

  // If the total duration is more than 10 minutes, bin the value to the nearest minute.
  if (totalDuration > 10 * MIN_TO_MS) {
    return Math.round(value / MIN_TO_MS) * MIN_TO_MS;
  }

  // If the total duration is between 1 and 10 minutes, bin the value to the nearest 10 seconds.
  else if (totalDuration > 1 * MIN_TO_MS && totalDuration <= 10 * MIN_TO_MS) {
    return Math.round(value / tenSeconds) * tenSeconds;
  }

  // If the total duration is less than 1 minute, bin the value to the nearest second.
  else {
    return Math.round(value / oneSecond) * oneSecond;
  }
}
const LoadProfile = require('./LoadProfile');

const { humanizeDurationCompact } = require('./utils');

/**
 * This load profile represents an increase in load from an base load to the maximum load, which is then maintained
 * for a period, after a while we there is a decrease in load from maximum load to base load, which is then maintained
 * for a period. The time spent at base load can be adjusted all the way down to zero, and the time spent at maxLoad
 * can be adjusted as well, giving us a variety of possible curves.
 *
 *  
 *  
 *                     x3x
 *                    /                 \
 *                   /2                  \4
 *                  /                     \
 *  x1x                       x5x
 *  
 *  
 *  
 *
 * 1. The base load, which can be adjusted to zero and be maintained for zero duration as well.
 * 2. The ramp load, increasing steadily from base to maximum load.
 * 3. The maximum load, which is then maintained for a period.
 * 4. The ramp down load, decreasing steadily from maximum to base load.
 * 5. The final load, which is then maintained for the remainder of the duration.
 *
 * The x's represent the control points necessary to describe this load profile.
 */
class Peak extends LoadProfile {
  static get id () { return 'peak'; }
  static get name () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:peak.name') : 'Peak';
  }
  static get defaultControlPoints () {
    const i18n = LoadProfile.getI18N();
    return [
      {
        id: 'initial',
        time: {
          value: 0,
          anchor: 'initial'
        },
        load: {
          value: 0.2,
          name: i18n ? i18n.t('load-profile:peak.initial.load.name') : 'Base load',
          description: i18n ? i18n.t('load-profile:peak.initial.load.description') : 'The number of VUs to maintain before beginning the ramp to the maximum VU count, and after scaling back down.'
        }
      },
      {
        id: 'rampLeadStart',
        time: {
          value: 0.2,
          name: i18n ? i18n.t('load-profile:peak.lead_start.time.name') : 'Initial base load end timestamp',
          margin: true
        },
        load: {
          value: 0.25,
          anchor: 'initial'
        }
      },
      {
        id: 'rampLeadEnd',
        time: {
          value: 0.4,
          name: i18n ? i18n.t('load-profile:peak.lead_end.time.name') : 'Ramp up timestamp',
          description: i18n ? i18n.t('load-profile:peak.lead_end.time.description') : 'The time over which load is linearly increased from base to maximum load.',
          margin: true
        },
        load: {
          value: 1,
          anchor: 'rampLeadEnd'
        }
      },
      {
        id: 'rampDownStart',
        time: {
          value: 0.6,
          name: i18n ? i18n.t('load-profile:peak.down_start.time.name') : 'Ramp End timestamp',
          description: i18n ? i18n.t('load-profile:peak.down_start.time.description') : 'The time over which maximum load is maintained.',
          margin: true
        },
        load: {
          value: 1,
          anchor: 'rampLeadEnd'
        }
      },
      {
        id: 'rampDownEnd',
        time: {
          value: 0.8,
          name: i18n ? i18n.t('load-profile:peak.down_end.time.name') : 'Ramp Down timestamp',
          description: i18n ? i18n.t('load-profile:peak.down_end.time.description') : 'The time over which load is linearly decreased from maximum to base load.',
        },
        load: {
          value: 0.2,
          anchor: 'initial'
        }
      },
      {
        id: 'final',
        time: {
          value: 1,
          anchor: 'final'
        },
        load: {
          value: 0.2,
          anchor: 'initial'
        }
      },
    ];
  }

  get shorthand () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:peak.shorthand') : 'Peak';
  }

  get description () {
    const initialLoad = this.controlPoints.find((cp) => cp.id === 'initial').load.value;
    const initialDurationMs = this.controlPoints.find((cp) => cp.id === 'rampLeadStart').time.value;
    const rampUpDurationMs = this.controlPoints.find((cp) => cp.id === 'rampLeadEnd').time.value - initialDurationMs;
    const plateauDurationMs = this.controlPoints.find((cp) => cp.id === 'rampDownStart').time.value -
      (initialDurationMs + rampUpDurationMs);
    const rampDownDurationMs = this.controlPoints.find((cp) => cp.id === 'rampDownEnd').time.value -
      (initialDurationMs + rampUpDurationMs + plateauDurationMs);
    const maxLoad = this.yMax;
    const trailingLoadDurationMs = this.xMax - this.controlPoints.find((cp) => cp.id === 'rampDownEnd').time.value;
    const segments = [];

    const i18n = LoadProfile.getI18N();
    const humanizedInitialDuration = humanizeDurationCompact(initialDurationMs, i18n),
      humanizedRampUpDuration = humanizeDurationCompact(rampUpDurationMs, i18n),
      humanizedPlateauDuration = humanizeDurationCompact(plateauDurationMs, i18n),
      humanizedRampDownDuration = humanizeDurationCompact(rampDownDurationMs, i18n),
      humanizedTrailingLoadDuration = humanizeDurationCompact(trailingLoadDurationMs, i18n);

    if (i18n) {
      return i18n.t('load-profile:peak.description', {
        initialLoad,
        initialDurationMs,
        maxLoad,
        plateauDurationMs,
        trailingLoadDurationMs,
        humanizedInitialDuration,
        humanizedRampUpDuration,
        humanizedPlateauDuration,
        humanizedRampDownDuration,
        humanizedTrailingLoadDuration
      });
    }


    // The initial load is technically optional and only needs to be described if the duration is non-zero
    if (initialDurationMs > 0) {
      segments.push(`${initialLoad} virtual user${initialLoad === 1 ? '' : 's'} run for ${humanizedInitialDuration},`);
    }

    segments.push(`ramp to ${maxLoad} over ${humanizedRampUpDuration},`);

    if (plateauDurationMs) {
      segments.push(`maintain ${maxLoad} for ${humanizedPlateauDuration},`);
    }

    segments.push(`decrease to ${initialLoad} over ${humanizedRampDownDuration},`);

    if (trailingLoadDurationMs > 0) {
      segments.push(`maintain ${initialLoad} for ${humanizedTrailingLoadDuration},`);
    }

    segments.push('each executing all requests sequentially');

    return segments.join(' ') + '.';
  }
}

module.exports = Peak;
const LoadProfile = require('./LoadProfile');

const { humanizeDurationCompact, humanizeDurationExpanded } = require('./utils');

/**
 * This load profile represents an increase in load from an initial load to the maximum load, which is then maintained
 * for a period. The time spent at initialLoad or maxLoad can be adjusted all the way down to zero, giving us a variety
 * of possible curves.
 *
 *  
 *  
 *                     x3x
 *                    /
 *                   /2
 *                  /
 *  x1x
 *  
 *  
 *  
 *
 * 1. The initial load, which can be adjusted to zero and be maintained for zero duration as well.
 * 2. The ramp load, increasing steadily from initial to maximum load.
 * 3. The maximum load, which is then maintained for the remainder of the duration. This duration can be zero if the
 *    duration of the initial load and ramp equal the total duration.
 *
 * The x's represent the control points necessary to describe this load profile.
 */
class Ramp extends LoadProfile {
  static get id () { return 'ramp-up'; }
  static get name () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:ramp.name') : 'Ramp up';
  }
  static get defaultControlPoints () {
    const i18n = LoadProfile.getI18N();

    return [
      {
        id: 'initial',
        time: {
          value: 0,
          anchor: 'initial'
        },
        load: {
          value: 0.25,
          name: i18n ? i18n.t('load-profile:ramp.initial.load.name') : 'Initial load',
          description: i18n ? i18n.t('load-profile:ramp.initial.load.description') : 'A number of VUs to simulate before starting to ramp up to the maximum number of VUs.'
        }
      },
      {
        id: 'rampLeadStart',
        time: {
          value: 0.25,
          name: i18n ? i18n.t('load-profile:ramp.lead_start.time.name') : 'Initial load timestamp',
          margin: true
        },
        load: {
          value: 0.25,
          anchor: 'initial'
        }
      },
      {
        id: 'rampLeadEnd',
        time: {
          value: 0.5,
          name: i18n ? i18n.t('load-profile:ramp.lead_end.time.name') : 'Ramp up timestamp',
          description: i18n ? i18n.t('load-profile:ramp.lead_end.time.description') : 'The time over which load is linearly increased from initial to maximum load.'
        },
        load: {
          value: 1,
          anchor: 'rampLeadEnd'
        }
      },
      {
        id: 'final',
        time: {
          value: 1,
          anchor: 'final'
        },
        load: {
          value: 1,
          anchor: 'final'
        }
      },
    ];
  }

  get shorthand () {
    const initialDuration = this.controlPoints.find((cp) => cp.id === 'rampLeadStart').time.value;
    const rampDuration = this.controlPoints.find((cp) => cp.id === 'rampLeadEnd').time.value - initialDuration;

    const i18n = LoadProfile.getI18N();
    const humanizedRampDuration = humanizeDurationExpanded(rampDuration, i18n);

    return i18n ? i18n.t('load-profile:ramp.shorthand', { humanizedRampDuration }) : `Ramp up (${humanizedRampDuration})`;
  }

  get description () {
    const initialLoad = this.controlPoints.find((cp) => cp.id === 'initial').load.value;
    const initialDurationMs = this.controlPoints.find((cp) => cp.id === 'rampLeadStart').time.value;
    const rampDurationMs = this.controlPoints.find((cp) => cp.id === 'rampLeadEnd').time.value - initialDurationMs;
    const maxLoad = this.yMax;
    const maxLoadDurationMs = this.xMax - (initialDurationMs + rampDurationMs);
    const segments = [];

    const i18n = LoadProfile.getI18N();
    const humanizedInitialDuration = humanizeDurationCompact(initialDurationMs, i18n),
      humanizedRampDuration = humanizeDurationCompact(rampDurationMs, i18n),
      humanizedMaxLoadDuration = humanizeDurationCompact(maxLoadDurationMs, i18n);

    if (i18n) {
      return i18n.t('load-profile:ramp.description', {
        initialLoad,
        maxLoad,
        initialDurationMs,
        maxLoadDurationMs,
        humanizedInitialDuration,
        humanizedRampDuration,
        humanizedMaxLoadDuration
      });
    }

    // The initial load is technically optional and only needs to be described if the duration is non-zero
    if (initialDurationMs > 0) {
      segments.push(`${initialLoad} virtual user${initialLoad === 1 ? '' : 's'} run for ` +
        `${humanizedInitialDuration},`);
    }

    segments.push(`ramp up to ${maxLoad} ` +
      `over ${humanizedRampDuration},`);

    if (maxLoadDurationMs > 0) {
      segments.push(`then maintain ${maxLoad} for ${humanizedMaxLoadDuration},`);
    }

    segments.push('each executing all requests sequentially');

    return segments.join(' ') + '.';
  }

  /**
   * The method to setup the control points of a load profile. This method is not supposed to
   * change the values of the control points' time and load explicitly, but it should do so only
   * using the setTimeValue and setLoadValue methods. The need for this method is that each of the
   * load-profiles can have their own ways of checking and loading points in different orders.
   *
   * @param {Object} params
   * @param {Object} params.controlPoints - The control points to be set in the instance.
   */
  setControlPoints ({ controlPoints }) {
    const rampLeadStart = controlPoints.find((cp) => cp.id === 'rampLeadStart');
    const rampLeadEnd = controlPoints.find((cp) => cp.id === 'rampLeadEnd');

    let rampLeadStartTime, rampLeadEndTime;

    if (rampLeadStart) {
      rampLeadStartTime = rampLeadStart.time.value;
    }

    if (rampLeadEnd) {
      rampLeadEndTime = rampLeadEnd.time.value;
    }

    const defaultRampLeadEndTime = this.controlPoints.find((cp) => cp.id === 'rampLeadEnd').time.value;

    // Since the order of setting of time values of rampLeadStart and rampLeadEnd matters, we need
    // to figure out which order is appropriate. This is probably a solution to mitigate the issue
    // and the long term solution might be different.

    // If the rampLeadStartTime that needs to be setup is blocked by the
    // default RampLeadEndTime, set the rampLeadEndTime first. Adding 1 to
    // account for the margin of the rampLeadStart.
    if (rampLeadStartTime && rampLeadStartTime + (60 * 1000) > defaultRampLeadEndTime && rampLeadEndTime) {
      this.setTimeValue({ id: 'rampLeadEnd', value: rampLeadEndTime });
    }

    // set all the points again, to cover the rest
    Array.isArray(controlPoints) && controlPoints.map((cp) => {
      if (typeof cp.load?.value !== 'undefined') {
        this.setLoadValue({ id: cp.id, value: cp.load.value });
      }

      if (typeof cp.time?.value !== 'undefined') {
        this.setTimeValue({ id: cp.id, value: cp.time.value });
      }
    });
  }
}

module.exports = Ramp;
const LoadProfile = require('./LoadProfile');

const { humanizeDurationCompact } = require('./utils');

/**
 * This load profile represents a spike load over the entire duration:
*  
 *                     x
 *                     /\
 *                    /  \3
 *                   /2   \
 *                  /      \
 *  x1x        x4x
 *  
 *  
 *  
 *
 * 1. The base load, which can be adjusted to zero and be maintained for zero duration as well.
 * 2. The spike up load, increasing steadily from base to maximum load.
 * 3. The spike down load, decreasing steadily from maximum load to base load
 * 4. The final load, same as the base load for now, which is then maintained for the remainder of the duration.
 *
 * The x's represent the control points necessary to describe this load profile.
 */
class Spike extends LoadProfile {
  static get id () { return 'spike'; }
  static get name () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:spike.name') : 'Spike';
  }
  static get defaultControlPoints () {
    const i18n = LoadProfile.getI18N();

    return [
      {
        id: 'initial',
        time: {
          value: 0,
          name: i18n ? i18n.t('load-profile:spike.initial.time.name') : 'Base load timestamp',
          anchor: 'initial'
        },
        load: {
          value: 0.1,
          name: i18n ? i18n.t('load-profile:spike.initial.load.name') : 'Base load',
          description: i18n ? i18n.t('load-profile:spike.initial.load.description') : 'The number of VUs to maintain before beginning the ramp to the maximum VU count, and after scaling back down.'
        }
      },
      {
        id: 'spikeStart',
        time: {
          value: 0.4,
          name: i18n ? i18n.t('load-profile:spike.start.time.name') : 'Spike start timestamp',
          margin: true
        },
        load: {
          value: 0.1,
          anchor: 'initial'
        }
      },
      {
        id: 'spikePeak',
        time: {
          value: 0.5,
          name: i18n ? i18n.t('load-profile:spike.peak.time.name') : 'Spike peak timestamp',
          description: i18n ? i18n.t('load-profile:spike.peak.time.description') : 'The time at which the spike has peaked at the maximum load.',
          margin: true
        },
        load: {
          value: 1,
          anchor: 'spikePeak'
        }
      },
      {
        id: 'spikeEnd',
        time: {
          value: 0.6,
          name: i18n ? i18n.t('load-profile:spike.end.time.name') : 'Spike end timestamp',
          description: i18n ? i18n.t('load-profile:spike.end.time.description') : 'Spike end timestamp.'
        },
        load: {
          value: 0.1,
          anchor: 'initial'
        }
      },
      {
        id: 'final',
        time: {
          value: 1,
          anchor: 'final'
        },
        load: {
          value: 0.1,
          anchor: 'initial'
        }
      },
    ];
  }

  get shorthand () {
    const i18n = LoadProfile.getI18N();
    return i18n ? i18n.t('load-profile:spike.shorthand') : 'Spike';
  }
  get description () {
    const baseLoad = this.controlPoints.find((cp) => cp.id === 'initial').load.value;
    const initialDurationMs = this.controlPoints.find((cp) => cp.id === 'spikeStart').time.value;
    const spikePeakMs = this.controlPoints.find((cp) => cp.id === 'spikePeak').time.value;
    const spikeEndMs = this.controlPoints.find((cp) => cp.id === 'spikeEnd').time.value;
    const finalDurationMs = this.xMax - this.controlPoints.find((cp) => cp.id === 'spikeEnd').time.value;
    const spikeUpDurationMs = spikePeakMs - initialDurationMs;
    const spikeDownDurationMs = spikeEndMs - spikePeakMs;

    const maxLoad = this.yMax;
    const segments = [];

    const i18n = LoadProfile.getI18N();

    const humanizedInitialDuration = humanizeDurationCompact(initialDurationMs, i18n),
    humanizedSpikeUpDuration = humanizeDurationCompact(spikeUpDurationMs, i18n),
    humanizedSpikeDownDuration = humanizeDurationCompact(spikeDownDurationMs, i18n),
    humanizedFinalDuration = humanizeDurationCompact(finalDurationMs, i18n);

    if (i18n) {
      return i18n.t('load-profile:spike.description', {
        baseLoad,
        maxLoad,
        initialDurationMs,
        finalDurationMs,
        humanizedInitialDuration,
        humanizedSpikeUpDuration,
        humanizedSpikeDownDuration,
        humanizedFinalDuration
      });
    }

    // The base load is technically optional and only needs to be described if the duration is non-zero
    if (initialDurationMs > 0) {
      segments.push(`${baseLoad} virtual user${baseLoad === 1 ? '' : 's'} run for ` +
        `${humanizedInitialDuration},`);
    }

    segments.push(`spikes to ${maxLoad} over ${humanizedSpikeUpDuration},`);

    segments.push(`drops to  ${baseLoad} over ${humanizedSpikeDownDuration},`);

    if (finalDurationMs > 0) {
      segments.push(`maintains ${baseLoad} for ${humanizedFinalDuration},`);
    }
    segments.push('each executing all requests sequentially.');
    return segments.join(' ') + '.';
  }
}

module.exports = Spike;
/**
 * @typedef {Object} ControlPointVariables
 *
 * @property {Object.<String, Number>} variable - The variables used to configure the load profile control points.
 */

/**
 * @typedef {Object} ControlPoint
 *
 * @property {Object} time - The time of the control point.
 * @property {Number} time.value - The value of the time of the control point.
 * @property {Boolean} [time.anchor] - Whether the time of the control point is an anchor.
 * @property {Number} [time.defaultValue] - The default value of the time of the control point.
 * @property {Object} load - The load of the control point.
 * @property {Number} load.value - The value of the load of the control point.
 * @property {Boolean} [load.anchor] - Whether the load of the control point is an anchor.
 * @property {Number} [load.defaultValue] - The default value of the load of the control point.
 */

module.exports = {};
/**
 * Converts the given duration in milliseconds to minutes, rounded to four decimal places.
 */
function toMinutes (durationMs) {
  return parseFloat((durationMs / 60000).toFixed(4));
}

/**
 * Calculates the minutes and seconds components of a duration.
 * @param {number} value - The duration value in milliseconds.
 * @returns {Object} An object containing the minutes and seconds components.
 */
function calculateDurationComponents (value) {
  const valueMinutes = Math.floor(value / (60 * 1000));
  const seconds = Math.round((value % (60 * 1000)) / 1000);
  return { valueMinutes, seconds };
}

/**
 * Returns a human-readable string representation of the duration in expanded format.
 * @param {number} value - The duration value in milliseconds.
 * @param {Object|null} i18n - The i18n object for localization. If null, no localization is performed.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationExpanded (value, i18n) {
  return i18n ?
    humanizeDurationExpandedWithI18N(value, i18n) :
    humanizeDurationExpandedWithoutI18N(value);
}

/**
 * Returns a human-readable string representation of the duration in expanded format with localization.
 * @param {number} value - The duration value in milliseconds.
 * @param {Object} i18n - The i18n object for localization.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationExpandedWithI18N (value, i18n) {
  const { valueMinutes, seconds } = calculateDurationComponents(value);
  return i18n.t('load-profile:humanize_duration.expanded', { minutes: valueMinutes, seconds });
}

/**
 * Returns a human-readable string representation of the duration in expanded format without localization.
 * @param {number} value - The duration value in milliseconds.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationExpandedWithoutI18N (value) {
  const { valueMinutes, seconds } = calculateDurationComponents(value);
  const segments = [];
    if (valueMinutes > 0) {
      segments.push(`${valueMinutes} minute${valueMinutes === 1 ? '' : 's'}`);
    }

    if (segments.length === 0 || seconds > 0) {
      segments.push(`${seconds} second${seconds === 1 ? '' : 's'}`);
    }

    return segments.join(' ');
}

/**
 * Returns a human-readable string representation of the duration in compact format.
 * @param {number} value - The duration value in milliseconds.
 * @param {Object|null} i18n - The i18n object for localization. If null, no localization is performed.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationCompact (value, i18n) {
  return i18n ? humanizeDurationCompactWithI18N(value, i18n) : humanizeDurationCompactWithoutI18N(value);
}

/**
 * Returns a human-readable string representation of the duration in compact format without localization.
 * @param {number} value - The duration value in milliseconds.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationCompactWithoutI18N (value) {
  const { valueMinutes, seconds } = calculateDurationComponents(value);
  const segments = [];
  if (valueMinutes > 0) {
    segments.push(`${valueMinutes}`);
  }

  if (segments.length === 0 || seconds > 0) {
    segments.push(`${valueMinutes > 0 && seconds < 10 ? '0' : ''}${seconds}`);
  }

  if (valueMinutes > 0) {
    return `${segments.join(':')} minute${valueMinutes === 1 && seconds === 0 ? '' : 's'}`;
  }
  else {
    return `${segments.join(':')} second${seconds === 1 ? '' : 's'}`;
  }
}

/**
 * Returns a human-readable string representation of the duration in compact format with localization.
 * @param {number} value - The duration value in milliseconds.
 * @param {Object} i18n - The i18n object for localization.
 * @returns {string} The human-readable duration string.
 */
function humanizeDurationCompactWithI18N (value, i18n) {
  const { valueMinutes, seconds } = calculateDurationComponents(value);

  if (valueMinutes > 0 && seconds === 0) {
    return i18n.t('load-profile:humanize_duration.only_minutes', { minutes: valueMinutes });
  } else if (valueMinutes > 0 && seconds > 0) {
    return i18n.t('load-profile:humanize_duration.minutes_and_seconds', { minutes: valueMinutes, seconds: String(seconds).padStart(2, '0') });
  } else {
    return i18n.t('load-profile:humanize_duration.only_seconds', { seconds });
  }
}

/**
 * Returns the value of margin, in milliseconds, to be used based on the total duration.
 *
 * @param {Number} duration - The total duration of the run, in milliseconds.
 *
 * @returns {Number} margin, in milliseconds.
 */
function marginByDuration (duration) {
  const oneSecond = 1000, // milliseconds
        oneMinute = 60 * oneSecond,
        tenSeconds = 10 * oneSecond,
        fiveSeconds = 5 * oneSecond;

  if (duration > 10 * oneMinute) {
    return oneMinute;
  }

  // If the duration is between 1 and 10 minutes, set the margin to 10 seconds.
  else if (duration > oneMinute && duration <= 10 * oneMinute) {
    return tenSeconds;
  }

  // If the duration is less than 1 minute, set the margin to 5 seconds.
  else {
    return fiveSeconds;
  }
}

module.exports = {
  toMinutes,
  humanizeDurationExpanded,
  humanizeDurationCompact,
  marginByDuration
};
const MAX_QUEUE_LENGTH = 5;

/**
 * This class contains a fixed-length array of objects, each containing observations
 * of system utilization. This includes CPU utilization, memory, etc.
 *
 * It is assumed that this queue is sorted by time, since newer observations are added
 * later in time.
 *
 * Also, we will assume queue is only valid when full - otherwise we don't have
 * enough data to make decisions.
 */
module.exports = class ResourceUtilizationQueue {
  constructor (maxLength = MAX_QUEUE_LENGTH) {
    this.values = [];
    this.maxLength = maxLength;
  }

  /**
   * Returns if the queue is full.
   *
   * @returns {Boolean}
   */
  isFull = () => {
    return this.values.length === this.maxLength;
  }

  /**
   * Add a new system utilization observation to the queue.
   *
   * @param {Object} element - A system utilization observation.
   */
  enqueue = (element) => {
    this.values.push(element);

    // Ignore anything other than the most recent MAX_QUEUE_LENGTH number of values.
    if (this.values.length > this.maxLength) {
      this.values = this.values.splice(-this.maxLength);
    }
  }

  /**
   * Clear the queue. This is to be used when the existing data is not valid anymore.
   * For example, once we make changes to scenario config, the past observations are not valid.
   */
  clear = () => {
    this.values = [];
  }
};
const NO_OF_CONSECUTIVE_MEASUREMENTS = 3,
    CPU_HIGH_THRESHOLD = 90,
    CPU_LOW_THRESHOLD = 80,
    HIGH_CPU_CODE = 'CPU_HIGH',
    LOW_CPU_CODE = 'CPU_LOW',
    MAX_SLEEP_DURATION = 2000,
    MIN_SLEEP_DURATION = 100,
    SLEEP_STEP_SIZE = 200;

/**
 * Based on the resource utilization measurements, this function calculates the delta between recommended
 * config, and current config for sleep duration.
 *
 * @param {Object} input
 * @param {Object[]} input.resourceUtilizationMetrics - the array containing resource util measurements.
 * @returns
 */
function _calculateSleepDelta ({ resourceUtilizationMetrics }) {
  let resultStepSize = 0;

  // Bail out early if not enough metrics
  if (resourceUtilizationMetrics.length < NO_OF_CONSECUTIVE_MEASUREMENTS) {
    return resultStepSize;
  }

  const breachedCPUThreshold = _getBreachedCPUThresholdCode(resourceUtilizationMetrics);

  // Return the step size based on CPU breach code.
  if (breachedCPUThreshold === HIGH_CPU_CODE) {
    resultStepSize = SLEEP_STEP_SIZE;
  }
  else if (breachedCPUThreshold === LOW_CPU_CODE) {
    resultStepSize = -SLEEP_STEP_SIZE;
  }

  return resultStepSize;
}

/**
 * Checks last NO_OF_CONSECUTIVE_MEASUREMENTS measurements to see if CPU threshold were continuously
 * breached, and returns the code for the broken threshold.
 *
 * @param {Object[]} resourceUtilizationMetrics - Array of resource utilization measurements
 *
 * @returns {String}
 */
function _getBreachedCPUThresholdCode (resourceUtilizationMetrics) {
  const startIndex = resourceUtilizationMetrics.length - NO_OF_CONSECUTIVE_MEASUREMENTS;

  // Pick CPU percentage from last NO_OF_CONSECUTIVE_MEASUREMENTS elements.
  const reducedArray = resourceUtilizationMetrics.slice(startIndex, resourceUtilizationMetrics.length).map(
    (element) => { return element.system.cpu; }
  ),
  minOfConsecutive = Math.min(...reducedArray),
  maxOfConsecutive = Math.max(...reducedArray);

  if (minOfConsecutive > CPU_HIGH_THRESHOLD) {
    // We have consecutive breaches for high threshold
    return HIGH_CPU_CODE;
  }
  else if (maxOfConsecutive < CPU_LOW_THRESHOLD) {
    // We have consecutive breaches for low threshold
    return LOW_CPU_CODE;
  }
  else {
    return null;
  }
}

/**
 * This module is responsible for suggesting modification to the resource utilization configs
 * such as process sleep duration. The logic to calculate it is abstracted out, and only one
 * interface - getUtilizationConfigDelta is exposed.
 */
module.exports = {
 /**
  * This function recommends the delta to the resource utilization configs, so we can extract
  * maximum performance from the client.
  *
  * @param {Object} input
  * @param {Object[]} input.resourceUtilizationMetrics - the array containing resource util measurements.
  * @param {Object} input.currentConfigs - The current resource usage configs.
  * @param {Number} input.currentConfigs.sleepDuration - The sleep duration for processes between scenarios.
  *
  * @returns {Object}
  */
  getUtilizationConfigDelta ({ resourceUtilizationMetrics, currentConfigs = { sleepDuration: 1000 } }) {
    const sleepDelta = _calculateSleepDelta({ resourceUtilizationMetrics });

    return {
      sleepDuration: sleepDelta
    };
  }
};
const uuid = require('uuid');
const system = require('../lib/system');

const {
  EXECUTION_STATES
} = require('../ScenarioManager/constants');

/**
 * Class that represents and manages a sequence within load test. A sequence is a series of scenarios executed in series.
 *
 * Each instance of this class represents one sequence and it will provide functions to
 * 1. Start running the scenarios
 * 2. Tell it stop creating new scenarios
 * 3. Kill the running scenario
 */
module.exports = class Sequence {
  /**
   * @param {Object} params: The parameters to be used
   * @param {Object} params.sequence: The sequence to be run
   * @param {Object} params.environment: The environment to be used
   * @param {Object} params.requestSelection: The request and folder selection and order to be used
   * @param {Object} params.globals: The global variables to be used
   * @param {Object} params.runOptions: The options to be used in the run
   * @param {Object} params.executionContext: The execution context to be used
   * @param {Object} params.getSleepDuration: The function to be used to get the sleep duration
   * @param {Object} params.dataVariables: The data variables to be used
   */
  constructor (params) {
    const {
      workloadSequenceIndex, sequence, environment, globals, requestSelection, runOptions,
      executionContext, getSleepDuration, sequenceFinishCallback, sequenceOptions
    } = params;

    this.sequenceId = uuid.v4();
    this.sequence = sequence;
    this.environment = environment;
    this.globals = globals;
    this.requestSelection = requestSelection;
    this.runOptions = runOptions;
    this.config = { getSleepDuration };
    this.workloadSequenceIndex = workloadSequenceIndex;
    this.sequenceOptions = sequenceOptions;

    // assign to a fresh object to avoid sequences sharing the context
    this.executionContext = Object.assign({}, executionContext, {
      sequenceId: this.sequenceId,
      workloadSequenceIndex: this.workloadSequenceIndex
    });
    this.newScenariosStopped = false;
    this.sequenceCompleted = false;
    this.workloadId = this.executionContext?.executionContextId;

    // Explicitly bind the method which we know will be passed around by reference so that the method maintains context
    // of this instances.
    this.start = this.start.bind(this);
    this.handleExecutorCallback = this.handleExecutorCallback.bind(this);
    this.abortScenario = this.endScenario.bind(this, true);
    this.stopScenario = this.endScenario.bind(this, false);
    this.timers = new Set();

    this.sequenceFinishCallback = sequenceFinishCallback;
  }

  /**
   * The executor continuously emits events once we've triggered it, when execution starts, finishes, or errors out. The
   * Workload can elect to react to one or more of these events by adding handlers for them.
   *
   * @param {Object} data - The payload associated with the event, if any.
   */
  async handleExecutorCallback (data) {
    // @TODO: Add safety checks before accessing data -- it's an object we don't control.

    // handle event only if it belongs this run and this sequence else we can return
    if (data.executionContext.executionContextId !== this.executionContext.executionContextId
      || data.executionContext.sequenceId !== this.sequenceId) {
      return;
    }
    switch (data.name) {

      // Handling the case of scenario finishing and erroring out by starting another scenario run
      // @TODO: Handle the case of EXECUTION_STATES.START_ERROR where the starting of the scenario itself fails
      // we might not have the meta data in that case

      case EXECUTION_STATES.FINISHED:
      case EXECUTION_STATES.ERROR:
        // tell executor to run the scenario again after the sleep duration, if this sequence has not been asked to stop
        if (!this.sequenceCompleted) {
          let didStopSequence = this.sequenceFinishCallback(this.sequenceId);

          if (didStopSequence) {
            return;
          }

          if (!this.newScenariosStopped) {
            const timer = setTimeout(async () => {
              // TODO: Remove this line, a sequence should already kow its ID
              this.executionContext.sequenceId = this.sequenceId;

              await this.assignScenarioRun();

              this.timers.delete(timer);
            }, this.config.getSleepDuration());

            this.timers.add(timer);
          }

          // the last scenario execution is completed, we should not be getting this event in this sequence again
          else {
            this.sequenceCompleted = true;

            const workloadId = this.executionContext.executionContextId;

            await system.invoke('workloadManager', {
              method: 'processSequenceEvents',
              args: [
                workloadId,
                {
                  sequenceId: this.sequenceId,
                  state: 'completed'
                }
              ]
            });
          }
        }
        break;

      case EXECUTION_STATES.ITERATION_FINISHED:
        if (!this.sequenceCompleted) {
          let didStopSequence = this.sequenceFinishCallback(this.sequenceId, 'stopping');

          if (didStopSequence) {
            await system.invoke('scenarioManager', {
              method: 'stopScenario',
              args: [this.executionContext]
            });

            // setup a timer to hard-stop (abort) this scenario after a timeout
            // abortScenario is called unconditionally here since it will not fail or cause any
            // side effects if the scenario has already ended gracefully.

            // TODO: This is not setting up any way to keep a count on the number of scenarios that
            // are gracefully stopped and the ones that are forcefully stopped. We should have a way
            // to keep that check.
            setTimeout(async () => {
              await system.invoke('scenarioManager', {
                method: 'abortScenario',
                args: [this.executionContext]
              });
            }, this.sequenceOptions.sequenceGracePeriod);
          }
        }

        break;

      case EXECUTION_STATES.ABORTED:
        this.sequenceFinishCallback(this.sequenceId, 'aborted');
        break;

      default:
        break;
    }
  }

  // Kick starts the scenario runs in the sequence
  async start () {
    // Call executor to start a scenario run
    // @TODO: This call only works if this is reached from the renderer thread
    //       If this is moved to the main process, we need to get IPC working or do function calls into the executor

    await this.assignScenarioRun();
  }

  /**
   * Assigns a scenario run to the executor to run
   *
   * @returns {Promise<void>}
   */
  assignScenarioRun = async () => {
    await system.invoke('scenarioManager', {
      method: 'runScenario',
      args: [{
        data: {
          collection: this.sequence,
          environment: this.environment || null,
          globals: this.globals || null,
          requestSelection: this.requestSelection || null,
          runOptions: this.runOptions || null,
          VUData: await system.invoke('workloadManager', {
            method: 'getDataForScenario',
            args: [this.workloadId, this.workloadSequenceIndex]
          })
        },
        executionContext: this.executionContext,
        count: 1
      }]
    });
  };

  // After this method is called, no new scenario should be run
  stopNewScenarios () {
    this.newScenariosStopped = true;
  }

  // There can only be one scenario run at a time, this is the interface to kill that
  async endScenario (abort = false) {
    this.stopNewScenarios();
    this.sequenceCompleted = true;

    for (const timer of this.timers) {
      clearInterval(timer);
      this.timers.delete(timer);
    }

    const method = abort ? 'abortScenario' : 'stopScenario';

    await system.invoke('scenarioManager', {
      method,
      args: [this.executionContext]
    });

    await system.invoke('workloadManager', {
      method: 'processSequenceEvents',
      args: [
        this.executionContext.executionContextId,
        {
          sequenceId: this.sequenceId,
          state: 'completed'
        }
      ]
    });
  }

  get id () {
    return this.sequenceId;
  }
};
const uuid = require('uuid');

module.exports = class SequenceTracker {
  /**
   * @param {number} target - The target number to be counted down before the tracker completes
   * @param {number} gracePeriodMs - The duration after which to call the function to kill
   * @param {function} killFunction - The function to be called at the end of the gracePeriodMs
   */
  constructor (target, gracePeriodMs, killFunction) {
    this.target = target;
    this.timeout = null;
    this.killFunction = killFunction;
    this.uuid = uuid.v4();

    this.forceKillAfterTimeout(gracePeriodMs);
  }

  /**
   * The method that needs to be called when the target can be reduced by 1.
   */
  countDown () {
    if (this.target > 0) {
      this.target = this.target - 1;

      if (this.target === 0) {
        clearTimeout(this.timeout);
      }
    }
  }

  /**
   * The function that sets up a timer to call the function to kill the remaining
   * number of targets after the expiry of grace period
   *
   * @param {number} timeout - The timeout in milliseconds after which to call the given function
   */
  forceKillAfterTimeout (timeout) {
    this.timeout = setTimeout(() => {
      this.killFunction(this.target);

      this.target = 0;
    }, timeout);
  }
};
const enterpriseUtils = require('./enterpriseUtil');

const LINUX = 'LINUX',
      LINUX_SNAP = 'LINUX_SNAP',
      PLATFORM = process.platform,
      SNAP = process.env.SNAP;

let _getInstallationType = function () {
  let installationType;

    switch (PLATFORM) {
      case 'linux':
        if (SNAP) {
          installationType = LINUX_SNAP;
        } else {
          installationType = LINUX;
        }
        break;
      case 'windows':
      case 'darwin':
        installationType = PLATFORM.toUpperCase();
        break;
    }

    return installationType;
},

isAppUpdateEnabled = function () {
  // App updates are not enabled for enterprise application
  if (enterpriseUtils.isEnterpriseApplication()) {
    return false;
  }
  return _getInstallationType() !== LINUX_SNAP;
};

module.exports = {
  isAppUpdateEnabled
};
const path = require('path');
const os = require('os');
const sectionTypeRegex = /\[(.*)\]/;
const configLineRegex = /(.*)=(.*)/;

const parseCredentailsFile = (contents) => {
  const credentials = {};

  const lines = contents.split('\n').filter((line) => line !== '');

  let currentSectionName = null;
  lines.forEach((line) => {
    if (sectionTypeRegex.exec(line)) {
      currentSectionName = sectionTypeRegex.exec(line)[1];
      credentials[currentSectionName] = {};

      return;
    }

    const rawLine = line.replaceAll(' ', '');
    let parsedLine = configLineRegex.exec(rawLine);
    if (parsedLine.length != 3) {
      throw new Error('Unknown line format');
    }

    const key = parsedLine[1];
    const value = parsedLine[2];
    credentials[currentSectionName][key] = value;
  });
  return credentials;
};

const getAWSCredentialsPath = (filename) => {
  if (!filename) {
    filename = path.join('.aws', 'credentials');
  }
  const homeDir = os.homedir();
  const credentialsPath = path.join(homeDir, '.aws/credentials');

  return credentialsPath;
};

module.exports = {
  parseCredentailsFile,
  getAWSCredentialsPath
};
const request = require('postman-request');
const { XMLParser } = require('fast-xml-parser');
const aws4 = require('aws4');

const generatePath = (requestParams) => '/?' + Object.entries(requestParams)
        .map(([val, key]) => `${val}=${key}`).join('&');

// @ts-check
class STS {
  static STS_URL = 'https://sts.amazonaws.com';
  constructor (config) {
    this.apiVersion = config.apiVersion;
    this.accessKeyId = config.accessKeyId;
    this.secretAccessKey = config.secretAccessKey;
    this.sessionToken = config.sessionToken;
  }

  getSessionToken (params, callback) {
    const requestParams = {
      Version: this.apiVersion,
      Action: 'GetSessionToken',
      DurationSeconds: params.DurationSeconds,
      ...(params.SerialNumber && { SerialNumber: params.SerialNumber }),
      ...(params.TokenCode && { TokenCode: params.TokenCode }),
    },
      path = generatePath(requestParams),
      credentials = {
        accessKeyId: this.accessKeyId,
        secretAccessKey: this.secretAccessKey
      },
      signatureParams = {
        service: 'sts',
        path: path,
      },
      signedData = aws4.sign(signatureParams, credentials);

    const options = {
      method: 'GET',
      url: `${STS.STS_URL}${path}`,
      ...signedData
    };

    request(options, function (err, response) {
      if (err) {
        return callback(err);
      }

      try {
        const parser = new XMLParser();
        const json = parser.parse(response.body);
        if (json['ErrorResponse']) {
          return callback('Failed to get temporary credentials');
        }
        return callback(null, json?.['GetSessionTokenResponse']?.['GetSessionTokenResult']);
      } catch (error) {
        return callback(error);
      }
    });
  }

  assumeRole (params, callback) {
    const requestParams = {
      Version: this.apiVersion,
      Action: 'AssumeRole',
      DurationSeconds: params.DurationSeconds,
      RoleArn: params.RoleArn,
      RoleSessionName: params.RoleSessionName,
      ...(params.SerialNumber && { SerialNumber: params.SerialNumber }),
      ...(params.TokenCode && { TokenCode: params.TokenCode }),
    },
      path = generatePath(requestParams),
      credentials = {
        accessKeyId: this.accessKeyId,
        secretAccessKey: this.secretAccessKey,
        ...(this.sessionToken && { sessionToken: this.sessionToken })
      },
      signatureParams = {
        service: 'sts',
        path: path,
      },
      signedData = aws4.sign(signatureParams, credentials);

    const options = {
      method: 'GET',
      url: `${STS.STS_URL}${path}`,
      ...signedData
    };

    request(options, function (err, response) {
      if (err) {
        return callback(err);
      }

      try {
        const parser = new XMLParser();
        const json = parser.parse(response.body);
        if (json['ErrorResponse']) {
          return callback('Failed to assume role');
        }
        return callback(null, json?.['AssumeRoleResponse']?.['AssumeRoleResult']);
      } catch (error) {
        return callback(error);
      }
    });
  }

  getCallerIdentity (params, callback) {
    const body = {
      Version: this.apiVersion,
      Action: 'GetCallerIdentity',
    },
      credentials = {
        accessKeyId: this.accessKeyId,
        secretAccessKey: this.secretAccessKey,
        ...(this.sessionToken && { sessionToken: this.sessionToken })
      },
      signatureParams = {
        service: 'sts',
        body: `Action=GetCallerIdentity&Version=${this.apiVersion}`
      },
      signedData = aws4.sign(signatureParams, credentials);

    const options = {
      url: `${STS.STS_URL}/`,
      ...signedData,
    };

    request(options, function (err, response) {
      if (err) {
        return callback(err);
      }

      if (response.statusCode != 200) {
        return callback('Failed to verify credentials');
      }

      try {
        const parser = new XMLParser();
        const json = parser.parse(response.body);
        if (json['ErrorResponse']) {
          return callback('Failed to verify credentials');
        }
        return callback(null, true);
      } catch (error) {
        return callback(error);
      }
    });
  }
}

class SecretsManager {
  constructor (config) {
    this.apiVersion = config.apiVersion;
    this.accessKeyId = config.accessKeyId;
    this.secretAccessKey = config.secretAccessKey;
    this.region = config.region;
    this.sessionToken = config.sessionToken;
  }

  getSecretsManagerEndpoint () {
    return `https://secretsmanager.${this.region}.amazonaws.com`;
  }

  getSecretValue (secretData, callback) {
    const credentials = {
        accessKeyId: this.accessKeyId,
        secretAccessKey: this.secretAccessKey,
        sessionToken: this.sessionToken,
      },
      body = JSON.stringify({
        SecretId: secretData.SecretId,
        VersionId: secretData.VersionId,
      }),
      signatureParams = {
        method: 'POST',
        service: 'secretsmanager',
        region: this.region,
        headers: {
          'Content-Type': 'application/x-amz-json-1.1',
          'X-Amz-Target': 'secretsmanager.GetSecretValue'
        },
        body: body
      },
      signedData = aws4.sign(signatureParams, credentials);

    const options = {
      method: 'POST',
      url: this.getSecretsManagerEndpoint(),
      ...signedData,
    };

    request(options, function (err, response) {
      if (err) {
        return callback(err);
      }

      try {
        const json = JSON.parse(response.body);

        if (response.statusCode != 200) {
          return callback('Failed to fetch Secret Value');
        }
        return callback(null, json);
      } catch (error) {
        return callback(error);
      }
    });
  }
}

class IAM {
  static IAM_URL = 'https://iam.amazonaws.com';
  constructor (config) {
    this.apiVersion = config.apiVersion;
    this.accessKeyId = config.accessKeyId;
    this.secretAccessKey = config.secretAccessKey;
  }

  listMFADevices (params, callback) {
    const requestParams = {
      Version: this.apiVersion,
      Action: 'ListMFADevices',
    },
      path = generatePath(requestParams),
      credentials = {
        accessKeyId: this.accessKeyId,
        secretAccessKey: this.secretAccessKey
      },
      signatureParams = {
        service: 'iam',
        path: path,
      },
      signedData = aws4.sign(signatureParams, credentials);

    const options = {
      method: 'GET',
      url: `${IAM.IAM_URL}${path}`,
      ...signedData
    };

    request(options, function (err, response) {
      if (err) {
        return callback(err);
      }

      try {
        const parser = new XMLParser();
        const json = parser.parse(response.body);
        if (json['ErrorResponse']) {
          const type = json['ErrorResponse']?.['Error']?.['Type'];
          const code = json['ErrorResponse']?.['Error']?.['Code'];
          const message = json['ErrorResponse']?.['Error']?.['Message'];

          return callback({
            type,
            code,
            message
          });
        }
        const mfaData = json?.['ListMFADevicesResponse']?.['ListMFADevicesResult'];

        // Due to the way XML is parsed, member is resolved as an object if it contains
        // only one entry. We change it to an array.
        if (mfaData?.MFADevices?.member && !Array.isArray(mfaData.MFADevices.member)) {
          mfaData.MFADevices.member = [mfaData.MFADevices.member];
        }

        if (mfaData?.MFADevices?.member) {
          mfaData.MFADevices = mfaData.MFADevices.member;
        } else {
          mfaData.MFADevices = [];
        }

        return callback(null, mfaData);
      } catch (error) {
        return callback(error);
      }
    });
  }
}

module.exports = {
  STS,
  SecretsManager,
  IAM
};
// node.js dependencies
const path = require('path');
const url = require('url');

// third party dependencies
const electron = require('electron');
const app = electron.app;
const BrowserWindow = electron.BrowserWindow;
const _ = require('lodash');

// internal dependencies
const { getEventName, getEventNamespace } = require('../common/model-event');
const FileService = require('../common/services/FileService');
const { encodeBase122, decodeBase122 } = require('../common/utils/base122EncodeDecode');
const devUrls = require('../common/constants/dev-urls.js');
const { perftraceBegin, perftraceEnd } = require('./perftraceService');

// constants
const CONFIG_FILE_PATH = path.resolve(app.getPath('userData'), 'Postman_Config', 'proxy');
const DEFAULT_PROXY_CONFIG = null;
const AUTH_WINDOW_OPTIONS = {
  width: 400,
  height: 320,
  frame: false,
  resizable: false,
  fullscreenable: false,
  minimizable: false,
  alwaysOnTop: true,
  webPreferences: {
    nodeIntegration: true,
    partition: 'proxyConfig',
    devTools: false,
    contextIsolation: false,
    preload: path.resolve(app.getAppPath(), 'preload/desktop/index.js')
  }
};

class CloudProxyManager {
  constructor () {
    this._proxyAuthWindow = null;
    this._pendingAuthCbs = new Set();
    this._authCancelled = false;

    this._proxyConfig = DEFAULT_PROXY_CONFIG;
  }

  get _shouldAuthenticateRequest () {
    return !this._authCancelled && !this._proxyAuthWindow;
  }

  /**
   * Initialize CloudProxyManager
   */
  init (cb) {

    // The doesFileExist function needs to enclose only the read()
    // function of FileService. If the file cannot be read or,
    // if an error occurs in read(), then the default proxy
    // config will be set.
    perftraceBegin('FileService.doesFileExist()');
    FileService.doesFileExist(CONFIG_FILE_PATH)
      .then((fileStatus) => {
        perftraceEnd('FileService.doesFileExist()');

        // If the file is does not exist, this if block
        // adds a log stating that a proxy has not been
        // setup and returns.
        if (!fileStatus) {
          this._proxyConfig = DEFAULT_PROXY_CONFIG;
          pm.logger.info('Proxy configuration has not been setup');
          return;
        }

        // If there is any error while reading the file, then the catch clause of the
        // outer promise will handle it.
        return FileService.read(CONFIG_FILE_PATH)
          .then((configData) => {
            let parsedConfig = JSON.parse(decodeBase122(configData));
            this._proxyConfig = this.sanitizeConfig(parsedConfig);
          });

      })

      .catch((err) => {
        pm.logger.warn('Proxy configuration file cannot be read - ', err);
        this._proxyConfig = DEFAULT_PROXY_CONFIG;
      })

      .then(() => {
        app.on('login', (event, webContents, request, authInfo, proxyAuthCb) => {
          // If the login event is not coming from a proxy server, we bail out
          if (!authInfo.isProxy) {
            return;
          }

          pm.logger.info('CloudProxyManager~login: Received login event for proxy authentication with auth type - ', authInfo.scheme);

          if (!this._shouldAuthenticateRequest) {
            pm.logger.info('CloudProxyManager~login: Bailing out of login flow');
            return;
          }

          event.preventDefault();

          if (this._proxyConfig && this._proxyConfig.auth) {
            pm.logger.info('CloudProxyManager~login: Credentials already present. Authenticating user');
            proxyAuthCb(this._proxyConfig.auth.username, this._proxyConfig.auth.password);

            return;
          }

          // Saving the address of the proxy server
          this.resolveProxy(request.url, (err, proxyServer, authInfo) => {
            if (err) {
              pm.logger.warn('CloudProxyManager~resolveProxy: Error while resolving proxy for url');
              return;
            }

            this._proxyConfig = _.assign({}, this._proxyConfig, { proxyServer: proxyServer });
          });

          this.openProxyAuthWindow();
        });

        // Setting up listener to listen for logout and switch user events. We need to close the auth window
        // when the current user logs out or switches account
        pm.eventBus.channel('model-events').subscribe((event) => {
          let eventName = getEventName(event),
              eventNamespace = getEventNamespace(event);

          if ((eventNamespace === 'users' && eventName === 'switch') || (eventNamespace === 'user' && eventName === 'logout')) {
            if (!this._proxyAuthWindow) {
              return;
            }

            pm.logger.info('CloudProxyManager: Closing proxy authentication window as user logged out/switched account');
            this.closeProxyAuthWindow();
          }
        });

        this.attachProxyEventListeners();

        pm.logger.info('CloudProxyManager~init - Success');
        cb();
      }).catch((e) => {
        pm.logger.warn('CloudProxyManager~init - Failed with error', e);
        cb();
      });
  }

  /**
   * Open a new BrowserWindow for the user to enter their credentials
   */
  openProxyAuthWindow () {
    pm.logger.info('CloudProxyManager~openProxyAuthWindow: Opening proxy auth window');

    this._proxyAuthWindow = new BrowserWindow(AUTH_WINDOW_OPTIONS);

    require('@electron/remote/main').enable(this._proxyAuthWindow.webContents);

    this._proxyAuthWindow.loadURL(this.getProxyAuthHTML());
    this._proxyAuthWindow.show();
  }

  /**
   * Close the authentication BrowserWindow
   */
  closeProxyAuthWindow () {
    pm.logger.info('CloudProxyManager~closeProxyAuthWindow: Closing proxy auth window');

    this._proxyAuthWindow && this._proxyAuthWindow.close();
    this._proxyAuthWindow = null;
  }

  /**
   * Save the credentials entered by the user to a file
   */
  saveProxyConfig () {
    return FileService.write(CONFIG_FILE_PATH, encodeBase122(this._proxyConfig));
  }

  /**
   * Save the credentials entered by the user to a file and then restart the app
   */
  saveConfigAndRestartApp () {
    this.saveProxyConfig()
      .then(() => {
        pm.logger.info('CloudProxyManager~saveConfigAndRestartApp: Config saved. Restarting app');

        app.relaunch();
        app.quit();
      })
      .catch((err) => {
        pm.logger.warn('CloudProxyManager~saveConfigAndRestartApp: Error while saving config: ', err);
      });
  }

  /**
   * Here we attach event listeners to listen for the following events -
   * 1. handleProxyAuthSubmit - This is the case when the user submits their credentials. In this
   *                            case, we get the credentials from the BrowserWindow and then call
   *                            authCb with the values to authenticate the user.
   * 2. handleProxyAuthCancel - This is the case when the user cancels the authentication. In this
   *                            case, we simply close the BrowserWindow.
   */
  attachProxyEventListeners () {
    const ipcMain = pm.sdk.IPC;

    ipcMain.subscribe('handleProxyAuthSubmit', (event, credentials = {}) => {
      // Caching the credentials entered by the user so that we can authenticate any future requests
      // automatically without having to prompt the user again for credentials.
      this._proxyConfig = this.sanitizeConfig(_.assign({}, this._proxyConfig, { auth: { username: credentials.username, password: credentials.password } }));


      pm.logger.info('CloudProxyManager~handleProxyAuthSubmit: Credentials submitted by user');

      this.closeProxyAuthWindow();
      this.saveConfigAndRestartApp();
    });

    ipcMain.subscribe('handleProxyAuthCancel', (event) => {
      pm.logger.info('CloudProxyManager~handleProxyAuthCancel: Authentication cancelled by user');

      this.closeProxyAuthWindow();
      this._authCancelled = true;
    });
  }

  /**
   * Resolves the proxy server for a given url. The callback given is then called
   * with the following arguments -
   * err -> error object (if there is an error. Otherwise it is null)
   * proxy -> String representing the proxy server. It is of the format 'DIRECT' || 'PROXY [host]:port;PROXY [host]:port;...'
   *          Example - 'PROXY [http://0.0.0.0]:8080;DIRECT;PROXY 0.0.0.0:8081'
   * authInfo -> An object containing the username and password if the proxy requires authentication
   *
   * @param {String} url - The url that the proxy server is to be resolved for
   * @param {Function} cb - Callback
   */
  resolveProxy (url, cb) {
    if (!url || !_.isFunction(cb)) {
      pm.logger.warn('CloudProxyManager~resolveProxy: Invalid parameter(s) given');
      return;
    }

    let defaultSession = electron.session.defaultSession;

    defaultSession.resolveProxy(url).then((proxy) => {
      let authInfo;

      if (this._proxyConfig && (proxy === this._proxyConfig.proxyServer)) {
        authInfo = {
          username: _.get(this._proxyConfig, 'auth.username'),
          password: _.get(this._proxyConfig, 'auth.password')
        };
      }

      cb(null, proxy, authInfo);
    }, (err) => {
      cb(err);
    });
  }

  getProxyAuthHTML (pmBuildEnv = process.env.PM_BUILD_ENV) {
    let htmlPath = path.resolve(__dirname, '..', 'html');
    let authUrl = pmBuildEnv !== 'development' ?
                url.format({ protocol: 'file', pathname: path.resolve(htmlPath, 'proxyAuth.html') }) :
                devUrls.PROXY_AUTH;

    return `${authUrl}?sessionId=${app.sessionId}&logPath=${app.logPath}`;
  }

  /**
   * Checks if the proxy config schema is valid or not. If it is not, returns the DEFAULT_PROXY_CONFIG.
   *
   * @param {Object} proxyConfig
   *
   * @returns {Object}
   */
  sanitizeConfig (proxyConfig) {
    let isConfigValid = true;

    // Here, we are checking if the proxyConfig object is valid or not. Cases being checked are -
    // 1) If the proxy config object does not exist, it is invalid
    // 2) If the auth object inside the proxyConfig does not exist, it is invalid
    // 3) If the auth object exists but username is undefined, we assume that the we have not
    //    received any credentials and that we need not store any auth values, so we fallback to the default
    if (!proxyConfig || !proxyConfig.auth || proxyConfig.auth.username === undefined) {
      isConfigValid = false;
    }

    return isConfigValid ? proxyConfig : DEFAULT_PROXY_CONFIG;
  }
}

module.exports = new CloudProxyManager();
const os = require('os'),
    { app } = require('electron'),
    { getConfig } = require('./AppConfigService'),
    sentry = require('@sentry/node'),
    newrelic = require('./NewRelic'),
    environment = getConfig('__WP_RELEASE_CHANNEL__'),
    isEnabled = getConfig('__WP_ENABLE_CRASH_REPORTING__'),
    appVersion = app.getVersion(),
    PROCESS_NAME = 'main',

    /**
     * @class CrashReporter
     * @description Crash reporter module for main process
     */
    CrashReporter = {
      sentry,
      newrelic,
      isEnabled,

      /**
       * @description It initiate the sentry if the crash reporting is enabled.
       */
      init (cb) {
        if (!isEnabled) {
          cb && cb();
          return;
        }

        const breadCrumbAllowCategories = ['navigation', 'error', 'exception'];
        const newRelicAccount = getConfig('__WP_NEWRELIC_ACCOUNT_ID__');
        const newRelicIngestKey = getConfig('__WP_NEWRELIC_INGEST_KEY__');

        newrelic.init(newRelicIngestKey, newRelicAccount);

        newrelic.setMetadata({
          appVersion,
          environment,

          electron: process.versions.electron,
          node: process.version,
          os: os.type(),
          processName: PROCESS_NAME,
          v8: process.versions.v8
        });

        const sentryDsn = getConfig('__WP_SENTRY_DSN__');
        sentry.init({
          dsn: sentryDsn,
          environment,
          maxBreadcrumbs: 3,

          beforeSend (event) {
            // Drop the exception if it is not a crash -- invoked via CrashHandler
            if (event.tags && !event.tags.fromCrashHandler) {
              return null;
            }

            return event;
          },


          beforeBreadcrumb (breadcrumb) {
            return breadCrumbAllowCategories.includes(breadcrumb.category) ? breadcrumb : null;
          }
        });

        sentry.configureScope((scope) => {
          scope.setTag('os', os.type());
          scope.setTag('processName', PROCESS_NAME);
          scope.setTag('node', process.version);
          scope.setTag('electron', process.versions.electron);
          scope.setExtra('versions', process.versions);
          cb && cb();
        });
      },

      /**
       * @description This will be called to set the user scope anytime in sentry
       * @param {Object} data
       * @param {Function} cb
       */
      setUserScope (data, cb) {
        if (!isEnabled) {
          cb && cb();
          return;
        }

        newrelic.setMetadata(data);

        sentry.configureScope((scope) => {
          scope.setUser(data);
          cb && cb();
        });
      },

      /**
       * @description This will be called to set the extra data anytime in sentry
       * @param {Object} data
       * @param {Function} cb
       */
      setExtraScope (data, cb) {
        if (!isEnabled) {
          cb && cb();
          return;
        }

        newrelic.setMetadata(data);

        sentry.configureScope((scope) => {
          for (const [k, v] of Object.entries(data)) {
            scope.setExtra(k, v);
          }
          cb && cb();
        });
      },

      /**
       * @description provides the crash reporter raw options.
       * @returns {String}
       */
      getRawCrashReporterOptions () {
        const sentryDsn = getConfig('__WP_SENTRY_DSN__');
        return JSON.stringify({
          sentryDsn,
          isEnabled,
          environment,
          appVersion
        });
      }
    };

module.exports = CrashReporter;
const _ = require('lodash'),
  authDataInterface = require('./authDataInterface');

var dbService = {

  async init () {
    await authDataInterface.init();
  },

  /**
   * getData is used to get the partitions from the authDataInterface
   * @param {string} key  the key of the data object
   * @return {Promise<Object>} returns either an empty object or the object of data available
   */
  async getData (key) {
    // bail out if key is not there.
    if (_.isEmpty(key)) {
      return {};
    }
    let dataStr = await authDataInterface.getItem(key),
        dataObj = {};

    if (_.isEmpty(dataStr) || _.isEqual(dataStr === 'undefined')) {
      // Reaching here means, there is no user available so far.
      // so, returns an empty object.
      return {};
    }
    try {
      // Local storage will store only strings, so we need to parse them out before returning.
      dataObj = dataStr;
    }
    finally {
      // returns the parsed data object.
      return dataObj;
    }
  },

  /**
   * setData is used to set the data in authDataInterface
   * @param {string} key  the key of the data object
   * @param {Object} dataObj the data object to be updated in the authDataInterface
   * @returns {Promise<void>}
   */
  async setData (key, dataObj) {
    // bail out if key is not there.
    if (_.isEmpty(key)) {
      return;
    }
    let dataString = {};

    // We need to proceed only if the data provided is an object.
    if (_.isObject(dataObj)) {
      try {
        // Stringify it before storing it in the authDataInterface.
        dataString = dataObj;
      }
      finally {
        // store it in the authDataInterface with the key data.
        await authDataInterface.setItem(key, dataString);
      }
    }
  }
};

module.exports = dbService;

const REACT_DEVELOPER_TOOLS = {
  name: 'React Devtools',
  id: 'fmkadmapgofadopljbjfkapdkoienihi'
};

const MOBX_DEVTOOLS = {
  name: 'Mobx Devtools',
  id: 'pfgnfdagidkfgccljigdamigbcnndkod'
};

const ListOfDevtools = [
  REACT_DEVELOPER_TOOLS,
  MOBX_DEVTOOLS
];

module.exports = {
  ListOfDevtools
};
const fs = require('fs');
const https = require('https');
const { app } = require('electron');
const path = require('path');
const unzip = require('unzip-crx-3');
const devtoolsUtils = require('./devtoolsConstants');

/**
 * @returns String - Path for extensions installed
 */
function _getPath () {
  const savePath = app.getPath('userData');
  return path.resolve(`${savePath}/extensions`);
}

/**
 * @param {*} from
 * @param {*} to
 * @returns
 */
function _downloadFile (from, to) {
  return new Promise((resolve, reject) => {
    const req = https.request(from);
    req.on('response', (res) => {
      // Shouldn't handle redirect with `electron.net`, this is for https.get fallback
      if (res.statusCode && res.statusCode >= 300 && res.statusCode < 400 && res.headers.location) {
        return _downloadFile(res.headers.location, to).then(resolve).catch(reject);
      }
      res.pipe(fs.createWriteStream(to)).on('close', resolve);
      res.on('error', reject);
    });
    req.on('error', reject);
    req.end();
  });
}

/**
 * @param {string} dir
 * @param {string} mode
 */
function _changePermissions (dir, mode) {
  const files = fs.readdirSync(dir);
  files.forEach((file) => {
    const filePath = path.join(dir, file);
    fs.chmodSync(filePath, parseInt(`${mode}`, 8));
    if (fs.statSync(filePath).isDirectory()) {
      _changePermissions(filePath, mode);
    }
  });
}

/**
 * @param {String} chromeStoreID - Extension id
 * @param {Boolean} forceDownload - Forcefully download the extension
 * @param {number} attempts - number of times to reattempt downloading extension
 * @returns {Promise<String>}
 */
function _downloadChromeExtension (chromeStoreID, forceDownload, attempts = 5) {
  const extensionsStore = _getPath();
  if (!fs.existsSync(extensionsStore)) {
      fs.mkdirSync(extensionsStore, { recursive: true });
  }
  const extensionFolder = path.resolve(`${extensionsStore}/${chromeStoreID}`);
  return new Promise((resolve, reject) => {
    if (!fs.existsSync(extensionFolder) || forceDownload) {
      if (fs.existsSync(extensionFolder)) {
        fs.rmdirSync(extensionFolder, { recursive: true });
      }
      const fileURL = `https://clients2.google.com/service/update2/crx?response=redirect&acceptformat=crx2,crx3&x=id%3D${chromeStoreID}%26uc&prodversion=32`; // eslint-disable-line
      const filePath = path.resolve(`${extensionFolder}.crx`);
      _downloadFile(fileURL, filePath)
        .then(() => {
          unzip(filePath, extensionFolder)
            .then(() => {
              _changePermissions(extensionFolder, 755);
              resolve(extensionFolder);
            })
            .catch((err) => {
              if (!fs.existsSync(path.resolve(extensionFolder, 'manifest.json'))) {
                  return reject(err);
              }
            });
        })
        .catch((err) => {
          pm.logger.info(`Failed to fetch extension, trying ${attempts - 1} more times`); // eslint-disable-line
          if (attempts <= 1) {
              return reject(err);
          }
          setTimeout(() => {
            _downloadChromeExtension(chromeStoreID, forceDownload, attempts - 1)
              .then(resolve)
              .catch(reject);
          }, 200);
        });
    }
    else {
      resolve(extensionFolder);
    }
  });
}

/**
 * @param {Function} cb
 */
function init (cb) {
  const ListOfDevtools = devtoolsUtils.ListOfDevtools;
  const promiseArray = [];

  for (const index in ListOfDevtools) {
    promiseArray.push(_downloadChromeExtension(ListOfDevtools[index].id, false).then((extensionFolder) => {
      pm.logger.info(`DevtoolsInstaller~Extension downloaded for ${ListOfDevtools[index].name} at`, extensionFolder);
    }).catch((err) => {
      pm.logger.info(`DevtoolsInstaller~Error occurred while downloading extension for ${ListOfDevtools[index].name}`, err);
    }));
  }

  Promise.allSettled(promiseArray).then(() => {
    app.on('session-created', (session) => {
      if (!session.isPersistent() || !app.isReady()) {
        return;
      }
      const ListOfDevtools = devtoolsUtils.ListOfDevtools;
      for (const index in ListOfDevtools) {
        session.loadExtension(path.resolve(app.getPath('userData'), 'extensions', ListOfDevtools[index].id), { allowFileAccess: true }).then((result) => {
          pm.logger.info('DevtoolsInstaller~Devtools loaded', result.name);
        }).catch((err) => {
          pm.logger.error('DevtoolsInstaller~Error ocurred while attaching devtools', err);
        });
      }
    });
    return cb(null);
  });
}

module.exports = {
  init
};
const { crashReporter } = require('electron');

const releaseChannel = require('./AppConfigService').getConfig('__WP_RELEASE_CHANNEL__').toLowerCase();

class ElectronCrashReporter {
  init () {
    let sentryURL;
    if (releaseChannel === 'prod') {
      sentryURL = 'https://o1224273.ingest.sentry.io/api/6543787/minidump/?sentry_key=4657359d34004de980b15867cd04eb7a';
    }
    else if (releaseChannel === 'canary') {
      sentryURL = 'https://o1224273.ingest.sentry.io/api/6702904/minidump/?sentry_key=e8a4f1f6a54b42cfaf566a35a388fad0';
    }
    else {
      sentryURL = 'https://o1224273.ingest.sentry.io/api/6567626/minidump/?sentry_key=474eeea76b4d438496a9c1f839dc1711';
    }

    // Initialize the crash reporter from electron to collect crash dumps for crashes happening in main & renderer process.
    // Crash dumps will be present inside user data directory.

    // This logic generates random number b/w 1-100. Since the volume of the crash reports uploaded to sentry is too high as of today
    // We are randomly opting in to upload these crash dumps to sentry.
    let randomNumber = Math.floor((Math.random() * 100) + 1);

    if (randomNumber >= 50) {
      crashReporter.start({
        uploadToServer: true,
        rateLimit: true,
        submitURL: sentryURL,
        compress: true
      });
    }
    else {
      crashReporter.start({
        uploadToServer: false
      });
    }
  }
}

exports.ElectronCrashReporter = new ElectronCrashReporter();
var HttpProxy = require('http-proxy'),
  path = require('path'),
  http = require('http'),
  https = require('https'),
  net = require('net'),
  fs = require('fs'),
  urlParser = require('url'),
  tls = require('tls'),
  _ = require('lodash'),
  crypto = require('crypto'),
  getPort = require('get-port'),
  accumulateResponse = require('./ResponseAccumulator'),
  { parallel, waterfall } = require('async'),
  lruCache = require('lru-cache'),
  certMap = {},
  proxyConstants = require('../constants/ProxyConstants'),
  proxyCertificateService = require('./proxyCertificateService').proxyCertificateService,
  which = require('which'),
  { generateCert } = require('./proxyCertificateUtil'),
  certMapFile;

const STORE_LOC = process.env.STORE_LOC,
  ROOT_CA_DIR = path.resolve(STORE_LOC, 'proxy'),
  CERT_DIR = path.resolve(ROOT_CA_DIR, 'certificates'),
  SKIP_RESPONSE_TYPES = [
    'audio',
    'video',
    'image'
  ],
  PROXY_CAPTURE_HEADER = 'x-postman-captr';

// This was commented out because this set the property on the entire process
// including requests made through the Postman UI
// process.env.NODE_TLS_REJECT_UNAUTHORIZED = '0';

var regex_hostport = /^([^:]+)(:([0-9]+))?$/,
  proxyErrorMessage = 'You can find more information in the logs (View > Developer > View Logs in Finder/Explorer)',
  proxyGenericErrorMessage = `Postman\'s proxy was unable to forward your request correctly. ${proxyErrorMessage}`,
  proxyDNSFailedErrorMessage = `DNS Lookup failed. ${proxyErrorMessage}`,
  proxyConnectionRefusedErrorMessage = `No connection could be made. ${proxyErrorMessage}`;

/**
 * @description It returns the host and port from the host string
 * @return {Array}
 */
function getHostPortFromString (hostString, defaultPort) {
  var host = hostString;
  var port = defaultPort;

  var result = regex_hostport.exec(hostString);
  if (result != null) {
    host = result[1];
    if (result[2] != null) {
      port = result[3];
    }
  }

  return ([host, port]);
}

/**
 * Exchanges data between proxy socket and request socket
 *
 * @param {*} socketRequest the Socket for the current request
 * @param {*} bodyHead the body headers for the request
 * @param {string} httpVersion the version of HTTP request
 * @param {number} freePort the port used for proxy connection
 */
function proxyData (socketRequest, bodyHead, httpVersion, freePort) {
  var host = 'localhost',
    proxySocket = new net.Socket();

  proxySocket.connect(parseInt(freePort), host, function () {
    proxySocket.write(bodyHead);
    socketRequest.write('HTTP/' + httpVersion + ' 200 Connection established\r\n\r\n');
  });

  proxySocket.pipe(socketRequest);
  socketRequest.pipe(proxySocket);

  proxySocket.on('error', function (err) {
    pm.logger.error('electronProxy~proxyData ~ proxySocket error: ', err);
    socketRequest.write('HTTP/' + httpVersion + ' 500 ConnectionError\r\n\r\n');
    socketRequest.end();
  });
  socketRequest.on('error', function (err) {
    pm.logger.error('electronProxy~proxyData ~ socketRequest error', err);
    proxySocket.end();
  });
  proxySocket.on('close', (hadError) => {
    if (hadError) {
      pm.logger.error('electronProxy~proxyData ~ Proxy socket had error');
    }
  });
  socketRequest.on('close', (hadError) => {
    if (hadError) {
      pm.logger.error('electronProxy~proxyData ~ Socket request had error');
    }
  });
}

/**
* Creates a https server for a common name
*
* @param {number} freePort the free port on which https server is listening
* @param {object} keys object that has the client key and certificate associated with the commonName
* @param {function} capturedRequestCallback the callback function called for each request captured
*/
function createHttpsServer (freePort, keys, capturedRequestCallback) {
  const map = {},
    cleanUpResource = (key) => {
      key && delete map[key];
    };

  let proxyHttps = HttpProxy.createProxyServer()
    .on('proxyRes', (proxyRes, req, res) => {
      const response = {},
        key = _.get(req.headers, PROXY_CAPTURE_HEADER);
      _.assign(response, _.pick(proxyRes, 'headers', 'statusCode', 'statusMessage'));

      let queryData = '',
        timeTaken,
        startTime;

      // Intercept response
      if (!isResponseInterceptSkipped(proxyRes)) {
        accumulateResponse(res, proxyRes, function (responseBody) {
          response['body'] = responseBody;

          const mappedInfo = map[key];
          if (mappedInfo) {
            ({ queryData, startTime, timeTaken } = mappedInfo);
            if (!timeTaken && startTime) {
              timeTaken = Date.now() - startTime;
            }
          }
          capturedRequestCallback(req.url, req.method, req.headers, queryData, response, timeTaken, startTime);
          cleanUpResource(key);
          return responseBody;
        });
      } else {
        const mappedInfo = map[key];
          if (mappedInfo) {
            ({ queryData, startTime, timeTaken } = mappedInfo);
            if (!timeTaken && startTime) {
              timeTaken = Date.now() - startTime;
            }
          }
        delete response['body'];
        capturedRequestCallback(req.url, req.method, req.headers, queryData, response, timeTaken, startTime);
        cleanUpResource(key);
      }
    })
    .on('error', function (err, req, res) {
      if (err.code === 'ECONNREFUSED') {
        res.end(proxyConnectionRefusedErrorMessage);
      }
      else if (err.code === 'ENOTFOUND') {
        res.end(proxyDNSFailedErrorMessage);
      }
      else {
        res.end(proxyGenericErrorMessage);
      }
      pm.logger.error('electronProxy - Error proxying https', err);
    });

  var proxyServerHttps = https.createServer(keys, (req, res) => {
    let oldProxyHttps = proxyHttps;
    const startTime = Date.now();
    let timeTaken;

    req.url = 'https://' + req.socket.servername + req.url;
    var urlParts = urlParser.parse(req.url, true),
      target = urlParts.protocol + '//' + urlParts.host,
      queryData = '';
    req.on('data', (data) => {
      queryData += data;
      if (queryData.length > 1e6) {
        queryData = '';
      }
    });
    req.on('error', (err) => {
      pm.logger.info('Error with proxy req', err);
    });
    req.on('end', () => {
      timeTaken = Date.now() - startTime;

      // Find relevant track
      let key = _.get(req.headers, PROXY_CAPTURE_HEADER);

      if (key) {
        map[key] = { queryData, startTime, timeTaken, ended: true };
      }
    });
    try {
      // Important
      // Set capture header to track
      const key = String(parseInt(Math.random() * 10000000));
      req.headers[PROXY_CAPTURE_HEADER] = key;
      map[key] = { queryData, startTime };
      oldProxyHttps.web(req, res, { target: target }, (err) => {
        pm.logger.info('Error while proxying HTTPS requests', err);
      });
    }
    catch (err) {
      pm.logger.info('Error in proxying HTTPS requests: ', err);
    }
  });
  proxyServerHttps.on('error', (err) => {
    pm.logger.info('Error while creating HTTPS proxy server', err);
  }).listen(freePort);
  return proxyServerHttps;
}

/**
 * Checks if OpenSSL is installed on the system.
 *
 * @returns {Promise} - resolves to true if openssl is present or os is windows or mac; false otherwise - does NOT reject
 */
function checkOpenSSLInstallation () {
  return new Promise((resolve) => {

    /**
     * This check is only required for linux as for other operating systems openssl
     * is not a dependency, since we use node-forge to generate the ssl certificates.
     *
     * Hence we return true for operating systems other than linux
     */
    if (process.platform !== 'linux') return resolve(true);

    which('openssl', function (error) {
      if (error) {
        return resolve(false);
      }
      return resolve(true);
    });
  });
}

/**
 * Determines if response can be captured or not
 *
 * @param {object} capturedResponse The response returned by the proxy.
 * @returns {boolean} - true if response is eligible to be captured , else false
 */
function isResponseInterceptSkipped (capturedResponse) {
  const contentType = _.get(capturedResponse, ['headers', 'content-type']);
  return contentType && _.some(SKIP_RESPONSE_TYPES, (responsePattern) => (contentType && contentType.search(responsePattern) >= 0));
}


exports.electronProxy = {
  proxy: null,
  proxy_s: null,
  proxyServer: null,
  proxyServer_s: null,
  lastHttpsUrl: null,

  /**
   * @param {Number} port - Number denoting the port on which to start the proxy
   * @param {Function} proxyClosedCallback callback function called when the proxy closes
   * @param {Function} capturedRequestCallback callback function to capture the request
   * @param {Function} proxyStartErrorCallback callback function called when there's an error while starting proxy
   * @param {Function} proxyStartSuccessCallback callback function called when proxy is started successfully
   */
  startProxy: async (port, proxyClosedCallback, capturedRequestCallback,
    proxyStartErrorCallback, proxyStartSuccessCallback, proxyErrorCallback) => {
    var cnPortCache = new lruCache({
      max: 200,
      length: (val, cn) => {
        return 1;
      },
      dispose: (cn, ctx) => {
        const server = ctx.server;
        server.close();
      }
    }),
      certMapFile = path.resolve(CERT_DIR, 'cert.json'),
      rootCA = {},
      certificatesGenerated = false,
      isOpenSSLInstalled = await checkOpenSSLInstallation();

    // Send error if openssl not installed
    if (!isOpenSSLInstalled) {
      proxyErrorCallback({
        type: 'opensslError'
      });
    }

    try {
      const result = await proxyCertificateService.generateRootCAForProxy(STORE_LOC);
      rootCA = result.rootCA;
      certMap = JSON.parse(fs.readFileSync(certMapFile, 'utf8'));
      certificatesGenerated = true;
    } catch (e) {
      pm.logger.error('Failed to ensure presence of root CA', e);
    }

    try {
      var oldThis = this;
      this.proxy = HttpProxy.createProxyServer({
        secure: false,
        ssl: {
          key: rootCA.key,
          cert: rootCA.cert
        }
      });
      this.proxy_s = HttpProxy.createProxyServer({
        secure: false,
        ssl: {
          key: rootCA.key,
          cert: rootCA.cert
        }
      });

      this.proxy.on('error', function (err, req, res) {
        if (err.code === 'ECONNREFUSED') {
          res.end(proxyConnectionRefusedErrorMessage);
        }
        else if (err.code === 'ENOTFOUND') {
          res.end(proxyDNSFailedErrorMessage);
        }
        else {
          res.end(proxyGenericErrorMessage);
        }
        pm.logger.error('electronProxy - Error proxying http', err);
      });

      this.proxy.on('close', function (e) {
        if (e) {
          pm.logger.error('electronProxy - Some error occurred while shutting down http proxy', e);
        }
        pm.logger.info('electronProxy - Shut down http proxy');
        proxyClosedCallback();
      });

      this.proxy_s.on('close', function (e) {
        pm.logger.info('electronProxy - Shut down https proxy');
        proxyClosedCallback();
      });
      this.proxyServer = http.createServer(function (req, res) {
        const start = Date.now();
        let response = {},
          timeTaken;
        var urlParts = urlParser.parse(req.url, true);
        var target1 = urlParts.protocol + '//' + urlParts.host;
        try {
          var queryData = '';
          if (req.method === 'POST' || req.method === 'PUT') {
            req.on('data', function (data) {
              queryData += data;
              if (queryData.length > 1e6) {
                queryData = '';
              }
            });
          }
          oldThis.proxy.web(req, res, { target: target1 });
          oldThis.proxy.once('proxyRes', function (proxyRes, req, res) {
            _.assign(response, _.pick(proxyRes, 'headers', 'statusCode', 'statusMessage'));
            if (!isResponseInterceptSkipped(proxyRes))
            accumulateResponse(res, proxyRes, function (responseBody) {
              response['body'] = responseBody;
              timeTaken = Date.now() - start;
              capturedRequestCallback(req.url, req.method, req.headers, queryData, response, timeTaken, start);
              return responseBody;
            });
          });
        }
        catch (e) {
          pm.logger.error('electronProxy - Error proxying', e);
        }
      });

      this.proxyServer.on('error', (e) => {
        this.proxyServer.close();
        if (e.code === 'EADDRINUSE') {
          proxyStartErrorCallback({
            message: 'One of the ports the proxy server requires ' +
              '(' + port + ') is already in use. Please choose a different port ' +
              'before restarting the proxy server.',
            error: e
          });
        }
        pm.logger.error('Error in proxy server', e);
      });

      try {
        pm.logger.info('Attempting to start proxy server on port: ' + port + '...');
        this.proxyServer.listen(port);
        if (this.proxyServer.listening) {
          // proxy server is ready to listen
          proxyStartSuccessCallback();
        }
      }
      catch (e) {
        pm.logger.error('electronProxy - Error in starting proxy', e);
      }

      // Connect event is the first event shared accross hostnames where we get certificate
      isOpenSSLInstalled && certificatesGenerated && this.proxyServer.addListener(
        'connect',
        function (request, socketRequest, bodyHead) {
          var url = request.url,
            httpVersion = request.httpVersion,
            hostport = getHostPortFromString(url, 443),
            hostname = hostport[0],
            options = {
              port: hostport[1],
              host: hostport[0],
              servername: hostport[0],
              ...rootCA
            },
            socket;

          oldThis.lastHttpsUrl = url;

          socket = tls.connect(options, async () => {
            var certificate = socket.getPeerCertificate(),
              commonName = _.get(certificate, 'subject.CN'),
              san = _.get(certificate, 'subjectaltname'),
              sanList = san && san.split(','), // check for existence of san
              temp, freePort, i;


            if (sanList) { // check for sanList
              // Format Subject Alternative Names for CSR creation
              for (i = 0; i < sanList.length; i++) {
                if (process.platform === 'linux') {
                  temp = 'DNS.' + (i + 1) + '=';
                  sanList[i] = sanList[i].replace(/[' ']?DNS:/, temp);
                }
                else {
                  temp = '';
                  sanList[i] = {
                    type: 2,
                    value: sanList[i].replace(/[' ']?DNS:/, temp)
                  };
                }
              }
            }


            if (cnPortCache.has(hostname)) {
              // This means server is already running so directly proxy data
              freePort = cnPortCache.get(hostname).port;
              proxyData(socketRequest, bodyHead, httpVersion, freePort);
            }

            else if (certMap[hostname]) {
              try {
                // certificate already exists in the certificates folder
                let filePath = certMap[hostname],
                  keys = {};

                // Read certificate and key file
                keys = await proxyCertificateService.getCertificateAndKey(filePath.certFile, filePath.keyFile);

                // find a free port to start a new HTTPS server.
                getPort().then((freePort) => {
                  const proxyHttpsServer = createHttpsServer(freePort, keys, capturedRequestCallback);
                  cnPortCache.set(hostname, {
                    server: proxyHttpsServer,
                    port: freePort
                  });
                  proxyData(socketRequest, bodyHead, httpVersion, freePort);
                });
              } catch (e) {
                pm.logger.error('Error occurred in proxying requests', e);
              }
            }

            else {
              const csrOptions = {
                country: proxyConstants.COUNTRY,
                commonName: commonName,
                altNames: sanList
              };
              const attr = [
                {
                  name: 'commonName',
                  value: commonName
                },
                {
                  name: 'countryName',
                  value: proxyConstants.COUNTRY
                }];
                const options = {
                  clientCertificate: true,
                  clientCertificateCN: commonName,
                  keySize: 2048,
                  keyPair: {
                    privateKey: rootCA.key,
                    publicKey: rootCA.cert
                  },
                  algorithm: proxyConstants.HASH,
                  days: proxyConstants.DAYSTOEXPIRY,
                  extensions: [
                    {
                      name: 'keyUsage',
                      digitalSignature: true,
                      nonRepudiation: true,
                      keyEncipherment: true
                    },
                    {
                      name: 'basicConstraints',
                      cA: false
                    },
                    {
                      name: 'subjectAltName',
                      altNames: sanList
                    }]
                  };
              waterfall([
                (callback) => {
                  // create a new certificate
                  generateCert(attr, options, csrOptions, (err, keys) => {
                      var hash = crypto.createHash('md5').update(hostname).digest('hex'),
                        certFileName = path.resolve(CERT_DIR, (hash + '.crt')),
                        keyFileName = path.resolve(CERT_DIR, (hash + '.key'));
                      certMap[hostname] = { keyFile: keyFileName, certFile: certFileName };

                      // write certificate, key and certMap
                      parallel([
                          (callback) => {
                            fs.writeFile(certFileName, keys.certificate, 'utf8', (err) => {
                              if (err) {
                                return callback(err);
                              }
                              callback();
                            });
                          },
                          (callback) => {
                            fs.writeFile(keyFileName, keys.clientKey, 'utf8', (err) => {
                              if (err) {
                                return callback(err);
                              }
                              callback();
                            });
                          },
                          (callback) => {
                            fs.writeFile(certMapFile, JSON.stringify(certMap, true, 2), (err) => {
                              if (err) {
                                return callback(err);
                              }
                              callback();
                            });
                          }
                      ]);
                      callback(err, keys);
                  });
                },
                (keys, callback) => {
                  // find a free port
                  getPort().then((freePort) => {
                    callback(null, keys, freePort);
                  }, (err) => {
                    callback(err, keys, null);
                  });
                },
                (keys, freePort, callback) => {
                  // start a new server for the common name and proxy data
                  let certificate = {
                    cert: keys.certificate,
                    key: keys.clientKey
                  };
                  const proxyHttpsServer = createHttpsServer(freePort, certificate, capturedRequestCallback);
                  cnPortCache.set(commonName, {
                    server: proxyHttpsServer,
                    port: freePort
                  });
                  proxyData(socketRequest, bodyHead, httpVersion, freePort);
                  callback(null);
                }
              ], (err) => {
                if (err) {
                  proxyStartErrorCallback(err);
                }
              });
            }
          });
        }
      );
      return 0;
    }
    catch (e) {
      pm.logger.error('electronProxy - Error listening to Port: ', e);
      return -1;
    }
  },

  /**
   * Stops the proxy
   */
  stopProxy: function () {
    var proxy = this.proxy;
    var proxy_s = this.proxy_s;
    var proxyServer = this.proxyServer;
    var proxyServer_s = this.proxyServer_s;
    if (proxy) { proxy.close(); }
    if (proxy_s) { proxy_s.close(); }
    if (proxyServer) { proxyServer.close(); }
    if (proxyServer_s) { proxyServer_s.close(); }
  }
};
const app = require('electron').app;

const enterpriseAppName = [
  'PostmanEnterpriseBeta',
  'PostmanEnterprise',
  'PostmanEnterpriseStage'
];

/**
 * This function returns the whether the application is enterprise application or not
 * @returns {Boolean}
 */
function isEnterpriseApplication () {
  return enterpriseAppName.includes(app.getName());

}

module.exports = {
  isEnterpriseApplication
};
const electron = require('electron');
const i18n = require('i18next');
const appSettings = require('./appSettings').appSettings;
const _ = require('lodash').noConflict();

const DISABLE_GPU_SETTING = 'disableGPU';

const setDisableGPUSetting = async (value) => {
  pm.logger.info(`Setting ${DISABLE_GPU_SETTING} to ${value}`);
  return new Promise((resolve, reject) => {
    appSettings.set(DISABLE_GPU_SETTING, Boolean(value), (error) => {
      return error ? reject(error) : resolve();
    });
  });
};

const relaunch = async (browserWindow, title, message, onRestart) => {
  const response = await electron.dialog.showMessageBox(browserWindow, {
    title,
    message,
    type: 'info',
    buttons: [i18n.t('gpu.relaunch_cancel'), i18n.t('gpu.relaunch_restart')],
    defaultId: 1,
    cancelId: 0
  });

  if (response.response !== 1) {
    return;
  }

  await onRestart();
  electron.app.relaunch();
  electron.app.exit(0);
};

exports.isGPUEnabled = async () => {
  return electron.app.getGPUInfo('basic').then((gpuInfo) => {
    for (const device of gpuInfo.gpuDevice) {
      pm.logger.info(`GPU detected VID ${device.vendorId} DID ${device.deviceId} ACTIVE ${device.active}`);
    }

    // The current Electron version seems to fail to detect any
    // "gpuDevice" as "active", however the main GPU is still in
    // use. This could be a bug in Electron.
    // TODO(jviotti): Check if this is still the case after the
    // Electron v11 upgrade.
    if (process.platform === 'win32') {
      return true;
    }

    return _.some(gpuInfo.gpuDevice, (device) => {
      return device.active;
    });
  }).catch((error) => {
    // If the GPU is not enabled, then the `getGPUInfo` function
    // will crash with an error like this.
    if (error.message.startsWith('GPU access not allowed')) {
      return false;
    }

    throw error;
  });
};

exports.disableGPU = async (browserWindow = electron.BrowserWindow.getFocusedWindow()) => {
  if (!electron.app.isReady()) {
    pm.logger.info('Disabling GPU');
    electron.app.disableHardwareAcceleration();

    // Disabling hardware acceleration does not completely
    // disable the GPU, while these flags do.
    electron.app.commandLine.appendSwitch('disable-software-rasterizer');
    electron.app.commandLine.appendSwitch('disable-gpu');

    await setDisableGPUSetting(true);
    return;
  }

  const isGPUEnabled = await exports.isGPUEnabled();
  if (!isGPUEnabled) {
    pm.logger.info('The GPU is already disabled');
    return;
  }

  return relaunch(browserWindow,
    i18n.t('gpu.disable_confirm_title'),
    i18n.t('gpu.disable_confirm_description'), async () => {
      return setDisableGPUSetting(true);
    });
};

exports.enableGPU = async (browserWindow = electron.BrowserWindow.getFocusedWindow()) => {
  const isGPUEnabled = await exports.isGPUEnabled();
  if (isGPUEnabled) {
    pm.logger.info('The GPU is already enabled');
    return;
  }

  // Electron does not provide a method to re-enable the GPU
  // if it was manually disabled before the application is ready,
  // so this is the best that we can do in this case. The GPU
  // will be re-enabled the next time the application is started.
  if (!electron.app.isReady()) {
    await setDisableGPUSetting(false);
    return;
  }

  return relaunch(browserWindow,
    i18n.t('gpu.enable_confirm_title'),
    i18n.t('gpu.enable_confirm_description'), async () => {
      return setDisableGPUSetting(false);
    });
};

exports.shouldDisableGPU = () => {
  // https://postman.zendesk.com/agent/tickets/19959
  // This environment variable has precedence
  if (process.env.POSTMAN_DISABLE_GPU === 'true') {
    pm.logger.info('The POSTMAN_DISABLE_GPU is set to true');
    return true;
  }

  const disableGPU = _.attempt(appSettings.getSync, DISABLE_GPU_SETTING);
  pm.logger.info(`The ${DISABLE_GPU_SETTING} setting is set to ${disableGPU}`);

  // The setting has been manually set
  if (typeof disableGPU === 'boolean') {
    return disableGPU;
  } else if (_.isError(disableGPU)) {
    pm.logger.error(disableGPU);
  }

  // Enable GPU by default
  return false;
};

exports.getToggleMenuItem = async () => {
  const isGPUEnabled = await exports.isGPUEnabled();
  return new electron.MenuItem({
    /* We aren't updating the label on user selection.
     The label is presented as updated, because of the fact that we recreate
     the menu everytime user toggles the GPU by restarting the application.*/
    label: isGPUEnabled ? i18n.t('gpu.disable') : i18n.t('gpu.enable'),
    click: (menuItem, browserWindow) => {
      Promise.resolve().then(async () => {
        if (isGPUEnabled) {
          await exports.disableGPU(browserWindow);
        } else {
          await exports.enableGPU(browserWindow);
        }
      }).catch((error) => {
        throw error;
      });
    }
  });
};
{
  "top_menu": {
    "file": {
      "new": "New...",
      "new_tab": "New Tab",
      "new_runner_tab": "New Runner Tab",
      "new_postman_window": "New Postman Window",
      "import": "Import...",
      "settings": "Settings",
      "close_window": "Close Window",
      "close_tab": "Close Tab",
      "force_close_tab": "Force Close Tab",
      "file_label": "File",
      "quit_win": "Exit",
      "quit_linux": "Quit"
    },
    "osx_app": {
      "about": "About {{appName}}",
      "check_updates": "Check for Updates...",
      "preferences": "Preferences",
      "services": "Services",
      "hide_app": "Hide {{appName}}",
      "hide_others": "Hide Others",
      "show_all": "Show All",
      "quit": "Quit {{appName}}"
    },
    "edit": {
      "edit_label": "Edit",
      "undo": "Undo",
      "redo": "Redo",
      "cut": "Cut",
      "copy": "Copy",
      "paste": "Paste",
      "paste_match_style": "Paste and Match Style",
      "delete": "Delete",
      "select_all": "Select All"
    },
    "view": {
      "view_label": "View",
      "toggle_full_screen": "Toggle Full Screen",
      "zoom_in": "Zoom In",
      "zoom_out": "Zoom Out",
      "reset_zoom": "Reset Zoom",
      "toggle_sidebar": "Toggle Sidebar",
      "toggle_two_pane": "Toggle Two-Pane View",
      "show_console": "Show Postman Console",
      "developer": {
        "label": "Developer",
        "show_devtools": "Show DevTools (Current View)",
        "view_logs": "View Logs in Finder",
        "view_logs_win": "View Logs in Explorer",
        "view_logs_linux": "View Logs in File Manager"
      }
    },
    "window": {
      "window_label": "Window",
      "minimize": "Minimize",
      "zoom": "Zoom",
      "close_window": "Close Window",
      "go_back": "Go Back",
      "go_forward": "Go Forward",
      "next_tab": "Next Tab",
      "prev_tab": "Previous Tab",
      "bring_to_front": "Bring All to Front"
    },
    "help": {
      "help_label": "Help",
      "setup_web_gateway": "Setup Web Gateway Support",
      "clear_cache_reload": "Clear Cache and Reload",
      "documentation": "Documentation",
      "github": "GitHub",
      "twitter": "Twitter",
      "support": "Support",
      "check_updates": "Check for Updates"
    }
  },
  "dock_menu": {
    "new_collection": "New Collection",
    "new_window": "New Window"
  },
  "gpu": {
    "disable": "Disable Hardware Acceleration",
    "enable": "Enable Hardware Acceleration",
    "enable_confirm_description": "You are about to enable hardware acceleration. The application needs to be restarted for this change to take effect.",
    "enable_confirm_title": "Enabling Hardware Acceleration",
    "disable_confirm_description": "You are about to disable hardware acceleration. The application needs to be restarted for this change to take effect.",
    "disable_confirm_title": "Disabling Hardware Acceleration",
    "relaunch_cancel": "Cancel",
    "relaunch_restart": "Restart"
  },
  "new_account_region_preference": {
    "top_label": "Region Preference for New Accounts",
    "preferences_label": {
      "use_us_region": "Use US Region by Default",
      "use_eu_region": "Use EU Region by Default",
      "always_prompt": "Always Ask for Region Selection"
    }
  }
}
/**
 * Logs an error message with context for New Relic
 * @param {string} errorMessage - The error message to log
 * @param {Error} error - The error object
 * @param {JSON} extraErroInfo - Any other arguments relevant to the log
 */
function error (errorMessage, error = null, extraErroInfo = {}) {
  // We need to pass the context to the logger, so that it can be used in New Relic
  extraErroInfo.context = pm.logger.getContext('i18n', 'ux-foundation');

  // The error object might not be truthy, so we create an error object if it is not
  const errorParam = !error ? new Error() : error;

  pm.logger.error(errorMessage, errorParam, extraErroInfo);
}

exports.i18nLogger = {
  error
};
const i18n = require('i18next'),
  { getConfig } = require('../AppConfigService'),
  RELEASE_CHANNEL = getConfig('__WP_RELEASE_CHANNEL__'),
  menuManager = require('../menuManager').menuManager,
  { getAppSettings, setAppSettings } = require('../../utils/appSettingsUtils'),
  i18nLogger = require('./i18nLogger'),
  enUS = require('./en-US.json'),
  ja = require('./ja.json');

const ALLOWED_LOCALES = [{
    locale: 'en-US',
    resource: enUS
  }, {
    locale: 'ja',
    resource: ja
  }],
  DEFAULT_LOCALE = 'en-US',
  STORAGE_KEY = 'localeUserPreference',
  i18n_EVENT_BUS = 'i18n-events',
  LOCALE_CHANGED_EVENT = 'localeChanged',
  i18n_EVENT_NAMESPACE = 'i18n-requester-signed-in',
  i18n_MAIN_EVENT_NAMESPACE = 'i18n-electron-main-locales';

/**
 * Refresh OS Menu
 */
async function _refreshMenu () {
  try {
    let isShortcutsDisabled;
    try {
      // Retrieve if shortcut is disabled
      isShortcutsDisabled = await getAppSettings('shortcutsDisabled');
    } catch (err) {
      i18nLogger.error('i18nService~_refreshMenu : Error while retrieving shortcutsDisabled flag', err);
      return;
    }

    // Only way to change language of the menu is to recreate it
    menuManager.createMenu(isShortcutsDisabled);
  } catch (error) {
    i18nLogger.error('i18nService~_refreshMenu : Error while refreshing OS menu', error);
  }
}

class i18nService {
  locale = DEFAULT_LOCALE;

  /**
   * Set locale in the locale storage to cache the user preference locally
   * @param {string} locale
   */
  async _setLocaleCache (locale) {
    if (!locale) {
      return;
    }
    this.locale = locale;

    // Persist the user preference locally
    // so that we don't need to rely on async API calls to determine user preferred language
    // for subsequent launches
    return setAppSettings(STORAGE_KEY, locale).catch((error) => {
      i18nLogger.error('i18nService~_setLocaleCache : Error while setting the user preferred locale', error);
    });
  }

  /**
   * Change locale used in app - primarily OS menus
   * @param {string} locale
   * @returns {Promise} A promise to change locale
   */
  async changeLocale (locale) {
    if (this.locale === locale) {
      return;
    }

    await i18n.changeLanguage(locale);

    // Refresh OS menus
    await _refreshMenu();

    // Update locale cache
    return this._setLocaleCache(locale);
  }

  /**
   * Initialize i18n in main process
   */
  init = async () => {
    let appliedLocale = this.locale;

    try {
      // Retrieve user preferred locale so that all system messages appear in proper language from the beginning
      let locale = await getAppSettings(STORAGE_KEY);
      if (locale) {
        appliedLocale = locale;
      }
    } catch (error) {
      // For error case, log the error and continue with default locale
      i18nLogger.error('i18nService~init : Error while retrieving stored locale preference', error);
    }

    // Listen to language change in requester and change language locally
    pm.eventBus.channel(i18n_EVENT_BUS).subscribe((event = {}) => {
      const { name, namespace, data } = event;
      if (name === LOCALE_CHANGED_EVENT && [i18n_EVENT_NAMESPACE, i18n_MAIN_EVENT_NAMESPACE].includes(namespace)) {
        if (!data || !data.locale) {
          i18nLogger.error('i18nService~localeChanged event bus - locale is not supplied');
          return;
        }

        // Apply the change
        this.changeLocale(data.locale);
      }
    });

    const resources = {};

    ALLOWED_LOCALES.forEach(({ locale, resource }) => {
      resources[locale] = {
        translation: resource
      };
    });

    return i18n
      .init({
        lng: appliedLocale,
        fallbackLng: DEFAULT_LOCALE,
        load: 'currentOnly',
        debug: ['dev', 'beta'].includes(RELEASE_CHANNEL),
        resources,
        saveMissing: true,
        missingKeyHandler: (lngs, ns, key) => {
          i18nLogger.error('i18n ~ missingKeyHandler', null, { lngs, ns, key });
        }
      })
      .catch((error) => {
        i18nLogger.error('i18nService~init : Failed to initialize i18n', error);
      });
  }
}

module.exports = new i18nService();
{
  "top_menu" : {
    "file" : {
      "new" : "...",
      "new_tab" : "",
      "new_runner_tab" : "",
      "new_postman_window" : " Postman ",
      "import" : "...",
      "settings" : "",
      "close_window" : "",
      "close_tab" : "",
      "force_close_tab" : "",
      "file_label" : "",
      "quit_win" : "",
      "quit_linux" : ""
    },
    "osx_app" : {
      "about" : "{{appName}}",
      "check_updates" : "...",
      "preferences" : "",
      "services" : "",
      "hide_app" : "{{appName}}",
      "hide_others" : "",
      "show_all" : "",
      "quit" : "{{appName}} "
    },
    "edit" : {
      "edit_label" : "",
      "undo" : "",
      "redo" : "",
      "cut" : "",
      "copy" : "",
      "paste" : "",
      "paste_match_style" : "",
      "delete" : "",
      "select_all" : ""
    },
    "view" : {
      "view_label" : "",
      "toggle_full_screen" : "",
      "zoom_in" : "",
      "zoom_out" : "",
      "reset_zoom" : "",
      "toggle_sidebar" : "",
      "toggle_two_pane" : "2 ",
      "show_console" : "Postman ",
      "developer" : {
        "label" : "",
        "show_devtools" : "DevTools ",
        "view_logs" : "Finder",
        "view_logs_win" : "",
        "view_logs_linux" : ""
      }
    },
    "window" : {
      "window_label" : "",
      "minimize" : "",
      "zoom" : "/",
      "close_window" : "",
      "go_back" : "",
      "go_forward" : "",
      "next_tab" : "",
      "prev_tab" : "",
      "bring_to_front" : ""
    },
    "help" : {
      "help_label" : "",
      "setup_web_gateway" : "Web",
      "clear_cache_reload" : "",
      "documentation" : "",
      "github" : "GitHub",
      "twitter" : "Twitter",
      "support" : "",
      "check_updates" : ""
    }
  },
  "dock_menu" : {
    "new_collection" : "",
    "new_window" : ""
  },
  "gpu" : {
    "disable" : "",
    "enable" : "",
    "enable_confirm_description" : "",
    "enable_confirm_title" : "",
    "disable_confirm_description" : "",
    "disable_confirm_title" : "",
    "relaunch_cancel" : "",
    "relaunch_restart" : ""
  },
  "new_account_region_preference" : {
    "top_label" : "",
    "preferences_label" : {
      "use_us_region" : " US ",
      "use_eu_region" : " EU ",
      "always_prompt" : ""
    }
  }
}const { getOrCreateUuid, NIL_UUID } = require('./installationId');

const appSettings = require('../appSettings').appSettings,
  { app } = require('electron');

/**
 * @description Utility to generate and maintain a unique identifier per directory.
 *  Generates a uuid if not already generated. Also creates a file with .uuid extension to persist the uuid.
 *  Retrieves the previously generated uuid by using the meta data of uuid file.
 *  Inorder to respect the existing installation id, we are also looking in the app settings before creating.
 *  This change from using app settings to uuid file is due to https://postmanlabs.atlassian.net/browse/CFDTN-229
 *
 * @returns { Promise<Object> } A promise which resolves to an object with id and isCreatedNow properties.
 *  uuid will be '00000000-0000-0000-0000-000000000000', if storing a generated uuid fails - not to create multiple id's for a single installation.
 *  isCreatedNow will be true if the id is generated now, false otherwise.
 *  Uuid file creation fails if the API 'electron.app.getPath('userData')' breaks.
 *
 * @requires appSettings The electron storage since we try to retrieve the already stored installation id from it.
 * @requires pm.logger The logger to use
 */
function getOrCreateInstallationId () {
  const directory = app.getPath('userData'); // the directory where the uuid needs to be maintained.
  return getOrCreateUuid(directory, appSettings, pm.logger);
}

module.exports = { getOrCreateInstallationId, NIL_UUID };
const fs = require('fs'),
  path = require('path'),
  uuidV4 = require('uuid/v4'),
  NIL_UUID = '00000000-0000-0000-0000-000000000000';

/**
 * @description Get uuid from the input directory. Lookup fails, if the input directory is invalid.
 *   This looks for a file with .uuid extension. The filename will be the uuid.
 *
 * @param { String } directory the directory where the uuid file needs to be searched.
 * @returns { Promise<String | null> } a promise which resolves to the id if exists, null otherwise.
 */
function getUuidFromTheDirectory (directory, logger) {
  return fs.promises.readdir(directory)
    .then((files) => {
      for (const file of files) {
        const parsedFile = path.parse(file);
        if (parsedFile.ext === '.uuid') {
          return parsedFile.name;
        }
      }
      return null;
    })
    .catch((err) => {
      logger.error('installationId~getUuidFromTheDir - Error while trying to read the uuid filename as installationId from the directory ', err);
      return null;
    });
}

/**
 * @description Writes it as the name of a uuid file in the input directory. Fails to create the file, if the directory is invalid.
 * @param { String } directory the directory where the uuid file needs to be created. The directory should exists.
 * @param { String } uuid unique id to be persisted.
 * @returns { Promise<Boolean> } Promise which resolves to true, if the file creation succeeds. false, otherwise
 */
function createUuidFile (directory, uuid, logger) {
  const uuidFilePath = path.resolve(directory, `${uuid}.uuid`);
  return fs.promises.writeFile(uuidFilePath, '')
    .then(() => { return true; })
    .catch((err) => {
      logger.error('installationId~createUuidFile - Error while trying to write the installationId as uuid filename in the directory ', err);
      return false;
    });
}

/**
 * @description Gets uuid from AppSettings of the application.
 * @returns { Promise<String | null> } a promise which resolves to the uuid, if exists in app settings, null otherwise.
 */
function getUuidFromAppSettings (appSettings, logger) {
  return new Promise((resolve, reject) => {
    appSettings.get('installationId', (err, id) => {
      if (id) {
        return resolve(id);
      }
      err && logger.warn('installationId~getUuidFromAppSettings - Error while trying to get installationId from appSettings');
      return resolve(null);
    });
  });
}

/**
 * @description Utility to generate and maintain a unique identifier per directory.
 *  Generates a uuid if not already generated. Also creates a file with .uuid extension to persist the uuid.
 *  Retrieves the previously generated uuid by using the meta data of uuid file.
 *  Inorder to respect the existing installation id, we are also looking in the app settings before creating.
 *
 * @param { String } directory The absolute path of the directory where the installation id is to be maintained.
 * @param { Object } appSettings The appSettings Service object which will be used to look up the previously generated installation id.
 * @param { Object } logger The logger object to use
 *
 * @returns { Promise<Object> } A promise which resolves to an object with id and isCreatedNow properties.
 *  uuid will be '00000000-0000-0000-0000-000000000000', if storing a generated uuid fails - not to create multiple id's for a single installation.
 *  isCreatedNow will be true if the id is generated now, false otherwise.
 *  Uuid file creation fails if the directory is not valid.
 */
async function getOrCreateUuid (directory, appSettings, logger = console) {
  let uuid = await getUuidFromTheDirectory(directory, logger);
  if (uuid) {
    return { id: uuid, isCreatedNow: false };
  }

  uuid = await getUuidFromAppSettings(appSettings, logger);
  if (uuid) {
    await createUuidFile(directory, uuid, logger);
    return { id: uuid, isCreatedNow: false };
  }

  uuid = uuidV4();
  const isUuidFileCreated = await createUuidFile(directory, uuid, logger);
  if (!isUuidFileCreated) {
    return { id: NIL_UUID, isCreatedNow: true };
  }
  return { id: uuid, isCreatedNow: true };
}

module.exports = { getOrCreateUuid, NIL_UUID };

/**
 * @file it exposes APIs for in-app integration of Native app ~ Interceptor communication
 * Learn more: https://postmanlabs.atlassian.net/wiki/spaces/PRODOPS/pages/1647181956/APIs+for+in-app+installation+of+Interceptor+Bridge
 */
var async = require('async'),
  _ = require('lodash'),
  windowManager = require('./windowManager').windowManager,
  utils = require('../utils/interceptor/utils.js').utils,

  /**
   * Added a debounce as `checkInstallationStatus` API is called by renderer process.
   * Multiple Postman windows can cause performance issue as this will be called once by each window.
   * Potential performance issue is reported for Windows as `checkInstallationStatusForWindows`
   * checks for registry key by spawning the registry console tool (cmd.exe)
   *
   * See GitHub Issue: https://github.com/postmanlabs/postman-app-support/issues/7925
   */
  checkInstallationStatusForMacOSOnce = _.debounce(utils.checkInstallationStatusForMacOS, 3000),
  checkInstallationStatusForWindowsOnce = _.debounce(utils.checkInstallationStatusForWindows, 3000),
  checkInstallationStatusForLinuxOnce = _.debounce(utils.checkInstallationStatusForLinux, 3000);

exports.installer = {

  /**
   * downloads node in `~/Downloads/` folder only for macOS
   * throws an error for Windows, Linux as Node installation is not required
   */
  installNode () {

    // required only for macOS
    if (utils.currentOS !== 'MACOS') {
      throw new Error('The current OS does not require Node installation');
    }

    // emitting `nodeInstallationStatusUpdate: downloadStarted` event
    windowManager.sendInternalMessage({
      'event': 'nodeInstallationStatusUpdate',
      'object': {
        status: 'downloadStarted'
      }
    });

    async.auto({
      // creates `~/Downloads` directory if not present
      downloadDirectoryPath: utils.createDownloadsDirectory,
      installationDependencies: utils.getNodeInstallerDependencies,
      nodeInstallerPath: ['downloadDirectoryPath', 'installationDependencies', utils.downloadNodeInstaller],
      installNode: ['nodeInstallerPath', 'installationDependencies', utils.initiateNodeInstallation]
    }, (err, res) => {
      if (err) {
        console.log('Error occurred while downloading Node installer', err);
        var errObj = {};
        errObj.status = 'error';
        errObj.errorMessage = err.message;
        if (err.type) {
          errObj.type = err.type;
        }
        if (err.subType) {
          errObj.subType = err.subType;
        }
        windowManager.sendInternalMessage({
          'event': 'nodeInstallationStatusUpdate',
          'object': errObj
        });
      }
    });
  },


  /**
   * first fetches the JSON containing URLs (along with SHA256 hash) to download Interceptor dependencies,
   * 1. creates `~/.postman/InterceptorBridge` directory,
   * 2. puts the downloaded Interceptor Bridge at created directory,
   * 3. checks for node in case of macOS
   * 4. adds manifest at os-specific location
   * 5. adds registry key in case of windows
   */
  installInterceptorBridge () {

    // sending an event to renderer
    windowManager.sendInternalMessage({
      'event': 'interceptorBridgeInstallationStatusUpdate',
      'object': {
        status: 'downloadStarted'
      }
    });

    async.auto({
      // fetches installation dependencies and emits event
      interceptorDependencies: utils.fetchInterceptorDependenciesManifest,
      interceptorBridgeDirectoryPath: utils.createPostmanInterceptorBridgeDirectory,
      nodeInstalledStatus: utils.checkNodeInstallationStatus,
      interceptorBridgeFilePath: ['interceptorDependencies', 'interceptorBridgeDirectoryPath', 'nodeInstalledStatus', utils.downloadInterceptorBridge],
      manifest: ['interceptorBridgeFilePath', utils.createManifest],
      manifestInstalled: ['manifest', utils.installManifest],
      registryKey: utils.addRegistryKey
    }, (err, res) => {
      if (err) {
        var errObj = {};
        errObj.status = 'error';
        errObj.errorMessage = err.message;

        // err.type can be 'download', 'installation', 'nodeRequired'
        if (err.type) {
          errObj.type = err.type;
        }

        // err.subType can be 'CHROME_NOT_INSTALLED', 'INTERNET_CONNECTIVITY', 'REGISTRY_ACCESS_NEEDED', 'FILE_PERMISSIONS_REQUIRED'
        if (err.subType) {
          errObj.subType = err.subType;
        }
        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeInstallationStatusUpdate',
          'object': errObj
        });
        console.log('Error occurred while installing InterceptorBridge', err);
      }
      else {
        console.log('InterceptorBridge is installed successfully');
        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeInstallationStatusUpdate',
          'object': {
            status: 'installationFinished'
          }
        });
      }
    });
  },

  /**
   * Check for os-specific interceptor dependencies:
   * 1. the existence of Interceptor Bridge and Manifest at os-specific locations
   * 2. presence of node in case of macOS,
   * 3. registry key in case of windows
   *
   * Learn more: https://developer.chrome.com/extensions/nativeMessaging
   */
  checkInstallationStatus () {
    switch (utils.currentOS) {
      case 'MACOS':
        checkInstallationStatusForMacOSOnce();
        break;
      case 'WINDOWS':
        checkInstallationStatusForWindowsOnce();
        break;
      case 'LINUX':
        checkInstallationStatusForLinuxOnce();
        break;
      default:
        console.log('Current OS is not supported');
        break;
    }
  },

  /**
   * resets the interceptor bridge installation by removing its dependencies
   *
   * 1. removes `InterceptorBridge` directory
   * 2. removes manifest present at os-specific location
   * 3. removes registry key (only in case of windows)
   */
  resetInstallation () {
    async.parallel({
      interceptorBridge: utils.removeInterceptorBridge,
      manifest: utils.removeManifest,
      registryKey: utils.removeRegistryKey
    }, (err, resetStatus) => {
      if (err) {
        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeResetStatusUpdate',
          'object': {
            status: 'error',
            errorMessage: err.message
          }
        });
        console.log('Error occurred while resetting Interceptor Bridge: ', err);
      }
      else {
        var message = [];

        // checking if Interceptor Bridge is removed
        if (resetStatus.interceptorBridge.error) {
          message.push(resetStatus.interceptorBridge.message);
        }

        // checking if manifest is removed
        if (resetStatus.manifest.error) {
          message.push(resetStatus.manifest.message);
        }

        // checking if registry key is removed
        if (resetStatus.registryKey.error) {
          message.push(resetStatus.registryKey.message);
        }

        // sending message to renderer if anything couldn't be removed
        // asking users to remove manually
        if (message.length > 0) {
          windowManager.sendInternalMessage({
            'event': 'interceptorBridgeResetStatusUpdate',
            'object': {
              status: 'error',
              errorMessage: message.join('\n')
            }
          });
          console.log('Interceptor Bridge reset failed');
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'interceptorBridgeResetStatusUpdate',
            'object': {
              status: 'success'
            }
          });
          console.log('Interceptor Bridge is reset successfully');
        }
      }
    });
  }
};
const webSocketServer = require('./websocketServer').webSocketServer,
  ipcClient = require('./ipcClient').ipcClient,
  windowManager = require('./windowManager').windowManager,
  CONN_WEBSOCKET = 'websocket',
  CONN_BRIDGE = 'ipcBridge';

let connectionTypeMap = new Map(),
  activeConnection = null,

  // These commands should be broadcasted to all connected clients
  commandsForBroadcast = ['UPDATED_DOMAIN_LIST', 'CONFIGURE_WORKSPACE_DATA', 'CONFIGURE_REQUEST_CAPTURE_FILTERS'],

  // Messages that will be passed on to Interceptor manager despite not coming
  // from a client which is not "active"
  whiteListedMessages = ['REQUEST_ADD_DOMAIN', 'REQUEST_REMOVE_DOMAIN', 'REQUEST_CONFIGURE_REQUEST_CAPTURE', 'REQUEST_ENABLE_COOKIE_SYNC'];


exports.interceptorConnection = {
  /**
   * Callback to be called when connection to interceptor is established
   *
   * @param {string} connectionType Whether the connection is websocket or bridge
   * @param {string} connId The id of the connection
   */
  onConnect: function (connectionType, connId) {
    connectionTypeMap.set(connId, connectionType);

    if (activeConnection === null) {
      activeConnection = connId;
    }

    windowManager.sendInternalMessage({
      'event': 'newInterceptorConnection',
      'object': {
        connId
      }
    });
  },

  /**
   * Handler to be called on disconnect
   *
   * @param {string} connId The id of the connection
   */
  onDisconnect: function (connId) {
    let source = connectionTypeMap.get(connId);

    if (connId === activeConnection) {
      this.removeActiveConnection();
    }
    else {
      connectionTypeMap.delete(connId);
    }

    if (activeConnection === null) {
      var msg = {
        type: 'UPDATE_CONNECTION_STATUS',
        data: {
          connectedToPostman: false,
          source
        }
      };
      windowManager.sendInternalMessage({
        'event': 'updateInterceptorBridgeConnectionStatus',
        'object': msg
      });
    }
  },

  /**
   * Remove the currently active connection
   */
  removeActiveConnection: function () {
    if (connectionTypeMap.has(activeConnection)) {
      connectionTypeMap.delete(activeConnection);
    }

    if (connectionTypeMap.size > 0) {
      activeConnection = connectionTypeMap.keys().next().value;
    }
    else {
      activeConnection = null;
    }
  },

 /**
  * Send internal message to UI if the request is coming from
  * active Connection
  */
  sendInternalMessage: function (message, connId) {
    message.object.connId = connId;

    // Only pass white-listed messages or which comes from active connection
    if (connId === activeConnection || whiteListedMessages.includes(message?.object?.type)) {
      windowManager.sendInternalMessage(message);
    }
  },

  initializeIpcClient: function () {
    ipcClient.initialize({
      onConnect: this.onConnect.bind(this, CONN_BRIDGE),
      onDisconnect: this.onDisconnect.bind(this),
      sendInternalMessage: this.sendInternalMessage.bind(this)
    });
  },

  initializeWebSocketServer: function ({ port }) {
    webSocketServer.initialize({
      onConnect: this.onConnect.bind(this, CONN_WEBSOCKET),
      onDisconnect: this.onDisconnect.bind(this),
      sendInternalMessage: this.sendInternalMessage.bind(this),
      port: port
    });
  },

  sendActiveSessionStatus ({ isActive }) {
    let message = {
      type: 'ANOTHER_SESSION_ACTIVE',
      postmanMessage: {
        value: isActive
      }
    };
    if (isActive) {
      for (let connId of connectionTypeMap.keys()) {
        if (connId !== activeConnection) {
          if (connectionTypeMap.get(connId) === CONN_WEBSOCKET) {
            webSocketServer.sendEncryptedMessageToInterceptor(message, connId);
          }
          else {
            ipcClient.sendEncryptedMessageToInterceptor(message);
          }
        }
        else {
          // To the connection client, reverse the message value
          this.sendEncryptedMessageToInterceptor({
            type: 'ANOTHER_SESSION_ACTIVE',
            postmanMessage: {
              value: false
            } });
        }
      }
    }
    else {
      this.broadcastToAllConnectedClients(message);
    }
  },

  broadcastToAllConnectedClients (message) {
    for (let connId of connectionTypeMap.keys()) {
      if (connectionTypeMap.get(connId) === CONN_WEBSOCKET) {
        webSocketServer.sendEncryptedMessageToInterceptor(message, connId);
      }
      else {
        ipcClient.sendEncryptedMessageToInterceptor(message);
      }
    }
  },

  sendEncryptedMessageToInterceptor: function (message) {
    if (commandsForBroadcast.includes(message?.type)) {
      this.broadcastToAllConnectedClients(message);
    }
    else if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.sendEncryptedMessageToInterceptor(message, activeConnection);
    }
    else {
      ipcClient.sendEncryptedMessageToInterceptor(message);
    }

  },

  disconnect: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.disconnect(activeConnection);
    }
    else {
      ipcClient.disconnect();
    }
  },

  setEncryptionKeyForInterceptor: function (key) {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.setEncryptionKeyForInterceptor(key, activeConnection);
    }
    else {
      ipcClient.setEncryptionKeyForInterceptor(key);
    }
  },

  startKeyValidationFlow: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.startKeyValidationFlow(activeConnection);
    }
    else {
      ipcClient.startKeyValidationFlow();
    }
  },

  sendEncryptionKeyToRenderer: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.sendEncryptionKeyToRenderer(activeConnection);
    }
    else {
      ipcClient.sendEncryptionKeyToRenderer();
    }
  },

  sendSyncDomainListToRenderer: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.sendSyncDomainListToRenderer(activeConnection);
    }
    else {
      ipcClient.sendSyncDomainListToRenderer();
    }
  },

  sendCustomEncryptionKeyToRenderer: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.sendCustomEncryptionKeyToRenderer(activeConnection);
    }
    else {
      ipcClient.sendCustomEncryptionKeyToRenderer();
    }
  },

  removeCustomEncryptionKeyFromInterceptor: function () {
    if (connectionTypeMap.get(activeConnection) === CONN_WEBSOCKET) {
      webSocketServer.removeCustomEncryptionKeyFromInterceptor(activeConnection);
    }
    else {
      ipcClient.removeCustomEncryptionKeyFromInterceptor();
    }
  },

  changeActiveConnection: function ({ connectionId }) {
    activeConnection = connectionId;
  }
};
var app = require('electron').app,
  windowManager = require('./windowManager').windowManager,
  appSettings = require('./appSettings').appSettings,
  ipc = require('node-ipc'),
  { encryptAES, decryptAES } = require('@raisinten/aes-crypto-js'),
  { getConfig } = require('./AppConfigService'),
  uuid = require('uuid'),
  interceptorBridgeSocketName = getConfig('__WP_INTERCEPTOR_BRIDGE_SOCKET_NAME__'), // channel specific
  appVersion = app.getVersion();

// default encryption key for Postman
const POSTMAN_DEFAULT_KEY = 'postman_default_key',

// default payload used for key validation
DEFAULT_KEY_VALIDATION_PAYLOAD = {
  type: 'KEY_VALIDATION_STRING',
  message: 'Default key validation string'
};

// key (passphrase to be used for encryption/decryption)
var encryptionKey = POSTMAN_DEFAULT_KEY,

  // TODO: Add comments
  isClientConnected = false,

  // TODO: Check if we need a uuid here
  connectionId = uuid(),

  // number of open renderer windows
  currentOpenWindows = 0;

/**
 * @description it fetches the encryption key stored in appSettings and sets it in the global variable i.e. encryptionKey
 * if not found, sets the POSTMAN_DEFAULT_KEY as encryptionKey
 */
function initializeEncryptionKey () {
  appSettings.get('encryptionKeyForInterceptor', (err, encryptionKeyForInterceptor) => {
    if (err) {
      pm.logger.error('INTERCEPTOR CONNECTIVITY: Error getting encryption key', err);
    }
    else {
      if (!encryptionKeyForInterceptor) {
        encryptionKey = POSTMAN_DEFAULT_KEY;
      }
      else {
        encryptionKey = encryptionKeyForInterceptor;
      }
    }
  });
}

/**
 * @param {string} data encrypted string
 * @description used to decrypt the string using encryption key stored as global variable
 */
function decrypt (data) {
  try {
    return decryptAES(data, encryptionKey);
  }
  catch (err) {
    pm.logger.error(err);
    return {
      type: 'KEY_MISMATCH',
      data: {
        message: 'InterceptorBridge : keys are not same at interceptor and app'
      }
    };
  }
}

/**
 * @param {object} data payload to be encrypted
 * @description used to encrypt the payload using encryption key stored as global key
 */
function encrypt (data) {
  try {
    return encryptAES(data, encryptionKey);
  }
  catch (err) {
    pm.logger.error(err);
    return {
      type: 'INVALID_KEY',
      data: {
        message: 'unable to encrypt, key might be invalid'
      }
    };
  }
}

/**
 * @param {string} data encrypted payload
 * @description used to check whether the same key exists at App and Interceptor or not.
 * It validates the key by using encryption/decryption of same default payload at Interceptor and App
 * Interceptor encrypts a default payload using it's own key and sends it to app, app tries to decrypt it
 * if both are same, validation true otherwise false.
 */
function validateKey (data) {
  try {
    var decryptedData = JSON.parse(decrypt(data));
    return {
      type: 'KEY_VALIDATION_RESULT',
      data: {
        validation: (decryptedData.type === DEFAULT_KEY_VALIDATION_PAYLOAD.type
        && decryptedData.message === DEFAULT_KEY_VALIDATION_PAYLOAD.message
        )
      }
    };
  }
  catch (err) {
    return {
      type: 'KEY_VALIDATION_RESULT',
      data: {
        validation: false
      }
    };
  }
}

// encryption key is initialized once the main process of app loads
initializeEncryptionKey();

exports.ipcClient = {
  initialize: function ({ onConnect, onDisconnect, sendInternalMessage }) {
    this.sendInternalMessage = sendInternalMessage;
    ipc.config.id = 'postmanClient';
    ipc.config.retry = 3000;
    ipc.config.silent = true;

    let channel = pm.eventBus.channel('requester-window-events');
    channel.subscribe(this.requesterWindowHandler.bind(this));

    pm.logger.info('INTERCEPTOR CONNECTIVITY: Connecting to Interceptor Bridge');
    ipc.connectTo(interceptorBridgeSocketName, () => {
      ipc.of[interceptorBridgeSocketName].on('connect', () => {
        pm.logger.info('InterceptorBridge: connected with postman app');

        onConnect(connectionId);
        isClientConnected = true;

        var msg = {
          type: 'UPDATE_CONNECTION_STATUS',
          data: {
            connectedToPostman: true
          }
        };
        this.sendMessageToInterceptor('connection_established', msg);
        this.sendInternalMessage({
          'event': 'updateInterceptorBridgeConnectionStatus',
          'object': msg
        },
          connectionId);
      });

      ipc.of[interceptorBridgeSocketName].on('disconnect', () => {
        if (isClientConnected) {
          pm.logger.info('InterceptorBridge: disconnected from postman app');
          isClientConnected = false;
          onDisconnect(connectionId);
        }
      });

      ipc.of[interceptorBridgeSocketName].on('forward_encrypted_msg_to_app', (data) => {
        var msg;
        try {
          var decryptedText = decrypt(data.payload);
          if (decryptedText.type === 'KEY_MISMATCH') {
            this.sendMessageToInterceptor('forwardMessageToInterceptor', decryptedText);
          }
          else {
            try {
              msg = JSON.parse(decryptedText);
            }
            catch (err) {
              msg = {
                type: 'KEY_MISMATCH',
                data: {
                  message: 'InterceptorBridge : keys are not same at interceptor and app'
                }
              };
            }
          }
        }
        catch (err) {
          msg = {
            type: 'KEY_MISMATCH',
            data: {
              message: 'InterceptorBridge : keys are not same at interceptor and app'
            }
          };
        }
        this.sendInternalMessage({
          'event': 'interceptorResponse',
          'object': msg
        },
          connectionId);
      });

      ipc.of[interceptorBridgeSocketName].on('forward_msg_to_app', (msg) => {
        if (msg.type === 'REMOVE_ENCRYPTION') {
          this.removeCustomEncryptionKey();
        }
        else if (msg.type === 'VALIDATE_KEY') {
          var keyValidationResult = validateKey(msg.data);
          this.sendMessageToInterceptor('forwardMessageToInterceptor', keyValidationResult);
          this.sendInternalMessage({
            'event': 'interceptorResponse',
            'object': keyValidationResult
          },
            connectionId);
        }
        else {
          this.sendInternalMessage({
            'event': 'interceptorResponse',
            'object': msg
          },
            connectionId);
        }
      });
    });
  },

  sendEncryptedMessageToInterceptor: function (message) {
    const releaseChannel = getConfig('__WP_RELEASE_CHANNEL__').toLowerCase();

    message.appVersion = appVersion;
    message.releaseChannel = releaseChannel;
    if (ipc && ipc.of && ipc.of[interceptorBridgeSocketName]) {
      ipc.of[interceptorBridgeSocketName].emit('forwardEncryptedMessageToInterceptor', {
        id: ipc.config.id,
        message: encrypt(JSON.stringify(message))
      });
    }
  },

  setEncryptionKeyForInterceptor: function (key) {
    // reinitializes the encryption key as new key will be stored in appSettings
    encryptionKey = key;
    appSettings.set('encryptionKeyForInterceptor', key, (err) => {
      pm.logger.error('INTERCEPTOR CONNECTIVITY: Error persisting encryption key', err);
    });

    // sending the encryption key to renderer to update the UI
    this.sendCustomEncryptionKeyToRenderer();
  },

  sendEncryptionKeyToRenderer: function () {
    var secretKey = {
      key: encryptionKey
    };
    this.sendInternalMessage({
      'event': 'fetchEncryptionKey',
      'object': secretKey
    },
      connectionId);
  },

  startKeyValidationFlow: function () {
    // encrypts default validation payload and sends it to interceptor
    // to check whether the same key exists at interceptor or not
    var encryptedData = encrypt(JSON.stringify(DEFAULT_KEY_VALIDATION_PAYLOAD));

    this.sendMessageToInterceptor('forwardMessageToInterceptor', {
      type: 'VALIDATE_KEY',
      data: encryptedData
    });
  },

  sendSyncDomainListToRenderer: function () {
    this.sendInternalMessage({
      'event': 'getSyncDomainListForInterceptor'
    },
      connectionId);
  },

  /**
   * Sends the custom encryption key to the renderer
   * Note: The custom key is shown in the UI
   */
  sendCustomEncryptionKeyToRenderer: function () {
    this.sendInternalMessage({
      'event': 'fetchCustomEncryptionKey',
      'object': {
        key: encryptionKey
      }
    },
      connectionId);
  },

  disconnect: function () {
    if (isClientConnected) {
      ipc.disconnect(interceptorBridgeSocketName);
      isClientConnected = false;
    }
  },

  /**
   * Handler for the events published by `windowManager`,
   * fired when a renderer window is opened or closed.
   *
   * Does following:
   * 1. Sends connected status as false when there's no renderer window open
   * 2. Sends connection status when number of open windows goes from zero to one
   *
   * @param {Object} event contains type (can be `window-opened` or `window-closed`)
   */
  requesterWindowHandler: function (event) {
    if (event.type === 'window-opened') {
      if (currentOpenWindows === 0 && windowManager.openWindowIds.length >= 1) {
        // number of open windows going from zero to one
        // updating the connection status
        this.sendMessageToInterceptor('connection_established', {
          type: 'UPDATE_CONNECTION_STATUS',
          data: {
            connectedToPostman: isClientConnected
          }
        });
      }
    }
    else if (event.type === 'window-closed') {
      if (currentOpenWindows >= 1 && windowManager.openWindowIds.length === 0) {
        // last window is closed, no open windows any more
        // sending connection as false
        this.sendMessageToInterceptor('connection_established', {
          type: 'UPDATE_CONNECTION_STATUS',
          data: {
            connectedToPostman: false
          }
        });
      }
    }
    currentOpenWindows = windowManager.openWindowIds.length;
  },

  sendMessageToInterceptor: function (event, message) {
    message.appVersion = appVersion; // current Postman app version
    ipc.of[interceptorBridgeSocketName].emit(event, {
      id: ipc.config.id,
      message
    });
  },

  /**
   * Removes the custom encryption key from the interceptor.
   */
  removeCustomEncryptionKeyFromInterceptor: function () {
    this.sendMessageToInterceptor('forwardMessageToInterceptor', {
      type: 'REMOVE_ENCRYPTION'
    });
  },

  /**
   * Removes the custom encryption key by resetting it to the default key.
   * @function removeCustomEncryptionKey
   * @returns {void}
   */
  removeCustomEncryptionKey: function () {
    encryptionKey = POSTMAN_DEFAULT_KEY;
    this.startKeyValidationFlow();

    this.sendInternalMessage({
      'event': 'interceptorResponse',
      'object': {
        type: 'REMOVE_ENCRYPTION'
      }
    },
      connectionId);
  }
};
/**
 * This module is used to choose a 'Leader' from a group of requester windows. This is useful
 * in the case when multiple requester windows are trying to perform an action that needs to be
 * done only once.
 *
 * In this case, the requester windows can ask this module to choose one as the `Leader` and only
 * that window can then be allowed to perform that action.
 */
var LeaderSelection = {
  leaderId: null,

  initialize () {
    try {
      LeaderSelection.leaderId = null;

      let requesterEventsChannel = pm.eventBus.channel('requester-window-events');

      requesterEventsChannel.subscribe((event = {}) => {
        // Case for window-closed event. It has the structure { type, windowId } and does
        // not follow the conventional event structure. So, adding a special case here.
        if (event.type === 'window-closed') {
          // If the the closed window ID is the same as the leaderId, we reset the leaderId
          // to null
          (event.windowId === LeaderSelection.leaderId) && LeaderSelection.setLeaderId(null);

          return;
        }

        // Case for other events in the requester-events namespace on the requester-window-events channel
        if (event.namespace !== 'requester-events' || event.name !== 'isWindowLeader') {
          return;
        }

        let isLeader = false,
          windowId = event.data && event.data.id,
          type = event.data && event.data.type;

        if (type === 'requester') {
          // A leader has not been selected yet. Set the current one as the leader
          if (!LeaderSelection.leaderId) {
            LeaderSelection.setLeaderId(windowId);
          }

          // If the leaderId is the same as the windowId, set isLeader to true
          if (LeaderSelection.leaderId === windowId) {
            isLeader = true;
          }
        }

        requesterEventsChannel.publish({
          name: 'isWindowLeaderReply',
          namespace: 'requester-events',
          data: {
            id: windowId,
            isLeader
          }
        });
      });

      pm.logger.info('LeaderSelection: Initialized successfully');
    }

    catch (e) {
      pm.logger.warn('LeaderSelection: Error while initializing', e);
    }

  },

  setLeaderId (id) {
    LeaderSelection.leaderId = id;
  }
};

module.exports = LeaderSelection;
const os = require('os'),
    { mkdir } = require('fs'),
    path = require('path'),
    { app } = require('electron'),
    { Originator, Collectors } = require('@postman/app-logger'),
    { getValue } = require('../utils/processArg'),
    CrashReporter = require('./CrashReporter'),

    /**
     * @description Assigns the logging folder path
     * @return {String}
     */
    getLogPath = () => {
      return getValue('log-path') || path.resolve(app.getPath('userData'), 'logs');
    },

    Logger = {
      init (cb) {
        // Assign logging folder information first
        let FileCollector = Collectors.File,
            ConsoleCollector = Collectors.Console,
            SentryCollector = Collectors.Sentry,
            NewRelicCollector = Collectors.NewRelic,
            origin = 'main',
            sessionId = app.sessionId,
            collectors = [],
            logPath = getLogPath();

        mkdir(logPath, { recursive: true }, (err) => {
          try {
            if (err) {
              throw err;
            }

            // Set the logging folder information
            app.logPath = logPath;

            // create collectors
            collectors = [
              new FileCollector({
                file: path.resolve(logPath, `${origin}.log`)
              })
            ];

            CrashReporter.isEnabled && collectors.push(new SentryCollector({ sentry: CrashReporter.sentry }));
            CrashReporter.isEnabled && collectors.push(new NewRelicCollector({ newrelic: CrashReporter.newrelic }));
            process.env.PM_BUILD_ENV !== 'production' && collectors.push(new ConsoleCollector());

            // Attach the logger to global
            global.pm.logger = new Originator({ origin, collectors, sessionId });
          }
          catch (e) {
            global.pm.logger = console; // defaults to console

            // Add a helper to create a context object
            // Fallback so modules that assume that pm.logger is using `app-logger` won't misbehave
            global.pm.logger.getContext = function getContext (api, domain) {
              return {
                  api,
                  domain
              };
            };

            // Don't fail the boot if logger fails
            pm.logger.error('Logger initialization failed', e);
          }
          finally {
            // Initial logger
            pm.logger.info(`Booting ${app.getName()} ${app.getVersion()}, ${os.platform()}-${os.release()} on ${os.arch()}`);
            cb();
          }
        });
      },

      /**
       * @description provides the logger raw options.
       * @returns {String}
       */
      getLoggerRawOptions () {
        return JSON.stringify({
          logPath: getLogPath(),
          appName: app.getName(),
          appVersion: app.getVersion(),
          sessionId: app.sessionId
        });
      }
    };

  module.exports = Logger;
// Node.Js Dependencies
const os = require('os');

// Third party Dependencies
const { app, Menu, BrowserWindow, shell, webContents } = require('electron');
const _ = require('lodash').noConflict();
const i18n = require('i18next');

// Internal Dependencies
const gpu = require('./gpu');
const newAccountRegionPreference = require('./newAccountRegionPreferenceService');
const { createEvent } = require('../common/model-event');
const enterpriseUtils = require('../services/enterpriseUtil');

// Main object
let menuManager;

// Constants
const appName = app.getName();
const SETTINGS_ID = 'settings';
const APP_UPDATE = 'app-update';
const APP_UPDATE_EVENTS = 'app-update-events';
const CHECK_FOR_ELECTRON_UPDATE = 'checkForElectronUpdate';
const { WORKSPACE_BUILDER, WORKSPACE_BROWSER } = require('../common/constants/views');
const { DEFAULT_HOME_IDENTIFIER, HOME_IDENTIFIER, OPEN_WORKSPACE_IDENTIFIER, SCRATCHPAD } = require('../common/constants/pages');
const PROXY_ALLOWED_ENVIRONMENTS = ['PostmanDev', 'PostmanBeta', 'PostmanStage', 'PostmanCanary'];
const dockMenuTemplate = [
  {
    label: i18n.t('dock_menu.new_collection'),
    click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newCollection', null, options); }
  },
  {
    label: i18n.t('dock_menu.new_window'),
    click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newWindow', null, options); }
  }
];

// Documentation for registering menu actions can be found in App.js~registerMenuActions
async function getOsxTopBarMenuTemplate () {
  return [{
    label: appName,
    submenu: _.compact([
      {
        label: i18n.t('top_menu.osx_app.about', { appName }),
        role: 'about'
      },
      !enterpriseUtils.isEnterpriseApplication() ? {
        label: i18n.t('top_menu.osx_app.check_updates'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('checkElectronUpdates', null, options); }
      } : null,
      !enterpriseUtils.isEnterpriseApplication() ? { type: 'separator' } : null,
      await gpu.getToggleMenuItem(),
      { type: 'separator' },
      {
        // Preferences in macOS opens the settings modal so id is kept as settings
        // which is same for windows and linux also
        label: i18n.t('top_menu.osx_app.preferences'),
        id: SETTINGS_ID,
        accelerator: 'CmdOrCtrl+,',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openSettings', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER, WORKSPACE_BROWSER], blockedPages: [SCRATCHPAD] }, options); }
      },
      {
        label: i18n.t('top_menu.osx_app.services'),
        role: 'services',
        submenu: []
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.osx_app.hide_app', { appName }),
        role: 'hide'
      },
      {
        label: i18n.t('top_menu.osx_app.hide_others'),
        role: 'hideothers'
      },
      {
        label: i18n.t('top_menu.osx_app.show_all'),
        role: 'unhide'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.osx_app.quit', { appName }),
        role: 'quit'
      }
    ])
  },
  {
    label: i18n.t('top_menu.file.file_label'),
    submenu: [
      {
        label: i18n.t('top_menu.file.new'),
        accelerator: 'CmdOrCtrl+N',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCreateNewModal', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'openCreateNewModal'
      },
      {
        label: i18n.t('top_menu.file.new_tab'),
        accelerator: 'CmdOrCtrl+T',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'openNewTab'
      },
      {
        label: i18n.t('top_menu.file.new_runner_tab'),
        accelerator: 'CmdOrCtrl+Shift+R',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openRunner', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'newRunnerTab'
      },
      {
        label: i18n.t('top_menu.file.new_postman_window'),
        accelerator: 'CmdOrCtrl+Shift+N',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newWindow', { type: 'shortcut', isGlobal: true }, options); },
        id: 'newRequesterWindow'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.file.import'),
        accelerator: 'CmdOrCtrl+O',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openImport', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER, HOME_IDENTIFIER, DEFAULT_HOME_IDENTIFIER] }, options); },
        id: 'import'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.file.close_window'),
        accelerator: 'CmdOrCtrl+Shift+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('closeWindow', { type: 'shortcut', isGlobal: true }, options); }
      },
      {
        label: i18n.t('top_menu.file.close_tab'),
        accelerator: 'CmdOrCtrl+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('closeTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'closeCurrentTab'
      },
      {
        label: i18n.t('top_menu.file.force_close_tab'),
        accelerator: 'CmdOrCtrl+Alt+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('forceCloseTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'forceCloseCurrentTab'
      }
    ]
  },
  {
    label: i18n.t('top_menu.edit.edit_label'),
    submenu: [
      {
        label: i18n.t('top_menu.edit.undo'),
        accelerator: 'CmdOrCtrl+Z',
        click: function (menuItem, browserWindow, options) {
          // this is only for MacOS as undo didnt work implicilty for this platform
          // we are relying on electron for the case of windows and linux
          menuManager.handleMenuAction('undo', { type: 'shortcut', isGlobal: true }, options);
         }
      },
      {
        label: i18n.t('top_menu.edit.redo'),
        accelerator: 'Shift+CmdOrCtrl+Z',
        click: function (menuItem, browserWindow, options) {
          // this is only for MacOS as redo didnt work implicilty for this platform
          // we are relying on electron for the case of windows and linux
          menuManager.handleMenuAction('redo', { type: 'shortcut', isGlobal: true }, options);
         }
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.edit.cut'),
        role: 'cut'
      },
      {
        label: i18n.t('top_menu.edit.copy'),
        role: 'copy'
      },
      {
        label: i18n.t('top_menu.edit.paste'),
        role: 'paste'
      },
      {
        label: i18n.t('top_menu.edit.paste_match_style'),
        accelerator: 'CmdOrCtrl+Shift+V',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('pasteAndMatch', { type: 'shortcut', isGlobal: true }, options); }
      },
      {
        label: i18n.t('top_menu.edit.delete'),
        click: function (menuItem, browserWindow, options) {
          // This is only for MacOS platform as "delete" didnt work implicilty for this platform
          // We are relying on electron for the windows and linux platform
          menuManager.handleMenuAction('delete', { type: 'shortcut', isGlobal: true }, options);
         }
      },
      {
        label: i18n.t('top_menu.edit.select_all'),
        role: 'selectall'
      }
    ]
  },
  {
    label: i18n.t('top_menu.view.view_label'),
    submenu: [
      {
        label: i18n.t('top_menu.view.toggle_full_screen'),
        role: 'togglefullscreen'
      },
      {
        label: i18n.t('top_menu.view.zoom_in'),
        accelerator: 'CmdOrCtrl+numadd',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('increaseZoom', { type: 'shortcut', isGlobal: true }, options); },
        id: 'increaseUIZoom'
      },
      {
        label: i18n.t('top_menu.view.zoom_out'),
        accelerator: 'CmdOrCtrl+numsub',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('decreaseZoom', { type: 'shortcut', isGlobal: true }, options); },
        id: 'decreaseUIZoom'
      },
      {
        label: i18n.t('top_menu.view.reset_zoom'),
        accelerator: 'CmdOrCtrl+0',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('resetZoom', { type: 'shortcut', isGlobal: true }, options); }
      },
      {
        label: i18n.t('top_menu.view.toggle_sidebar'),
        accelerator: 'CmdOrCtrl+\\',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleSidebar', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'toggleSidebar'
      },
      {
        label: i18n.t('top_menu.view.toggle_two_pane'),
        accelerator: 'CmdOrCtrl+Alt+V',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleLayout', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'toggleLayout'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.view.show_console'),
        accelerator: 'CmdOrCtrl+Alt+C',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openConsole', { type: 'shortcut', isGlobal: true }, options); },
        id: 'newConsoleWindow'
      },
      {
        label: i18n.t('top_menu.view.developer.label'),
        submenu: [
          {
            label: i18n.t('top_menu.view.developer.show_devtools'),
            accelerator: (function () {
              if (process.platform == 'darwin') {
                return 'Alt+Command+I';
              }
              else {
                return 'Ctrl+Shift+I';
              }
            }()),
            click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleDevTools', { type: 'shortcut', isGlobal: true }, options); }
          },
          { type: 'separator' },
          {
            label: i18n.t('top_menu.view.developer.view_logs'),
            click: function () { menuManager.handleMenuAction('openLogsFolder'); }
          }
        ]
      }
    ]
  },
  {
    label: i18n.t('top_menu.window.window_label'),
    role: 'window',
    submenu: [
      {
        label: i18n.t('top_menu.window.minimize'),
        role: 'minimize'
      },
      {
        label: i18n.t('top_menu.window.zoom'),
        role: 'zoom'
      },
      {
        label: i18n.t('top_menu.window.close_window'),
        role: 'close'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.window.go_back'),
        accelerator: 'CmdOrCtrl+[',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('navigateToPreviousPage', { type: 'shortcut', blockedPages: [SCRATCHPAD] }, options); }
      },
      {
        label: i18n.t('top_menu.window.go_forward'),
        accelerator: 'CmdOrCtrl+]',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('navigateToNextPage', { type: 'shortcut', blockedPages: [SCRATCHPAD] }, options); }
      },
      {
        label: i18n.t('top_menu.window.next_tab'),
        accelerator: 'CmdOrCtrl+Shift+]',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('nextTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'switchToNextTab'
      },
      {
        label: i18n.t('top_menu.window.prev_tab'),
        accelerator: 'CmdOrCtrl+Shift+[',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('previousTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'switchToPreviousTab'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.window.bring_to_front'),
        role: 'front'
      }
    ]
  },
  {
    label: i18n.t('top_menu.help.help_label'),
    role: 'help',
    submenu: _.compact([
      PROXY_ALLOWED_ENVIRONMENTS.includes(appName) ? {
        label: i18n.t('top_menu.help.setup_web_gateway'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openWebGatewayProxyWindow', { type: 'shortcut', isGlobal: true }, options); }
      } : null,
      PROXY_ALLOWED_ENVIRONMENTS.includes(appName) ?
      { type: 'separator' } : null,
      {
        label: i18n.t('top_menu.help.clear_cache_reload'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('clearCacheAndReload'); }
      },
      { type: 'separator' },
      await newAccountRegionPreference.getToggleMenuTemplate(),
      { type: 'separator' },
      {
        label: i18n.t('top_menu.help.documentation'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/docs', options); }
      },
      {
        label: i18n.t('top_menu.help.github'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/github', options); }
      },
      {
        label: i18n.t('top_menu.help.twitter'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/twitter', options); }
      },
      {
        label: i18n.t('top_menu.help.support'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/support', options); }
      }
    ])
  }];
}

async function getTopBarMenuTemplate () {
  return [{
    label: i18n.t('top_menu.file.file_label'),
    submenu: [
      {
        label: i18n.t('top_menu.file.new'),
        accelerator: 'CmdOrCtrl+N',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCreateNewModal', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'openCreateNewModal'
      },
      {
        label: i18n.t('top_menu.file.new_tab'),
        accelerator: 'CmdOrCtrl+T',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'openNewTab'
      },
      {
        label: i18n.t('top_menu.file.new_runner_tab'),
        accelerator: 'CmdOrCtrl+Shift+R',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openRunner', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'newRunnerTab'
      },
      {
        label: i18n.t('top_menu.file.new_postman_window'),
        accelerator: 'CmdOrCtrl+Shift+N',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('newWindow', { type: 'shortcut', isGlobal: true }, options); },
        id: 'newRequesterWindow'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.file.import'),
        accelerator: 'CmdOrCtrl+O',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openImport', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER, HOME_IDENTIFIER, DEFAULT_HOME_IDENTIFIER] }, options); },
        id: 'import'
      },
      {
        label: i18n.t('top_menu.file.settings'),
        id: SETTINGS_ID,
        accelerator: 'CmdOrCtrl+,',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openSettings', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER, WORKSPACE_BROWSER], blockedPages: [SCRATCHPAD] }, options); }
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.file.close_window'),
        accelerator: 'CmdOrCtrl+Shift+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('closeWindow', { type: 'shortcut', isGlobal: true }, options); }
      },
      {
        label: i18n.t('top_menu.file.close_tab'),
        accelerator: 'CmdOrCtrl+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('closeTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'closeCurrentTab'
      },
      {
        label: i18n.t('top_menu.file.force_close_tab'),
        accelerator: 'CmdOrCtrl+Alt+W',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('forceCloseTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'forceCloseCurrentTab'
      },
      {
        label: process.platform === 'win32' ? i18n.t('top_menu.file.quit_win') : i18n.t('top_menu.file.quit_linux'),
        role: 'quit'
      }
    ]
  },
  {
    label: i18n.t('top_menu.edit.edit_label'),
    submenu: [
      {
        label: i18n.t('top_menu.edit.undo'),
        role: 'undo'
      },
      {
        label: i18n.t('top_menu.edit.redo'),
        role: 'redo'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.edit.cut'),
        role: 'cut'
      },
      {
        label: i18n.t('top_menu.edit.copy'),
        role: 'copy'
      },
      {
        label: i18n.t('top_menu.edit.paste'),
        role: 'paste'
      },
      {
        label: i18n.t('top_menu.edit.paste_match_style'),
        role: 'pasteandmatchstyle'
      },
      {
        label: i18n.t('top_menu.edit.delete'),
        role: 'delete'
      },
      {
        label: i18n.t('top_menu.edit.select_all'),
        role: 'selectall'
      }
    ]
  },
  {
    label: i18n.t('top_menu.view.view_label'),
    submenu: [
      {
        label: i18n.t('top_menu.view.toggle_full_screen'),
        role: 'togglefullscreen'
      },
      {
        label: i18n.t('top_menu.view.zoom_in'),
        accelerator: 'CmdOrCtrl+=',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('increaseZoom', { type: 'shortcut', isGlobal: true }, options); },
        id: 'increaseUIZoom'
      },
      {
        label: i18n.t('top_menu.view.zoom_out'),
        accelerator: 'CmdOrCtrl+-',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('decreaseZoom', { type: 'shortcut', isGlobal: true }, options); },
        id: 'decreaseUIZoom'
      },
      {
        label: i18n.t('top_menu.view.reset_zoom'),
        accelerator: 'CmdOrCtrl+0',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('resetZoom', { type: 'shortcut', isGlobal: true }, options); }
      },
      {
        label: i18n.t('top_menu.view.toggle_sidebar'),
        accelerator: 'CmdOrCtrl+\\',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleSidebar', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'toggleSidebar'
      },
      {
        label: i18n.t('top_menu.view.toggle_two_pane'),
        accelerator: 'CmdOrCtrl+Alt+V',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleLayout', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'toggleLayout'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.window.go_back'),
        accelerator: 'Alt+Left',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('navigateToPreviousPage', { type: 'shortcut', blockedPages: [SCRATCHPAD] }, options); }
      },
      {
        label: i18n.t('top_menu.window.go_forward'),
        accelerator: 'Alt+Right',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('navigateToNextPage', { type: 'shortcut', blockedPages: [SCRATCHPAD] }, options); }
      },
      {
        label: i18n.t('top_menu.window.next_tab'),
        accelerator: 'CmdOrCtrl+Tab',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('nextTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'switchToNextTab'
      },
      {
        label: i18n.t('top_menu.window.prev_tab'),
        accelerator: 'CmdOrCtrl+Shift+Tab',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('previousTab', { type: 'shortcut', allowedViews: [WORKSPACE_BUILDER], allowedPages: [OPEN_WORKSPACE_IDENTIFIER] }, options); },
        id: 'switchToPreviousTab'
      },
      { type: 'separator' },
      {
        label: i18n.t('top_menu.view.show_console'),
        accelerator: 'CmdOrCtrl+Alt+C',
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openConsole', { type: 'shortcut', isGlobal: true }, options); },
        id: 'newConsoleWindow'
      },
      {
        label: i18n.t('top_menu.view.developer.label'),
        submenu: [
          {
            label: i18n.t('top_menu.view.developer.show_devtools'),
            accelerator: (function () {
              if (process.platform == 'darwin') {
                return 'Alt+Command+I';
              }
              else {
                return 'Ctrl+Shift+I';
              }
            }()),
            click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('toggleDevTools', { type: 'shortcut', isGlobal: true }, options); }
          },
          { type: 'separator' },
          {
            label: process.platform === 'win32' ? i18n.t('top_menu.view.developer.view_logs_win') : i18n.t('top_menu.view.developer.view_logs_linux'),
            click: function () { menuManager.handleMenuAction('openLogsFolder'); }
          }
        ]
      }
    ]
  },

  /**
   * If current platform is linux and SNAP is running, removing the update flow
   */
  {
    label: i18n.t('top_menu.help.help_label'),
    role: 'help',
    submenu: _.compact([
      app.isUpdateEnabled ? {
        label: i18n.t('top_menu.help.check_updates'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('checkElectronUpdates', null, options); }
      } : null,
      app.isUpdateEnabled ?
      { type: 'separator' } : null,
      {
        label: i18n.t('top_menu.help.clear_cache_reload'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('clearCacheAndReload'); }
      },
      { type: 'separator' },
      PROXY_ALLOWED_ENVIRONMENTS.includes(appName) ? {
        label: i18n.t('top_menu.help.setup_web_gateway'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openWebGatewayProxyWindow', { type: 'shortcut', isGlobal: true }, options); }
      } : null,
      PROXY_ALLOWED_ENVIRONMENTS.includes(appName) ?
      { type: 'separator' } : null,
      await gpu.getToggleMenuItem(),
      { type: 'separator' },
      await newAccountRegionPreference.getToggleMenuTemplate(),
      { type: 'separator' },
      {
        label: i18n.t('top_menu.help.documentation'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/docs', options); }
      },
      {
        label: i18n.t('top_menu.help.github'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/github', options); }
      },
      {
        label: i18n.t('top_menu.help.twitter'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/twitter', options); }
      },
      {
        label: i18n.t('top_menu.help.support'),
        click: function (menuItem, browserWindow, options) { menuManager.handleMenuAction('openCustomUrl', 'https://go.pstmn.io/support', options); }
      }
    ])
  }];
}

menuManager = {
  dockMenuTemplate: dockMenuTemplate,
  windowsApplicationContextMenu: null,

  createMenu: function (shortcutsDisabled = false) {
    return this.getMenuBarTemplate().then((template) => {
      const applicationMenu = Menu.buildFromTemplate(
        shortcutsDisabled ? this.removeShortcuts(template) : template
      );

      if (process.platform == 'win32') {
        this.windowsApplicationContextMenu = applicationMenu;
      }

      Menu.setApplicationMenu(applicationMenu);
    });
  },

  removeShortcuts: function (menu) {
    return _.map(menu, (menuItem) => {
      if (_.has(menuItem, 'submenu')) {
        _.set(menuItem, 'submenu', this.removeShortcuts(menuItem.submenu));
      }
      return _.omit(menuItem, ['accelerator']);
    });
  },

  updateMenuItems: function (windowType) {
    if (windowType === 'requester') {
      this.showMenuItem(SETTINGS_ID);
    }
    else if (windowType === 'console') {
      this.hideMenuItem(SETTINGS_ID);
    }
  },

  showMenuItem: function (menuItemId) {
    let menuItem = Menu.getApplicationMenu().getMenuItemById(menuItemId);

    if (menuItem) {
      menuItem.visible = true;
    }
  },

  hideMenuItem: function (menuItemId) {
    let menuItem = Menu.getApplicationMenu().getMenuItemById(menuItemId);

    if (menuItem) {
      menuItem.visible = false;
    }
  },

  /**
   * Creates a new OS menu from updated menubar template
   * @param {Map} updatedShortcuts shortcut names with user provided shortcut combinations
   */
  updateMenu: function (updatedShortcuts) {
    this.getMenuBarTemplate().then((template) => {
      const updatedMenu = this.updateShortcutInMenu(template, updatedShortcuts);
      const applicationMenu = Menu.buildFromTemplate(updatedMenu);

      if (process.platform == 'win32') {
        this.windowsApplicationContextMenu = applicationMenu;
      }

      Menu.setApplicationMenu(applicationMenu);
    });
  },

  /**
   * creates & returns a new menu template from the default menu template
   * by updating shortcuts with user provided shortcut combinations
   *
   * @param {Array} menu current menu template
   * @param {Map} updatedShortcuts shortcut names with user provided shortcut combinations
   * @returns menu template with updated shortcut values
   */
  updateShortcutInMenu: function (menu, updatedShortcuts) {
    return _.map(menu, (menuItem) => {
      if (updatedShortcuts.has(menuItem.id) && _.has(menuItem, 'accelerator')) {
        const updatedAccelerator = updatedShortcuts.get(menuItem.id);
        _.set(menuItem, 'accelerator', updatedAccelerator);
      }
      if (_.has(menuItem, 'submenu')) {
        _.set(
          menuItem,
          'submenu',
          this.updateShortcutInMenu(menuItem.submenu, updatedShortcuts)
        );
      }
      return menuItem;
    });
  },

  getMenuBarTemplate: function () {
    var platform = os.platform();
    if (platform === 'darwin') {
      return getOsxTopBarMenuTemplate();
    }
    else {
      return getTopBarMenuTemplate();
    }
  },

  handleMenuAction: function (action, meta, options) {
    // This import is moved from the global to here because it is only required here
    // and if kept global produces a cyclic dependency where menuManager imports windowManager
    // and vice versa which causes one of the module to be undefined.
    let windowManager = require('./windowManager').windowManager;

    // If the menu action is a global action and is to be handled in the main process itself,
    // we put it inside this if condition so that it is carried out without checking any further constraints
    if (meta && meta.type === 'shortcut' && meta.isGlobal) {
      if (action === 'toggleDevTools') {
        let win = BrowserWindow.getFocusedWindow();
        if (win && win.webContents) {
          windowManager.toggleDevTools(win);
        }
      }
      else if (action === 'newWindow') {
        windowManager.createOrRestoreRequesterWindow();
      }
      else if (action === 'openConsole') {
        windowManager.sendInternalMessage({
          event: 'showPostmanConsole',
          'object': { triggerSource: 'menuAction' }
        });
      }
      else if (action === 'undo') {
        let win = BrowserWindow.getFocusedWindow();
        if (win && win.webContents) {
          win.webContents.undo();
          win.webContents.send('menu-action-channel', 'undo');
        }
      }
      else if (action === 'redo') {
        let win = BrowserWindow.getFocusedWindow();
        if (win && win.webContents) {
          win.webContents.redo();
          win.webContents.send('menu-action-channel', 'redo');
        }
      }
      else if (action === 'delete') {
        let win = BrowserWindow.getFocusedWindow();
        if (win && win.webContents) {
          win.webContents.delete();
          win.webContents.send('menu-action-channel', 'delete');
        }
      }
      else if (action === 'closeWindow') {
        let win = BrowserWindow.getFocusedWindow();
        win && win.close();
      }
      else if (action === 'pasteAndMatch') {
        let focusedWebContents = webContents && webContents.getFocusedWebContents();
        focusedWebContents && focusedWebContents.pasteAndMatchStyle();
      }
    }

    if (action === 'openCustomUrl') {
      windowManager.openCustomURL(meta);
    }
    else if (action === 'checkElectronUpdates') {
      let updaterEventBus = global.pm.eventBus.channel(APP_UPDATE_EVENTS);
      updaterEventBus.publish({ name: CHECK_FOR_ELECTRON_UPDATE, namespace: APP_UPDATE });
    }
    else if (action === 'openLogsFolder') {
      // shell.openItem is deprecated from electron v9, hence changed to shell.openPath
      // https://github.com/electron/governance/blob/master/wg-api/spec-documents/shell-openitem.md
      shell.openPath(app.logPath).then((errorMessage) => {
        if (errorMessage) {
          pm.logger.error(`MenuManager~handleMenuAction: Failed to open logs folder ${errorMessage}`);
        }
      });
    }
    else if (action === 'clearCacheAndReload') {
      // Clear HTTP Cache
      let win = BrowserWindow.getFocusedWindow();
      win && win.webContents && win.webContents.session && win.webContents.session.clearCache();

      // Send an event to clear Service Workers and custom cache
      // This happens in the renderer process
      pm.eventBus.channel('menuActions').publish(createEvent('clearCacheAndReload', 'menuActions'));
    }
    else if (action === 'openWebGatewayProxyWindow') {
      windowManager.setWindowsDefaultVisibilityState(false);
      windowManager.closeRequesterWindows();
      windowManager.openWebBasedProxyWindow();
    }
    else {
      let win = BrowserWindow.getFocusedWindow();
      pm.eventBus.channel('menuActions').publish(createEvent(action, 'menuActions', { windowId: _.get(win, 'params[0].id') }, [], meta));
    }
  }
};

exports.menuManager = menuManager;
const i18n = require('i18next');
const _ = require('lodash').noConflict();
const storage = require('electron-json-storage');

const PREFERENCE_USE_US_REGION = 'useUSRegion';
const PREFERENCE_USE_EU_REGION = 'useEURegion';
const PREFERENCE_ALWAYS_PROMPT = 'alwaysPrompt';

const REGION_US = 'us';
const REGION_EU = 'eu';

const PREFERENCE_TO_REGION_MAP = {
  [PREFERENCE_USE_US_REGION]: REGION_US,
  [PREFERENCE_USE_EU_REGION]: REGION_EU
};

const SETTING_NAME = 'preference',
  DB_KEY = 'newAccountRegionSettings',
  DEFAULT_PREFERENCE = PREFERENCE_USE_US_REGION,
  PREFERENCES = [
    {
      i18nKey: 'new_account_region_preference.preferences_label.use_us_region',
      value: PREFERENCE_USE_US_REGION
    },
    {
      i18nKey: 'new_account_region_preference.preferences_label.use_eu_region',
      value: PREFERENCE_USE_EU_REGION
    },
    {
      i18nKey: 'new_account_region_preference.preferences_label.always_prompt',
      value: PREFERENCE_ALWAYS_PROMPT
    }
  ],
  storageInterface = {
    get (key, cb) {
      storage.get(DB_KEY, (error, data) => {
        if (error) { pm.logger.error('newAccountRegionPreferenceService~storageInterface~get - Failed to get data from storage', key, error); }

        return cb && cb(error, _.get(data, key));
      });
    },

    getAll (cb) {
      storage.get(DB_KEY, (error, data) => {
        if (error) { pm.logger.error('newAccountRegionPreferenceService~storageInterface~getAll - Failed to get data from storage', error); }

        return cb && cb(error, data);
      });
    },

    set (key, value, cb) {
      // Gets the latest settings from the storage
      this.getAll((err, data) => {
        if (!err) {

          // change the value for the specific key
          data[key] = value;

          // Sets up the data for you in the settings json
          storage.set(DB_KEY, data, (error) => {
            if (error) { pm.logger.error('newAccountRegionPreferenceService~storageInterface~set - Failed to store data on storage', error); }

            return cb && cb(error, data);
          });
        }
        else {
          if (err) { pm.logger.error('newAccountRegionPreferenceService~storageInterface~set - Failed to get data from storage', err); }

          return cb && cb(err, data);
        }
      });
    }
  };

const _updatePreference = async (value) => {
  return new Promise((resolve, reject) => {
    storageInterface.set(SETTING_NAME, value, (error) => {
      if (error) { return reject(error); }

      resolve();
    });
  });
};

const _getPreference = async () => {
  return new Promise((resolve, reject) => {
    storageInterface.get(SETTING_NAME, (error, value) => {
      if (error) { return reject(error); }

      resolve(value);
    });
  });
};

/**
 * This function is wrapper around _getPreference that returns default preference
 * if _getPreference throws error or preference is not found in storage.
 */
const getPreferenceWithFallback = async () => {
  let preference;

  try {
    preference = await _getPreference();

    if (!preference) {
      pm.logger.info('newAccountRegionPreferenceService~getPreferenceWithFallback - Preference not found in storage.');
    }
  }
  catch (e) {
    pm.logger.error('newAccountRegionPreferenceService~getPreferenceWithFallback - Failed to get preference.', e);
  }

  // Falling back to default preference
  preference = preference || DEFAULT_PREFERENCE;

  return preference;
};

exports.DEFAULT_REGION = PREFERENCE_TO_REGION_MAP[DEFAULT_PREFERENCE];

exports.getRegionPreference = async () => {
  let preference = await getPreferenceWithFallback();

  pm.logger.info('newAccountRegionPreferenceService~getRegionPreference - Using preference:', preference);

  return PREFERENCE_TO_REGION_MAP[preference];
};

exports.getToggleMenuTemplate = async () => {
  let preference = await getPreferenceWithFallback();

  pm.logger.info('newAccountRegionPreferenceService~getToggleMenuTemplate - Using preference:', preference);

  return {
    label: i18n.t('new_account_region_preference.top_label'),
    submenu: _.map(PREFERENCES, ({ value, i18nKey }) => {
      return {
        label: i18n.t(i18nKey),
        type: 'radio',
        checked: value === preference,
        click: () => {
          pm.logger.info('newAccountRegionPreferenceService~getToggleMenuTemplate~click - updating preference to:', value);

          _updatePreference(value)
            .then(() => {
              pm.logger.info('newAccountRegionPreferenceService~getToggleMenuTemplate~click - updated preference to:', value);
            })
            .catch((e) => {
              pm.logger.error('newAccountRegionPreferenceService~getToggleMenuTemplate~click - Unable to update preference.', e);
            });

          return;
        }
      };
    })
  };
};
const _ = require('lodash'),
    https = require('https'),

    SUCCESS_CODE = 200;

/**
 * Helper function to make requests.
 * We are using a locally defined requests method using the standard https package
 * This is so that if events can be pushed even if app components for making requests have issues
 *
 * @param {Object} options - Options for request sending.
 * @param {String} [options.method=GET] - The request method.
 * @param {String} options.hostname - The request host.
 * @param {String} [options.path='/'] - Request path.
 * @param {Object} [options.headers={}] - Request headers.
 * @param {Object} [options.body] - The request body.
 * @param {Function} cb - Invoked when the request sending attempt has completed.
 */
function request ({ method = 'GET', hostname, path = '/', headers = {}, body }, cb) {
  if (!hostname) {
      return cb(new Error('A valid hostname is required'));
  }

  const payload = typeof body === 'string' ? body : JSON.stringify(body);

  return https
      .request({ method, hostname, path, headers }, (res) => {
          let data = '';

          res.on('data', (chunk) => { data += chunk; });

          res.once('end', () => {
              let body;

              try { body = JSON.parse(data); }
              catch (err) { body = data; }

              cb(null, res, body);
          });
      })
      .once('error', cb)
      .end(payload);
}

    // Credentials for NewRelic account
let apiKey,
    accountId,

    // Stores metadata for frequent access
    metaData = {};

module.exports = {
    /**
     * Initialize NewRelic with the credentials needed to call the NeRelic API
     *
     * @param {String} key - API Key for pushing data to NewRelic
     * @param {String} id - NewRelic account to which this will be pushed to
     */
    init (key, id) {
        apiKey = key;
        accountId = id;
    },

    /**
     * Attach extra metaData to the NewRelic objects.
     * This acts as a cache for future use and this metadata is passed to all calls to NewRelic
     *
     * @param {Object} data - Adds `data` to the existing metaData object.
     */
    setMetadata (data) {
      metaData = _.merge(metaData, data);
    },

    /**
     * Push the given event to newRelic
     *
     * @param {String} eventType - Event name used in NewRelic
     * @param {Object} body - Data to be passed to NewRelic
     */
     recordCustomEvent (eventType, body) {
        // Initialize a object that will contain the full payload of the API call
        let nrEvent = {
            eventType
        };

        // Merge the metadata and the event body into one JSON
        nrEvent = _.merge(nrEvent, metaData, body);

        if (nrEvent.stack && nrEvent.stack.length > 4096) {

            // Custom event values over 4096 chars are dropped by newrelic
            nrEvent.stack = nrEvent.stack.substring(0, 4096);
        }

        // Make the POST request to NewRelic
        request({
            method: 'POST',
            hostname: 'insights-collector.newrelic.com',
            path: `/v1/accounts/${accountId}/events`,
            headers: {
                'Api-Key': apiKey
            },
            body: nrEvent
        }, (err, res) => {
            if (err || res.statusCode !== SUCCESS_CODE) {
                // Not calling pm.logger.error() to prevent recursive invocation of this method
                pm.logger.warn(
                    'NewRelicService~RecordCustomEvent: API request failed',
                    err || new Error(`Received status code ${res.statusCode} from NewRelic`)
                );

                return;
            }
        });
    }
  };

const { EventEmitter } = require('events');
const { PMBuffer } = require('./PMBuffer');
const { serialize, deserialize } = require('./serialization');

class CommunicationChannel extends EventEmitter {
    constructor (protocol, logger) {
		super();
        this.protocol = protocol;
        this._logger = logger;
        this.protocol.onMessage((msg) => this.onBuffer(msg));
        this.protocol.onClose(() => this.emit('close'));
	}

	dispose () {
		this.protocol.dispose();
	}

  send (message) {
		const buffer = PMBuffer.wrap(serialize(message, this._logger));
		return this.sendBuffer(buffer);
	}

	onMessage (listener) {
		this.on('message', listener);
		return {
			dispose: () => this.removeListener('message', listener)
		};
	}

	sendBuffer (message) {
		try {
			this.protocol.send(message);
			return message.byteLength;
		} catch (err) {
			// noop
			return 0;
		}
	}

	onBuffer (message) {
		const data = deserialize(message, this._logger);
		this.emit('message', data);
  }

  onClose (listener) {
		this.on('close', listener);
		return {
			dispose: () => this.removeListener('close', listener)
		};
	}
}

module.exports = { CommunicationChannel };
const { NodeProcess } = require('./NodeProcess'),
  { IPCNode } = require('./IPCNode'),
  fs = require('fs');

/**
 * @description Validates the parameters passed to create the NodeProcess class
 * @param { String } modulePath The absolute path of the entry module
 * @param { String } name The name of the process, a way to identify this process. This will be used to identify log file, config files, etc.,
 * @param { Object } options The options object
 * @returns { Boolean } returns true if the params are valid, false otherwise
 */
function validateParams (modulePath, name, options) {
  if (typeof name !== 'string') {
      pm.logger.error('index~validateParams - name must be a string');
      return false;
  }
  if (typeof modulePath !== 'string') {
      pm.logger.error('index~validateParams - modulePath must be a string representing an absolute path');
      return false;
  }
  if (!fs.existsSync(modulePath)) {
      pm.logger.error('index~validateParams - modulePath must be a valid path');
      return false;
  }
  if (options.env && !(typeof options.env === 'object' && options.env.constructor === Object)) {
      pm.logger.error('index~validateParams - options.env must be a JSON object');
      return false;
  }
  return true;
}

/**
 * @description Initializes NodeProcess instance
 * @param { String } modulePath The absolute path of the entry module
 * @param { String } name The name of the process, a way to identify this process. This will be used to identify log file, config files, etc.,
 * @param { Object } options The options object
 * @returns { NodeProcess | null } returns NodeProcess instance if the params are valid, null otherwise
 */
function spawn (modulePath, name, options) {
  typeof options !== 'object' && (options = {});
  if (!validateParams(modulePath, name, options)) {
    return null;
  }
  return new NodeProcess(modulePath, name, options);
}

module.exports = {
  NodeProcess: { spawn },
  IPCNode
};
const { EventEmitter } = require('events'),
    fs = require('fs'),
    { createServer } = require('net'),
    { CommunicationChannel } = require('./Channel'),
    { Protocol } = require('./Protocol'),
    { NodeSocket } = require('./NodeSocket'),
    { getIPCHandle } = require('./ipcUtils');

/**
 * Create an IPC server for this process
 * @param { String } pipe the IPC named pipe handle
 */
function createIpcServer (pipe, logger) {
    /**
     * Closes the pipe and calls the callback function.
     * @param {Function} cb The callback function
     */
    function closePipe (cb) {
        fs.unlink(pipe, (err) => {
            if (err) {
                logger.error('IPC~closePipe~could not unlink pipe', err);
                return cb && cb(err);
            }
            logger.info('IPC~closePipe~IPC server is closing');
            return cb && cb(null);
        });
    }

    return new Promise((resolve, reject) => {
        /**
         * Handles the server launch errors. If the pipe is in use, closes it and retries to launch.
         * @param {Error} err The error object
         */
        function handleServerCreationError (err) {
            if (err.code === 'EADDRINUSE') {
                logger.info('IPC~handleServerCreationError~IPC server pipe in use, retrying...');

                closePipe((err) => {
                    if (err) {
                        logger.error('IPC~handleServerCreationError~could not close the IPC server', err);
                        return reject(err);
                    }
                    server.listen(pipe);
                });
            } else {
                return reject(err);
            }
        }

        const server = createServer();

        server.on('close', () => {
            closePipe();
        });
        server.on('error', handleServerCreationError);
        server.on('listening', () => {
            logger.info('IPC~Ipc server started listening');

            // Remove the listener as we do not want to reject twice from the same promise
            server.removeListener('error', handleServerCreationError);
            return resolve(server);
        });

        server.listen(pipe);
    });
}


/**
 * @description This IPC will provide a communication channel that allows messages to be passed back and forth between the NodeProcess and the Main process
 * @class
 * @extends EventEmitter
 * @requires ChildProcess
 * @requires Logger
 */
class IPC extends EventEmitter {
    /**
     * @description Creates an IPC instance taking a process/child_process instance
     * @param { Logger } logger logger instance to use
     */
    constructor (name, logger) {
        super();
        this._logger = logger;
        this.namedPipe = getIPCHandle(name);
        this._commChannels = [];

        createIpcServer(this.namedPipe, this._logger)
        .then((server) => {
            this._server = server;
            this._server.on('connection', (socket) => {
                const nodeSocket = new NodeSocket(socket, this._logger);
                const protocol = new Protocol(nodeSocket, this._logger);
                const commChannel = new CommunicationChannel(protocol, this._logger);
                commChannel.onMessage((data) => {
                    if (data.channel === 'error') {
                        return; // This is to avoid a crash
                    }
                    const event = {
                        reply: (channel, ...args) => { this._send(commChannel, channel, ...args); }
                    };
                    this.emit(data.channel, event, ...data.args);
                });
                commChannel.onClose(() => {
                    this._commChannels = this._commChannels.filter((curChannel) => {
                        return curChannel !== commChannel;
                    });
                });
            this._commChannels.push(commChannel);
            });
            this._server.on('close', () => {
                this.emit('close');
            });
            this.emit('ready');
        })
        .catch((err) => {
            this._logger.error('IPC~createIpcServer~something wrong creating the IPC server', err);
        });

        this.on('error', (err) => {
            this._logger.error('IPC~something is wrong', err);
        });
    }

    onReady (listener) {
        this.on('ready', listener);
            return () => {
          this.removeListener('ready', listener);
        };
    }

    onClose (listener) {
        this.on('close', listener);
            return () => {
          this.removeListener('close', listener);
        };
    }

    /**
     * @description Listens to channel, when a new message arrives, listener would be called with ..args
     * @param { String } channel The type of the message to differentiate messages
     * @param { Function } listener The handler function to be run when channel type message is received
     * @returns { Function } A function to unsubscribe the listener. Calling this function would remove the listener for the channel
     */
    subscribe (channel, listener) {
        this.on(channel, listener);

        return () => {
            this.removeListener(channel, listener);
        };
    }

    /**
     * @description Listens to channel only once, when a new message arrives, listener would be called with ..args
     * @param { String } channel The type of the message to differentiate messages
     * @param { Function } listener The handler function to be run when channel type message is received
     * @returns { Void }
     */
    subscribeOnce (channel, listener) {
        let didFire = false;
        const disposeListener = this.subscribe(channel, (event, ...args) => {
            if (didFire) {
                return disposeListener();
            }

            didFire = true;
            listener(event, ...args);
        });
    }

    /**
     * @description Sends an asynchronous message of type channel to the main process.
     *   The arguments will be serialized with v8 serialization API based on the Structured Clone Algorithm.
     *
     * @param { String } channel The type of the message to differentiate messages
     * @param  {...any} args The arguments which will be passed on to the process
     * @returns { Number } will return false if the communication channel has closed or when the backlog of unsent messages exceeds a threshold that makes it unwise to send more. Otherwise, true.
     */
    _send (commChannel, channel, ...args) {
        const message = { channel, args };

        return commChannel && commChannel.send(message);
    }

    broadcast (channel, ...args) {
        for (let i = 0; i < this._commChannels.length; i++) {
            this._send(this._commChannels[i], channel, ...args);
        }
    }

    /**
     * @description Adds a handler for an invoke able IPC. This handler will be called whenever a process calls ipc.invoke(channel, ...args).
     *  If listener returns a Promise, the eventual result of the promise will be returned as a reply to the remote caller.
     *  Otherwise, the return value of the listener will be used as the value of the reply.
     *
     * @param { String } channel The type of the message to differentiate messages
     * @param { Function } listener The handler function to be run when channel type message is received
     * @returns { Function } A function to unsubscribe the listener. Calling this function would remove the listener for the channel
     */
    handle (channel, listener) {
        const wrapperListener = async (event, ...args) => {
            const responseChannels = args.pop();
            try {
                const result = await listener(event, ...args);
                event.reply(responseChannels.data, result);
            } catch (err) {
                event.reply(responseChannels.error, err);
            }
        };
        return this.subscribe(channel, wrapperListener);
    }

    /**
     * @description Similar to handle but does the same only once.
     *
     * @param { String } channel The type of the message to differentiate messages
     * @param { Function } listener The handler function to be run when channel type message is received
     * @returns { Function } A function to unsubscribe the listener. Calling this function would remove the listener for the channel
     */
    handleOnce (channel, listener) {
        const wrapperListener = async (event, ...args) => {
            const responseChannels = args.pop();
            try {
                const result = await listener(event, ...args);
                event.reply(responseChannels.data, result);
            } catch (err) {
                event.reply(responseChannels.error, err);
            }
        };
        return this.subscribeOnce(channel, wrapperListener);
    }
}

module.exports = { IPC };
const { EventEmitter } = require('events'),
  { getIPCHandle, getResponseChannels } = require('./ipcUtils'),
  { createConnection } = require('net'),
  { NodeSocket } = require('./NodeSocket'),
  { Protocol } = require('./Protocol'),
  { CommunicationChannel } = require('./Channel');

/**
 * Creates a client connection to the provided named pipe
 * @param { String } pipe named pipe - path/handle for the IPC to connect
 */
function createClient (pipe) {
  return new Promise((resolve, reject) => {
    const socket = createConnection(pipe, () => {
      socket.removeListener('error', reject);
      resolve(socket);
    });

    socket.once('error', reject);
  });
}


/**
 * @description This IPC will provide a communication channel that allows messages to be passed back and forth between the NodeProcess and the current process
 * @class
 * @extends EventEmitter
 * @requires ChildProcess
 * @requires Logger
 */
class IPCNode extends EventEmitter {
  /**
   * @description Creates an IPC instance taking an identifier of the node process instance
   * @param { String } name The node process instance identifier
   * @param { Logger } logger logger instance to use
   */
  constructor (name, logger) {
      super();
      this._logger = logger;
      this.namedPipe = getIPCHandle(name);

      createClient(this.namedPipe)
      .then((socket) => {
        const nodeSocket = new NodeSocket(socket, this._logger);
        const protocol = new Protocol(nodeSocket, this._logger);
        this._commChannel = new CommunicationChannel(protocol, this._logger);
        this._commChannel.onMessage((data) => {
            if (data.channel === 'error') {
                return; // This is to avoid a crash
            }

            this.emit(data.channel, ...data.args);
        });
        this._commChannel.onClose(() => { this.emit('close'); });
        this.emit('connect');
      })
      .catch((err) => {
          this._logger.error('IPCNode~createClient~something wrong connecting to the IPC server', err);
      });

      this.on('error', (err) => {
          this._logger.error('IPCNode~something is wrong', err);
      });
  }

  dispose () {
    this._commChannel.dispose();
  }

  onConnect (listener) {
    this.on('connect', listener);
		return () => {
      this.removeListener('connect', listener);
    };
  }

  onClose (listener) {
    this.on('close', listener);
		return () => {
      this.removeListener('close', listener);
    };
	}

  /**
   * @description Listens to channel, when a new message arrives, listener would be called with ..args
   * @param { String } channel The type of the message to differentiate messages
   * @param { Function } listener The handler function to be run when channel type message is received
   * @returns { Function } A function to unsubscribe the listener. Calling this function would remove the listener for the channel
   */
  subscribe (channel, listener) {
      this.on(channel, listener);

      return () => {
          this.removeListener(channel, listener);
      };
  }

  /**
   * @description Listens to channel only once, when a new message arrives, listener would be called with ..args
   * @param { String } channel The type of the message to differentiate messages
   * @param { Function } listener The handler function to be run when channel type message is received
   * @returns { Void }
   */
  subscribeOnce (channel, listener) {
      const disposeListener = this.subscribe(channel, (...args) => {
          disposeListener();
          listener(...args);
      });
  }

  /**
   * @description Sends an asynchronous message of type channel to the main process.
   *   The arguments will be serialized with v8 serialization API based on the Structured Clone Algorithm.
   *
   * @param { String } channel The type of the message to differentiate messages
   * @param  {...any} args The arguments which will be passed on to the process
   * @returns { Number } will return false if the communication channel has closed or when the backlog of unsent messages exceeds a threshold that makes it unwise to send more. Otherwise, true.
   */
  send (channel, ...args) {
      const message = { channel, args };

      return this._commChannel.send(message);
  }

  /**
   * @description Send a message to the peer process via channel and expect a result asynchronously.
   * @param { String } channel The type of the message to differentiate messages
   * @param  { ...any } args The arguments which will be passed on to the process
   * @returns { Promise<any> } Resolve or reject with the response from the process.
   */
  invoke (channel, ...args) {
      let disposeDataListener,
        disposeErrorListener;

      const promise = new Promise((resolve, reject) => {

          const responseChannels = getResponseChannels(channel);
          args.push(responseChannels);

          disposeDataListener = this.subscribe(responseChannels.data, (data) => {
            disposeDataListener?.();
            disposeErrorListener?.();

            return resolve(data);
          });
          disposeErrorListener = this.subscribe(responseChannels.error, (err) => {
            disposeDataListener?.();
            disposeErrorListener?.();

            return reject(err);
          });
      });
      this.send(channel, ...args);
      return promise;
  }
}

module.exports = { IPCNode };
const path = require('path'),
  { getUserDataDirectory } = require('./pathUtils');

/**
 * @description Generates the IPC handle for windows platform depending on the type
 * @param { String } userDataPath The application user data path
 * @param { String } name The name of the IPC handle
 * @returns { String } The IPC handle
 */
function getWin32IPCHandle (name) {
  return `\\\\.\\pipe\\${name}-sock`;
}

/**
* @description Generates the IPC handle for Nix platform depending on the type
* @param { String } userDataPath The application user data path
* @param { String } name The name of the IPC handle
* @returns { String } The IPC handle
*/
function getNixIPCHandle (userDataPath, name) {
  return path.join(userDataPath, `${name}.sock`);
}

/**
* @description Generates the IPC handle depending on the type. Refer https://nodejs.org/docs/latest-v12.x/api/net.html#net_identifying_paths_for_ipc_connections
* @param { String } userDataPath The application user data path
* @param { String } name The name of the IPC handle
* @returns { String } The IPC handle
*/
function getIPCHandle (name) {
  const userDataPath = getUserDataDirectory();
  if (process.platform === 'win32') {
      return getWin32IPCHandle(name);
  }

  return getNixIPCHandle(userDataPath, name);
}


/**
 * Gets unique response channels when registering handler
 * @param { String } channel The channel for which the handler is registered
 */
function getResponseChannels (channel) {
  const uid = process.hrtime.bigint();
  return {
      data: `${channel}-data-channel-${uid}`,
      error: `${channel}-error-channel-${uid}`
  };
}

module.exports = { getIPCHandle, getResponseChannels };
const os = require('os'),
  fs = require('fs'),
  path = require('path'),
  { Originator, Collectors } = require('@postman/app-logger'),

  Logger = {
    init (options) {
      // Assign logging folder information first
      let FileCollector = Collectors.File,
        ConsoleCollector = Collectors.Console,
        origin = options.origin,
        sessionId = process.pid, // set the current process id as sessionId
        collectors = [],
        logPath = options.logPath;

      fs.mkdir(logPath, { recursive: true }, (err) => {
        try {
          if (err) {
            throw err;
          }

          // create collectors
          collectors = [
            new FileCollector({
              file: path.resolve(logPath, `${origin}.log`)
            })
          ];

          process.env.PM_BUILD_ENV !== 'production' && collectors.push(new ConsoleCollector());

          // Attach the logger to global
          pm.logger = new Originator({ origin, collectors, sessionId });
        }
        catch (e) {
          pm.logger = console; // defaults to console

          // Add a helper to create a context object
          // Fallback so modules that assume that pm.logger is using `app-logger` won't misbehave
          pm.logger.getContext = function getContext (api, domain) {
            return {
                api,
                domain
            };
          };

          // Don't fail the boot if logger fails
          pm.logger.error('Logger - Logger initialization failed', e);
        }

        // pm.logger.info(`Logger~pm.name - ${pm}`);
        // pm.logger.info(`Logger~process.env.PM_BUILD_ENV - ${process.env.PM_BUILD_ENV}`);
        // pm.logger.info(`Logger~execPath - ${process.execPath}`);
        // pm.logger.info(`Logger~execArgv - ${JSON.stringify(process.argv)}`);
        // pm.logger.info(`Logger~cwd - ${JSON.stringify(process.cwd())}`);
        pm.logger.info(`Logger - Booting Node process( pid: ${process.pid} ) ${options.origin} ${os.platform()}-${os.release()} on ${os.arch()}`);
      });
    }
  };

module.exports = Logger;
const { spawn } = require('child_process'),
    { EventEmitter } = require('events'),
    path = require('path'),
    { getLogPath, getExecPath, getEntryModulePath } = require('./pathUtils');

/**
 * @returns the startup module for the node process
 */
function getStartUpModule () {
    return path.resolve(__dirname, 'startup.js');
}

/**
 * Prepares the environment variables
 * @param { Object } options the options object
 * @returns the environment variables for the Node process
 */
function getEnv (entryModule, name, options) {
    const logPath = getLogPath();
    const availableEnv = options.env || process.env;
    return {
        ...availableEnv,
        'pm_name': name,
        'pm_logPath': logPath,
        'pm_entryModule': getEntryModulePath(entryModule),
        ELECTRON_RUN_AS_NODE: 1 // Reference https://www.electronjs.org/docs/api/environment-variables#electron_run_as_node
    };
}

/**
 * Prepare the exec args for the node process
 * @param { Object } options
 * @returns {Array<String>} the prepared args - array of strings
 */
function getExecArgV (options = { inspect: false }) {
  const args = [];


  if (options.exposeGC) {
    args.push('--expose-gc');
  }

  args.push(getStartUpModule());

  return args;
}

/**
 * @description The NodeProcess provides the ability to spawn node process asynchronously,
 *  in a manner that is similar, but not identical to child_process.
 *  The NodeProcess will have a communication channel built-in that allows messages to be passed back and forth between the NodeProcess and the consumer process.
 * @class
 * @extends EventEmitter
 * @requires pm.logger
 */
class NodeProcess extends EventEmitter {

    /**
     * @returns { NodeProcess }
     * @param { String } modulePath The absolute path of the entry module
     * @param { String } name The name of the process, a way to identify this process. This will be used to identify log file, config files, etc.,
     * @param { Object } options The options object
     */
    constructor (modulePath, name, options) {
        super();
        this._execPath = getExecPath();
        this._execArgV = getExecArgV(options);
        this.logPath = getLogPath();
        this.name = name;
        this.entryModule = modulePath;

        this._spawnedProcess = spawn(this._execPath,
            this._execArgV,
            {
                stdio: ['pipe', 'pipe', 'pipe', 'ipc'], // Reference https://nodejs.org/api/child_process.html#child_process_options_stdio
                env: getEnv(modulePath, name, options)
            }
        );
        process.on('exit', () => {
            // Killing the child process when the parent process exits,
            // as on *nix OS the child doesn't exit when parent does so.
            // Reference https://nodejs.org/api/child_process.html#child_process_event_exit
            this.kill();
        });

        // This listener is register in order to avoid a crash
        // when no listener is attached by consumer but we emit an error event
        this.on('error', (err) => {
            pm.logger.error(`NodeProcess~Something wrong while start/killing the NodeProcess '${this.name}'`, err);
        });

        this._spawnedProcess.on('error', (err) => {
            this.emit('error', err);
        });

        this._spawnedProcess.on('exit', (code, signal) => {
            // Process terminated with error.
            if (code !== 0) {
                pm.logger.info(`NodeProcess~subprocess exited with code: ${code}`);
                if (signal) {
                    pm.logger.info(`in response to signal ${signal}`);
                }
            }
            this.emit('exit', code, signal);
        });

        this._spawnedProcess.on('message', (message) => {
            if (message.channel && message.channel === 'ready') {
                this.emit('ready');
            }
        });
    }

    onReady (listener) {
        this.on('ready', listener);
            return () => {
          this.removeListener('ready', listener);
        };
    }

    onError (listener) {
        this.on('error', listener);
            return () => {
          this.removeListener('error', listener);
        };
    }

    onExit (listener) {
        this.on('exit', listener);
            return () => {
          this.removeListener('exit', listener);
        };
    }

    /**
     * @description Sends a SIGTERM signal to the created node process.
     * @returns { Boolean } true if succeeds in sending signal, false otherwise.
     */
    kill (signal) {
        if (!this._spawnedProcess) {
            return false;
        }
        this._spawnedProcess.connected && this._spawnedProcess.disconnect();

        return this._spawnedProcess.kill(signal);
    }

    /**
     * @returns { Boolean } true after nodeProcess.kill() is used to successfully send a signal to the Node process.
     */
    isKilled () {
        return this._spawnedProcess.killed;
    }

    get pid () {
        return this._spawnedProcess.pid;
    }
}

module.exports = { NodeProcess };
const { PMBuffer } = require('./PMBuffer');

class NodeSocket {

	constructor (socket, logger) {
    this.socket = socket;
    this._logger = logger;
	}

	dispose () {
    try {
      this.socket.destroy();
    } catch (err) {
      this._logger.error('NodeSocket~dispose~Could not destroy socket', err);
    }
	}

	onData (_listener) {
		const listener = (buff) => _listener(PMBuffer.wrap(buff));
		this.socket.on('data', listener);
		return {
			dispose: () => this.socket.off('data', listener)
		};
	}

	onClose (listener) {
		this.socket.on('close', listener);
		return {
			dispose: () => this.socket.off('close', listener)
		};
	}

	write (buffer) {
		// return early if socket has been destroyed in the meantime
		if (this.socket.destroyed) {
			return;
		}

		// we ignore the returned value from `write` because we would have to cached the data
		// anyways and nodejs is already doing that for us:
		// > https://nodejs.org/api/stream.html#stream_writable_write_chunk_encoding_callback
		// > However, the false return value is only advisory and the writable stream will unconditionally
		// > accept and buffer chunk even if it has not been allowed to drain.
		try {
			this.socket.write(buffer.buffer);
		} catch (err) {
			if (err.code === 'EPIPE') {
				// An EPIPE exception at the wrong time can lead to a renderer process crash
				// so ignore the error since the socket will fire the close event soon anyways:
				// > https://nodejs.org/api/errors.html#errors_common_system_errors
				// > EPIPE (Broken pipe): A write on a pipe, socket, or FIFO for which there is no
				// > process to read the data. Commonly encountered at the net and http layers,
				// > indicative that the remote side of the stream being written to has been closed.
				return;
			}
			this._logger.error('NodeSocket~write~Failedto write data', err);
		}
	}

	end () {
    try {
      this.socket.end();
    } catch (err) {
      this._logger.error('NodeSocket~end~Could not end socket', err);
    }
	}
}

module.exports = { NodeSocket };
const path = require('path'),
  os = require('os'),
  rendererProjectRoot = path.join(__dirname, '..', '..');

/**
 * @returns the startup module for the node process
 */
function getEntryModulePath (entryModule) {
  if (process.type !== 'renderer') {
    return entryModule;
  }

  return path.resolve(rendererProjectRoot, entryModule);
}

/**
 * @returns the path for the node executable
 */
function getExecPath () {
  return process.execPath;
}

/**
* Returns the current running app name
*/
function getAppName () {
  // postman-skip-import-validation
  const packageJson = require(path.resolve(rendererProjectRoot, 'package.json'));
  return packageJson.name;
}

/**
* Returns the path of the current user data directory
* Tries to replicate the electron's app.getPath('userData') https://www.electronjs.org/docs/api/app#appgetpathname
*/
function getUserDataDirectory () {
  switch (os.platform()) {
      case 'darwin':
          return path.resolve(os.homedir(), 'Library', 'Application\ Support', getAppName());
      case 'win32':
          return path.resolve(process.env.APPDATA, getAppName());
      case 'linux':
          return path.resolve(os.homedir(), '.config', getAppName());
  }
}

/**
* @method getLogPath
* @description Assigns the logging folder path
* @return {String}
*/
function getLogPath () {
  return path.resolve(getUserDataDirectory(), 'logs');
}

module.exports = { getLogPath, getExecPath, getUserDataDirectory, getEntryModulePath };
/**
 * Writes a number as unsigned 32 bit big endian integer
 * @param { Buffer } destination The buffer where to write the value
 * @param { Number } value the value to be written
 * @param { Number } offset offset of the buffer from where to start writing
 */
function writeUInt32BE (destination, value, offset) {
	destination[offset + 3] = value;
	value = value >>> 8;
	destination[offset + 2] = value;
	value = value >>> 8;
	destination[offset + 1] = value;
	value = value >>> 8;
	destination[offset] = value;
}

/**
 * Reads an unsigned 32 bit big endian number from buffer
 * @param { Buffer } source The buffer from where to read number
 * @param { Number } offset offset of the buffer from where to start reading
 */
function readUInt32BE (source, offset) {
	return (
		source[offset] * 2 ** 24
		+ source[offset + 1] * 2 ** 16
		+ source[offset + 2] * 2 ** 8
		+ source[offset + 3]
	);
}

class PMBuffer {

	static alloc (byteLength) {
		return new PMBuffer(Buffer.allocUnsafe(byteLength));
	}

	static wrap (actual) {
		if (!(Buffer.isBuffer(actual))) {
			// https://nodejs.org/dist/latest-v10.x/docs/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length
			// Create a zero-copy Buffer wrapper around the ArrayBuffer pointed to by the Uint8Array
			actual = Buffer.from(actual.buffer, actual.byteOffset, actual.byteLength);
		}
		return new PMBuffer(actual);
	}

	static concat (buffers, totalLength) {
		if (typeof totalLength === 'undefined') {
			totalLength = 0;
			for (let i = 0, len = buffers.length; i < len; i++) {
				totalLength += buffers[i].byteLength;
			}
		}

		const ret = PMBuffer.alloc(totalLength);
		let offset = 0;
		for (let i = 0, len = buffers.length; i < len; i++) {
			const element = buffers[i];
			ret.set(element, offset);
			offset += element.byteLength;
		}

		return ret;
	}


	constructor (buffer) {
		this.buffer = buffer;
		this.byteLength = this.buffer.byteLength;
	}

	slice (start = 0, end) {
		// IMPORTANT: use subarray instead of slice because TypedArray#slice
		// creates shallow copy and NodeBuffer#slice doesn't. The use of subarray
		// ensures the same, performant, behaviour.
		return new PMBuffer(this.buffer.subarray(start, end));
	}

	set (array, offset) {
		if (array instanceof PMBuffer) {
			this.buffer.set(array.buffer, offset);
		} else {
			this.buffer.set(array, offset);
		}
	}

	readUInt32BE (offset) {
		return readUInt32BE(this.buffer, offset);
	}

	writeUInt32BE (value, offset) {
		writeUInt32BE(this.buffer, value, offset);
	}
}

module.exports = { PMBuffer };
const { EventEmitter } = require('events');
const { PMBuffer } = require('./PMBuffer');

let emptyBuffer = null;

/**
 * Returns an empty buffer
 */
function getEmptyBuffer () {
	if (!emptyBuffer) {
		emptyBuffer = PMBuffer.alloc(0);
	}
	return emptyBuffer;
}

class ChunkStream {

	get byteLength () {
		return this._totalLength;
	}

	constructor () {
		this._chunks = [];
		this._totalLength = 0;
	}

	acceptChunk (buff) {
		this._chunks.push(buff);
		this._totalLength += buff.byteLength;
	}

	read (byteCount) {

		if (byteCount === 0) {
			return getEmptyBuffer();
		}

		if (byteCount > this._totalLength) {
			throw new Error('Cannot read so many bytes!');
		}

		if (this._chunks[0].byteLength === byteCount) {
			// super fast path, precisely first chunk must be returned
			const result = this._chunks[0];
			this._chunks.shift();
			this._totalLength -= byteCount;
			return result;
		}

		if (this._chunks[0].byteLength > byteCount) {
			// fast path, the reading is entirely within the first chunk
			const result = this._chunks[0].slice(0, byteCount);
			this._chunks[0] = this._chunks[0].slice(byteCount);
			this._totalLength -= byteCount;
			return result;
		}

		let result = PMBuffer.alloc(byteCount);
		let resultOffset = 0;
		let chunkIndex = 0;
		while (byteCount > 0) {
			const chunk = this._chunks[chunkIndex];
			if (chunk.byteLength > byteCount) {
				// this chunk will survive
				const chunkPart = chunk.slice(0, byteCount);
				result.set(chunkPart, resultOffset);
				resultOffset += byteCount;

				this._chunks[chunkIndex] = chunk.slice(byteCount);
				this._totalLength -= byteCount;

				byteCount -= byteCount;
			} else {
				// this chunk will be entirely read
				result.set(chunk, resultOffset);
				resultOffset += chunk.byteLength;

				this._chunks.shift();
				this._totalLength -= chunk.byteLength;

				byteCount -= chunk.byteLength;
			}
		}
		return result;
	}
}


class ProtocolReader extends EventEmitter {

	constructor (socket, logger) {
		super();
    this._socket = socket;
    this._logger = logger;
		this._isDisposed = false;
		this._incomingData = new ChunkStream();
		this._socket.onData(((data) => this.acceptChunk(data)));
        this._state = {
			readLen: 4,
			readHead: true
        };
	}

	onMessage (listener) {
		this.on('message', listener);
		return {
			dispose: () => this.removeListener('message', listener)
		};
	}

	acceptChunk (data) {
		if (!data || data.byteLength === 0) {
			return;
		}

		this._incomingData.acceptChunk(data);

		while (this._incomingData.byteLength >= this._state.readLen) {

			const buff = this._incomingData.read(this._state.readLen);

			if (this._state.readHead) {
				// buff is the header

				// save new state => next time will read the body
				this._state.readHead = false;
				this._state.readLen = buff.readUInt32BE(0);
			} else {
				// buff is the body

				// save new state => next time will read the header
				this._state.readHead = true;
				this._state.readLen = 4;

				this.emit('message', PMBuffer.wrap(buff));

				if (this._isDisposed) {
					// check if an event listener lead to our disposal
					break;
				}
			}
		}
	}

	dispose () {
		this._isDisposed = true;
	}
}

class ProtocolWriter {

	constructor (socket) {
		this._isDisposed = false;
		this._socket = socket;
		this._data = [];
		this._totalLength = 0;
	}

	dispose () {
		this.flush();
		this._isDisposed = true;
	}

	flush () {
		// flush
		this._writeNow();
	}

	write (msg) {
		if (this._isDisposed) {
			// ignore: there could be left-over promises which complete and then
			// decide to write a response, etc...
			return;
		}
		const header = PMBuffer.alloc(4);
		header.writeUInt32BE(msg.byteLength, 0);
		this._writeSoon(header, msg);
	}

	_bufferAdd (head, body) {
		const wasEmpty = this._totalLength === 0;
		this._data.push(head, body);
		this._totalLength += head.byteLength + body.byteLength;
		return wasEmpty;
	}

	_bufferTake () {
		const ret = PMBuffer.concat(this._data, this._totalLength);
		this._data.length = 0;
		this._totalLength = 0;
		return ret;
	}

	_writeSoon (header, data) {
		if (this._bufferAdd(header, data)) {
			setImmediate(() => {
				this._writeNow();
			});
		}
	}

	_writeNow () {
		if (this._totalLength === 0) {
			return;
		}
		this._socket.write(this._bufferTake());
	}
}


/**
 * A message has the following format:
 * ```
 *     /--------------------\
 *     | DATA_LENGTH | DATA |
 *     \--------------------/
 * ```
 *  - DATA_LENGTH is 4 bytes (u32be) - the length in bytes of DATA
 */
class Protocol extends EventEmitter {
	constructor (socket) {
		super();
		this._socket = socket;
		this._socketWriter = new ProtocolWriter(this._socket);
		this._socketReader = new ProtocolReader(this._socket);

		this._socketReader.onMessage((msg) => {
			this.emit('message', msg);
		});

		this._socket.onClose(() => this.emit('close'));
  }

  dispose () {
    this._socketReader.dispose();
    this._socketWriter.dispose();
    this._socket.dispose();
  }

	onMessage (listener) {
		this.on('message', listener);
		return {
			dispose: () => this.removeListener('message', listener)
		};
	}

	getSocket () {
		return this._socket;
	}

	send (buffer) {
		this._socketWriter.write(buffer);
	}

	onClose (listener) {
		this.on('close', listener);
		return {
			dispose: () => this.removeListener('close', listener)
		};
	}
}

module.exports = { Protocol };
const v8 = require('v8');

/**
 * Serializes the data for an IPC transfer.
 * Uses v8 serialization API where the data is cloneable. Otherwise, stringifies the data with JSON API and returns the Buffer.
 * Note: The serialization is faster when the data is cloneable. i.e., it doesn't contain functions, etc.,
 * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm
 * @param { any } data
 */
function serialize (data, logger) {
	try {
      return v8.serialize(data);
    } catch (err) {
      logger.error('serialization~serialize~Failed to serialize the IPC message', err);
      return Buffer.from(JSON.stringify(data));
    }
}

/**
 * Deserializes the data received from IPC transfer.
 * Tries v8 serialization API where the data is cloneable. Otherwise, parses the Buffer with JSON API and returns the data.
 * Note: The serialization is faster when the data is cloneable. i.e., it doesn't contain functions, etc.,
 * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm
 * @param { any } data
 * @param { Object } logger The logger object to use for logging
 */
function deserialize (buf, logger) {
	try {
      return v8.deserialize(buf.buffer);
    } catch (err) {
      logger.error('serialization~deserialize~Failed to deserialize the IPC message', err);
      return JSON.parse(buf.buffer);
    }
}

module.exports = { serialize, deserialize };
// Make sure that global variables are available for the rest of the modules as well.
if (!global.pm) {
  global.pm = {};
}

pm.name = process.env.pm_name;
pm.logPath = process.env.pm_logPath;
pm.entryModule = process.env.pm_entryModule;

if (!pm.sdk) {
  pm.sdk = {};
}

const { IPC } = require('./IPC'),
  initializeLogger = require('./Logger').init;

global.pm.logger = console; // Have console logs until the logger is initialized.

// Add a helper to create a context object
// This is a fallback for generating context object when pm.logger hasn't been initialized with app-logger
global.pm.logger.getContext = function getContext (api, domain) {
  return {
      api,
      domain
  };
};

initializeLogger({ origin: `${pm.name}-node-process`, logPath: pm.logPath }); // Initialize logger and set it to pm.logger

// Handle uncaught exceptions
process.on('uncaughtException', (err) => {
  pm.logger.error(`Startup~[uncaught exception in Node Process]: ${err}`);
  if (err && err.stack) {
    pm.logger.error(err.stack);
  }
});

// Handle unhandled promise rejections
process.on('unhandledRejection', (err) => {
  pm.logger.error(`Startup~[unhandled rejection in Node Process]: ${err}`);
  if (err && err.stack) {
    pm.logger.error(err.stack);
  }
});

global.pm.sdk.ipc = new IPC(pm.name, pm.logger);
pm.sdk.ipc.onReady(() => {
  process.send({ channel: 'ready' });
});

// postman-skip-import-validation
require(pm.entryModule); // Start the specified entry module
let _ = require('lodash'),
    electron = require('electron'),
    BrowserWindow = electron.BrowserWindow,
    { isString } = require('../utils/utilities'),
    redirectCodesSet = new Set([301, 302, 303, 307, 308]);

/**
 * A simple window manager that interfaces with a OAuth 2 authentication helper.
 * The purpose of this module is to handle the user agent interaction of the auth flows.
 * This is designed to interface with postman-runtime later.
 *
 * @class OAuth2WindowManager
 */
class OAuth2WindowManager {

  constructor (options = {}) {
    this.cookiePartitionId = options.cookiePartitionId;
    this.strictSSL = options.strictSSL;
    this.log = options.log;
  }

  /**
   * Function to handle permission requests
   * All Permissions will be denied automatically.
   * Denied permission are ['media', 'geolocation', 'notifications', 'midiSysex', 'pointerLock', 'fullscreen' 'openExternal]
   */
  permissionRequestHandler (webContents, permission, callback) {
    return callback(false);
  }

  /**
   * Opens a given URL in a window. Looks for a given match on the redirects and ends when it finds one.
   *
   * @param {string | sdk.Url} url url to open the auth window with
   * @param {Object} matchOptions with property `params`, to look for
   * @param {Function} callback callback will be executed when a match is found
   *
   * @returns {undefined}
   */
  startLoginWith (url, matchOptions, callback) {
    const sdk = require('postman-collection');

    isString(url) && (url = new sdk.Url(url));

    // do not allow opening any protocol that is not http or https,
    // this prevents security vulnerabilities, do not remove this ever, ever
    if (!(url.protocol === 'https' || url.protocol === 'http')) {
      callback && callback(new Error('Invalid protocol for auth URL. Only HTTP and HTTPS protocol are allowed.'));
      return;
    }

    // We allow loading remote content inside oauth2 window. It is necessary to give limited accessibility inside this browserWindow
    // and follow the security guidelines provided by electron. Refer: https://www.electronjs.org/docs/tutorial/security#security-native-capabilities-and-your-responsibility
    // We have seen the security issue where attacker was able to access local files using window.open API within the html content, he wanted to load inside the oauth2 window
    // To avoid such attacks, we are setting nativeWindowOpen flag, which use window.open API provided by chrome. Chrome's window.open API blocks the access for loading content using file protocol.
    // Note: nativeWindowOpen is by default true from electron v15.x.y onwards
    let authWindow = new BrowserWindow({
          width: 800,
          height: 600,
          show: false,
          title: 'Postman OAuth 2.0',
          webPreferences: {
            contextIsolation: true,
            partition: this.cookiePartitionId
          }
        }),
        expectedUrl = new sdk.Url(matchOptions.uri),
        expectedHost = expectedUrl.host && expectedUrl.host.join('.'),
        urlMatched = !(expectedUrl.protocol && expectedUrl.host), // if no valid url was given, we don't try to match the redirect urls
        didCompleteAuth = false,
        requestInfo = {},
        isUrlMatching = function (urlRedirect) {
          let actualUrl = new sdk.Url(urlRedirect);
          return actualUrl.host && actualUrl.host.join('.') === expectedHost;
        },
        handleUrlChange = (urlRedirect, options = {}) => {
          pm.logger.info('OAuth2WindowManager~startLoginWith - Received redirect on auth login window');
          let actualUrl = new sdk.Url(urlRedirect),
            paramFound = false,

            // combine params in query string and hash
            params = new sdk.PropertyList(sdk.QueryParam, {}, _.concat(actualUrl.query.toJSON(), sdk.QueryParam.parse(actualUrl.hash))),

            error,
            endAuthFlow = function () {
              // bail out listeners for similar events
              didCompleteAuth = true;

              // It crashes when used directly.
              // https://github.com/electron/electron/issues/1685#issuecomment-102259335
              setTimeout(function () {
                authWindow && authWindow.close();
              });
            },
            getHeaders = function (headers) {
              return Object.entries(headers).reduce((headersList, [key, values]) => {
                !Array.isArray(values) && (values = [values]);

                values.forEach((value) => {
                  headersList.add({ key, value });
                });
                return headersList;
              }, new sdk.HeaderList({}, []));
            };

          if (options.log) {
            const payload = {
              redirect: options.redirect || false,
              request: {
                url: options.url && options.url.toString(),
                method: options.method || 'GET'
              },
              response: {}
            };

            options.requestHeaders && (payload.request.headers = getHeaders(options.requestHeaders).toJSON());
            options.responseHeaders && (payload.response.headers = getHeaders(options.responseHeaders).toJSON());

            if (options.redirect) {
              payload.response.statusCode = options.responseCode;
            } else {
              payload.response.code = options.responseCode;
            }

            this.log(payload);
          }

          if (!urlMatched) {
            isUrlMatching(urlRedirect) && (urlMatched = true);
          }

          if (!urlMatched) {
            pm.logger.info('OAuth2WindowManager~startLoginWith - URL did not match the registered callbackURL, so skipping');
            return;
          }

          // decode param values
          params.each(function (param) {
            param && (param.value = decodeURIComponent(param.value));
          });

          // if query or hash has an error we have to bubble it up
          error = params.find((param) => { return _.toLower(param.key) === 'error'; });

          if (error) {
            endAuthFlow();
            callback(error.value, params.toObject());
            return;
          }

          if (Array.isArray(matchOptions.params)) {
              paramFound = params.find((param) => {
                if (param.key != null) return matchOptions.params.includes(param.key);
            });
          }

          if (paramFound) {
            pm.logger.info('OAuth2WindowManager~startLoginWith - Matched code/access_token. Closing auth login window now.');
            endAuthFlow();
            callback && callback(null, params.toObject());
            return;
          }
        },
        getUrlToLog = function (someUrl) {
          try {
            let parsedUrl = new URL(someUrl);
            return `${parsedUrl.protocol}//${parsedUrl.host}`;
          } catch (error) {
            return 'INVALID URL';
          }
        };

    require('@electron/remote/main').enable(authWindow.webContents);

    authWindow.on('close', function () {
      /* calling clearAuthCache() to close all open connections and not to clear any cached auth data
         Here is the link to the exact line in electron repository
         https://github.com/electron/electron/blob/1918e76913ed550a3b2738ac541de48cb9db4afa/atom/browser/api/atom_api_session.cc#L313
         that needs to get executed when a window get closed so that any session tickets related to previous sessions is removed
      */
      authWindow.webContents.session.clearAuthCache({ type: '', origin: '' });

      // do not leak memory
      authWindow = null;

      !didCompleteAuth && callback && callback(new Error('Authentication window was closed.'));
    }, false);

    // attach listeners to all events, and try to extract code/access_token
    // bail out if we could extract from the first event
    // set `didCompleteAuth` flag to true for bail out
    authWindow.webContents.on('did-fail-load', function (event, errorCode, errorDescription, validatedURL) {
      pm.logger.info('OAuth2WindowManager~did-fail-load: Error with code ', errorCode, errorDescription, getUrlToLog(validatedURL));
      if (didCompleteAuth) {
        return;
      }

      let redirectUrls = _.get(event, ['sender', 'history']);
      _.some(redirectUrls, (redirectUrl) => {
        if (isUrlMatching(redirectUrl)) {
          handleUrlChange(redirectUrl);
          return true;
        }
      }) || pm.logger.warn('OAuth2WindowManager~did-fail-load: No history URL matched with the callback URL');
    });

    authWindow.webContents.on('will-navigate', function (event2, newUrl) {
      pm.logger.info('OAuth2WindowManager~will-navigate:', getUrlToLog(newUrl));
      if (didCompleteAuth) {
        return;
      }
      handleUrlChange(newUrl);
    });

    authWindow.webContents.on('did-navigate', function (event2, newUrl) {
      pm.logger.info('OAuth2WindowManager~did-navigate:', getUrlToLog(newUrl));
      if (didCompleteAuth) {
        return;
      }
      handleUrlChange(newUrl);
    });

    authWindow.webContents.on('did-navigate-in-page', function (event2, newUrl) {
      pm.logger.info('OAuth2WindowManager~did-navigate-in-page:', getUrlToLog(newUrl));
      if (didCompleteAuth) {
        return;
      }
      handleUrlChange(newUrl);
    });

    /*
     * Every request in the browser window emits events, we provide listener for the events.
     * listener will be called in the following order:
     *  1. onSendHeaders: this listener will be called just before a request is going to be sent to
     *                   the server. we get request headers from this listener.
     *  2. onHeadersReceived: this listener will be called when response headers of a request have
     *                        been received. we get response headers from here.
     */

    _.invoke(authWindow, 'webContents.session.webRequest.onSendHeaders', (details) => {
      if (didCompleteAuth || details.resourceType !== 'mainFrame') {
        return;
      }

      // for every new request we reset requestInfo and assigns request id and headers to it.
      requestInfo = {};
      Object.assign(requestInfo, {
        log: true,

        // id ensures request and response headers are from the same request.
        id: details.id,
        requestHeaders: details.requestHeaders || {}
      });
    });

    // Workaround to handle server side redirections while obtaining Access Token in OAuth2 flow
    // as a solution to the issue - https://github.com/postmanlabs/postman-app-support/issues/6895.
    // Issue happened due to upgrade from electron 1.8.8 to 3.x which deprecated 'did-get-redirect-request' event
    _.invoke(authWindow, 'webContents.session.webRequest.onBeforeRedirect', (details) => {
      pm.logger.info('OAuth2WindowManager~onBeforeRedirect:', getUrlToLog(details.redirectURL));
      if (didCompleteAuth || details.resourceType !== 'mainFrame') {
        return;
      }
      handleUrlChange(details.redirectURL);
    });

    // This listener handles the case where URL with custom protocol is used as the callback URL.
    // Such requests are blocked from being executed and an ERR_UNSAFE_REDIRECT error is thrown. It is
    // not caught by onBeforeRedirect because that is fired just before the redirect is about to occur.
    // Since the request is blocked, so the event is never fired.
    //
    // As a workaround for this, we examine the response headers from the previous request. If the statusCode
    // is one of the redirect codes, we take the destination URL from the 'location' response header and then
    // check to see if it matches the callback URL.
    _.invoke(authWindow, 'webContents.session.webRequest.onHeadersReceived', function (details, callback) {
      if (didCompleteAuth || details.resourceType !== 'mainFrame') {
        callback({
          cancel: false
        });

        return;
      }

      // if request id does not match to id of this response, reset requestInfo
      requestInfo.id && requestInfo.id !== details.id && (requestInfo = {});
      Object.assign(requestInfo, {
        log: true,
        id: details.id,
        method: details.method,
        url: new sdk.Url(details.url),
        responseCode: details.statusCode,
        responseHeaders: details.responseHeaders || {},
        redirect: redirectCodesSet.has(details.statusCode)
      });

      pm.logger.info('OAuth2WindowManager~onHeadersReceived: Got response details for', getUrlToLog(details.url));
      if (redirectCodesSet.has(details.statusCode)) {
        // Location header is returned as an array, but we use the index 0 as according to the RFC -
        // https://tools.ietf.org/html/rfc7231#section-7.1.2, Location header can have a single URI
        let redirectUrl = (details.responseHeaders.Location && details.responseHeaders.Location[0]) || (details.responseHeaders.location && details.responseHeaders.location[0]);

        if (redirectUrl) {
          pm.logger.info('OAuth2WindowManager~onHeadersReceived: Redirection request to', getUrlToLog(redirectUrl));
          handleUrlChange(redirectUrl, requestInfo);
        }
      } else {
        handleUrlChange(details.url, requestInfo);
      }

      callback({
        cancel: false
      });
    });

    authWindow.webContents.on('certificate-error', function (event, url, error, certificate, callback) {
      pm.logger.info('OAuth2WindowManager~certificate-error:', error, getUrlToLog(url));
      if (!this.strictSSL) {
        event.preventDefault();
        callback(true);
      }
      else {
        callback(false);
      }
    });

    let session = _.get(authWindow, 'webContents.session');

    /**
     * Setting the handler which will respond to permission requests for the session.
     */
    session && session.setPermissionRequestHandler(this.permissionRequestHandler);

    pm.logger.info('OAuth2WindowManager~startLoginWith - Opening auth login window', url.toString());

    // open authorization url in a window
    authWindow.loadURL(url.toString());
    authWindow.show();
    return;
  }
}

module.exports = {
  OAuth2WindowManager,
  initialize: function () {
    pm.eventBus.channel('oauth2-login').subscribe(({ name, namespace, data }) => {
      if (namespace === 'oauth2BrowserLogin' && name === 'startLogin') {
        let windowManager = new OAuth2WindowManager({
          cookiePartitionId: data.cookiePartitionId,
          strictSSL: data.strictSSL,

          log: (payload) => {
            pm.eventBus.channel('oauth2-login').publish({
              name: 'log',
              namespace: 'oauth2BrowserLogin',
              data: {
                id: data.id,
                payload
              }
            });
          }
        });

        windowManager.startLoginWith(data.url, data.matchOptions, (err, result) => {
          const SerializedError = require('serialised-error');
          pm.eventBus.channel('oauth2-login').publish({
            name: 'loginCallback',
            namespace: 'oauth2BrowserLogin',
            data: {
              id: data.id,
              error: err && new SerializedError(err),
              result
            }
          });
        });
      }
    });
  }
};
const _ = require('lodash');
const { isString, isObject } = require('../utils/utilities');

const scratchpadContext = { namespace: 'scratchPad', userId: 0, teamId: 0 };

class PartitionMigrationService {
  static #instance;
  #shellMeta;
  #shellController;
  #partitionService;
  #logger;

  constructor (ctx = {}) {
    if (!ctx.shellMeta) {
      throw new Error('PartitionMigrationService ~ ctx.shellMeta is not defined');
    }
    this.#shellMeta = ctx.shellMeta;

    if (!ctx.shellController) {
      throw new Error('PartitionMigrationService ~ ctx.shellController is not defined');
    }
    this.#shellController = ctx.shellController;

    if (!ctx.partitionService) {
      throw new Error('PartitionMigrationService ~ ctx.partitionService is not defined');
    }
    this.#partitionService = ctx.partitionService;

    if (!ctx.logger) {
      throw new Error('PartitionMigrationService ~ ctx.logger is not defined');
    }
    this.#logger = ctx.logger;
  }

  static instance () {
    if (!PartitionMigrationService.#instance) {
      PartitionMigrationService.#instance = new PartitionMigrationService({
        shellMeta: require('./shellMeta'),
        shellController: require('./shellController'),
        partitionService: require('./partitionService'),
        logger: pm.logger
      });
    }
    return PartitionMigrationService.#instance;
  }

  /**
   * Determine if v7 partition system's active partition is not associated with any user account
   * @returns {Promise<Boolean>} returns true if the active partition of v7 is not associated with any user account. false, otherwise.
   *
   * NOTE: this method is public for testing reasons
   */
  async _isV7ActivePartitionSignedOut () {
    const activePartitionId = this.#shellMeta.getActivePartition();
    if (!activePartitionId) {
      return false;
    }

    const v7PartitionsObj = await this.#shellController.partitions.getValue();
    if (!v7PartitionsObj) {
      return false;
    }

    const partition = v7PartitionsObj[activePartitionId];
    if (!partition) {
      return false;
    }

    return !partition.userId;
  }

  /**
   * Checks two things
   * 1. Whether the partition is associated with user account on V7 partition system
   * 2. Whether the partition last updated is latest on V7 partition system
   *
   * NOTE: this method is public for testing reasons
   *
   * @param {Object} v8Partition The v8 partition object
   * @param {String} v8Partition.id The partition identifier
   * @param {Object} v8Partition.meta
   * @param {String} v8Partition.meta.lastUpdated The last accessed timestamp of partition
   * @returns {Promise<Boolean>}
   */
  async _isPartitionAccessedUsingV7BeforeOpeningV8App (v8Partition) {
    if (!isObject(v8Partition) || !isString(v8Partition.id) ||
        v8Partition.id.length === 0 ||
        !isObject(v8Partition.meta) || !isString(v8Partition.meta.lastUpdated) ||
        v8Partition.meta.lastUpdated.length === 0) {
      return false;
    }

    const v7PartitionsObj = await this.#shellController.partitions.getValue();
    if (!isObject(v7PartitionsObj)) {
      return false;
    }

    const userId = v7PartitionsObj[v8Partition.id] && v7PartitionsObj[v8Partition.id].userId;
    if (!isString(userId)) {
      return false;
    }

    const v7UsersObj = await this.#shellController.users.getValue();
    if (!isObject(v7UsersObj)) {
      return false;
    }

    const v7Partition = v7UsersObj[userId];
    if (!isObject(v7Partition)) {
      return false;
    }

    return Date.parse(v7Partition.lastUpdated) > Date.parse(v8Partition.meta.lastUpdated);
  }

  /**
   * Checks if the partition is an orphaned partition on V7 partition system
   * @param {String} partitionId The partition identifier
   * @returns {Promise<Boolean>}
   */
  async _isV7OrphanedPartition (partitionId) {
    if (!isString(partitionId) || partitionId.length === 0) {
      return false;
    }

    const partitionsObj = await this.#shellController.partitions.getValue();
    if (!isObject(partitionsObj)) {
      return false;
    }

    const partition = partitionsObj[partitionId];
    if (!isObject(partition)) {
      return false;
    }

    const { userId } = partition;
    if (!isString(userId)) {
      return false;
    }

    return userId.length === 0;
  }

  /**
   * ScratchPad partition initially used transit partition with namespace 'users'
   * to simulate the v7 application behaviour
   * To change the migration of scratchpad data to be on demand rather than automatic
   * we are moving the partition to 'scratchPad' namespace
   */
  async #rectifyNamespaceOfScratchPadPartition () {
    const scratchpadPartitions = this.#partitionService.find(scratchpadContext);

    if (!_.isEmpty(scratchpadPartitions)) {
      return;
    }
    this.#logger.info('partitionMigrationService~rectifyNamespaceOfScratchPadPartition: There is no partition with scratchpad namespace');

    const currentTransitPartitions = this.#partitionService.find({ namespace: 'users', userId: 0, teamId: 0 });

    if (_.isEmpty(currentTransitPartitions)) {
      this.#logger.info('partitionMigrationService~rectifyNamespaceOfScratchPadPartition: There is no transit partition which could have been used for scratchpad');
      return;
    }

    this.#logger.info('partitionMigrationService~rectifyNamespaceOfScratchPadPartition: There is transit partition which could have been used for scratchpad. changing namespace');

    await this.#partitionService.updateOne(currentTransitPartitions[0].id, scratchpadContext, currentTransitPartitions[0].meta);
  }

  /**
   * Logs the state of v7 partition system
   */
  #logV7PartitionSystemState () {
    this.#logger.info('partitionMigrationService: State of V7 partition:');

    const v7UsersObj = this.#shellController.getUsers(),
      v7PartitionsObj = this.#shellController.partitions.getValue(),
      printables = [];

    Object.values(v7PartitionsObj).forEach((partition) => {
      const printablePartition = {
        partitionId: partition.id
      };

      if (!_.isEmpty(partition.userId)) {
        printablePartition.userId = partition.userId;
        printablePartition.lastUpdated = v7UsersObj[partition.userId].lastUpdated;
      }
      printables.push(printablePartition);
    });

    this.#logger.info('partitionMigrationService: V7 partitions', printables);
  }

  async init () {
    await this.#shellController.init();
    await this.#shellMeta.init();
    this.#logV7PartitionSystemState();
    await this.#rectifyNamespaceOfScratchPadPartition();
    this.#logger.info('partitionMigrationService~init: Success');
  }

  /**
   * Checks if the partition is associated with a user account on V7 partition system
   * @param {String} partitionId The partition identifier
   * @returns {Promise<Boolean>}
   */
  async isV7UserContextPartition (partitionId) {
    if (_.isEmpty(partitionId)) {
      return;
    }

    const partitionsObj = await this.#shellController.partitions.getValue();

    if (_.isEmpty(partitionsObj[partitionId])) {
      return false;
    }

    const userId = partitionsObj[partitionId].userId;

    return isString(userId);
  }

  async runV8PartitionsIntegrity () {
    // Check integrity of v8 user context partitions
    const context = { namespace: 'users' },
      v8Partitions = await this.#partitionService.find(context),
      isCurrentPartitionActiveSignedoutV7 = await this._isV7ActivePartitionSignedOut(),
      activeV7PartitionId = this.#shellMeta.getActivePartition(),
      userContextPartitionsToBeRectified = [];

    await Promise.all(v8Partitions.map(async (partition) => {
      if (partition.context && partition.context.userId) {
        if (await this._isPartitionAccessedUsingV7BeforeOpeningV8App(partition) || (partition.id === activeV7PartitionId && isCurrentPartitionActiveSignedoutV7)) {
          userContextPartitionsToBeRectified.push(partition.id);
        } else if (await this._isV7OrphanedPartition(partition.id)) {
          userContextPartitionsToBeRectified.push(partition.id);
        }
      }
    }));

    this.#logger.info(
      'partitionMigrationService~runV8PartitionsIntegrity: Two way migration~ removing the following partitions from v8',
      userContextPartitionsToBeRectified);

    // Remove the partition mappings from v8 and let the migration be hit when the partition is used.
    await this.#partitionService.removePartitionEntries(userContextPartitionsToBeRectified);

    // Check integrity of v8 scratchpad partition
    const scratchPadPartitions = await this.#partitionService.find(scratchpadContext);

    if (_.isEmpty(scratchPadPartitions)) {
      return;
    }

    if (await this.isV7UserContextPartition(scratchPadPartitions[0].id)) {
      // Remove the scratchpad partition mapping from v8 and
      // let the migration be hit when the v7 user context partition is used on v8 application.
      this.#logger.info('partitionMigrationService~runV8PartitionsIntegrity: Two way migration~ removing the scratchpad entry from v8', scratchPadPartitions[0].id);
      return this.#partitionService.removePartitionEntries([scratchPadPartitions[0].id]);
    }
  }

  async migrateSignedOutPartitionAsScratchpad () {
    // Bail out, if v7 does not have a signed out partition
    if (!await this._isV7ActivePartitionSignedOut()) {
      return;
    }

    // Bail out, if v8 already have a scratchpad partitions
    // This is to maintain a single scratchpad partition
    const scratchPadPartitions = await this.#partitionService.find(scratchpadContext);

    if (!_.isEmpty(scratchPadPartitions)) {
      return;
    }

    this.#logger.info(
      'partitionMigrationService~migrateSignedOutPartitionAsScratchpad: Migrating v7 logged out state partition as scratchpad on v8 partition system',
      { partitionId: this.#shellMeta.getActivePartition() });

    return this.#partitionService.makeRawPartition(this.#shellMeta.getActivePartition(), scratchpadContext, {});
  }
}

module.exports = PartitionMigrationService;
const _ = require('lodash'),
  dbService = require('./dbService');

const uuidV4 = require('uuid/v4'),
  DB_KEY = 'partitions',
  DEFAULT_PARTITION = 'default';

var partitions = {

  /**
   * Initialize function which loads the partitions information from localStorage.
   */
  async init () {
    await dbService.init();
  },

  /**
   * getValue
   * Getter function for the value property.
   * @return {Promise<Object>} the cloned localstorage
   */
  getValue () {
    return dbService.getData(DB_KEY);
  },

  /**
   * setValue
   * Setter function for the value property.
   * @param {Object} obj The object to be set to the value property.
   */
  async setValue (obj) {
    // Update the localStorage on the changes made.
    await dbService.setData(DB_KEY, obj);
  },

  /**
   * getNewPartition
   * 1. Will check for any empty partition available
   * 2. If a empty partition available, it returns it
   * 3. Else it creates a new partitionId(UUID)
   * 4. Adds the entry in the localStorage
   * 5. send the ID for work.
   * @return {Promise<String>} partitionId
   */
  async getNewPartition () {
    let partitionsObj = await this.getValue(),
        emptyPartition = _.findKey(partitionsObj, (part) => { return _.isEmpty(part.userId); });

    if (!_.isEmpty(emptyPartition)) {
      // returns an existing empty partition.
      return emptyPartition;
    }

    // Reaching here means there is no empty partitions available.
    // so, we are going to create one and adds to the storage.

    let newPartitionId = _.isEmpty(partitionsObj) ? DEFAULT_PARTITION : uuidV4();
    partitionsObj[newPartitionId] = { id: newPartitionId };

    // updates the value
    await this.setValue(partitionsObj);

    // Returns the new partitionId
    return newPartitionId;
  },

  /**
   * associateUserToPartition is been used to associate an user id with a partition.
   * @param {String} id the UUID of the partition
   * @param {String} userId user id to which the partition to be associated.
   */
  async associateUserToPartition (id, userId) {
    let userIdStr = _.toString(userId);

    // Bail out if the userId or id is not available.
    if (!isUserLoggedIn(userIdStr) || _.isEmpty(id)) {
      return;
    }

    // Get the partitions available.
    let partitionsObj = await this.getValue();

    // Associate the userId by adding userId property to partition object.
    if (!_.isEmpty(partitionsObj[id])) {
      _.assign(partitionsObj[id], { userId: userIdStr });
    }

    // updates the value
    await this.setValue(partitionsObj);
  },


  /**
   * disAssociateUserToPartition is been used to dis-associate an user id with a partition.
   * @param {String} id the UUID of the partition
   * @param {String} userId user id from which the partition to be dis-associated.
   */
  async disAssociateUserToPartition (id, userId) {
    let userIdStr = _.toString(userId);

    // Bail out if the userId or id is not available.
    if (!isUserLoggedIn(userIdStr) || _.isEmpty(id)) {
      return;
    }

    // Get the partitions from the localStorage using dbService.getData.
    let partitionsObj = await this.getValue();

    // Dis-associate the userId by removing userId property from partition object.
    if (!_.isEmpty(partitionsObj[id])) {
      partitionsObj[id] = _.omit(partitionsObj[id], ['userId']);
    }

    // Updates the value
    await this.setValue(partitionsObj);
  }
};

/**
 * @param {*} id
 * @returns
 */
function isUserLoggedIn (id) {
  return !(_.isEmpty(id) || id === '0' || id === 0);
}

module.exports = partitions;
// partition service
const _ = require('lodash'),
  { isString } = require('../utils/utilities'),
  dbService = require('./dbService'),
  authPartitionService = require('./authPartitionService'),
  { session } = require('electron'),
  uuidV4 = require('uuid/v4'),
  DB_KEY = 'v8Partitions',
  NAMESPACE_META_SUFFIX = 'NamespaceMeta';

/**
 * Returns the partitions object that we store in the DB for keeping all the partition mappings.
 * @return {Object} the localStorage value
 */
function getPartitionsValue () {
  return dbService.getData(DB_KEY);
}

/**
 * Stores the partitions object in the DB for keeping all the partition mappings.
 * @param {Object} obj The object to be set to the value property.
 */
async function setPartitionsValue (obj) {
  // Update the localStorage on the changes made.
  await dbService.setData(DB_KEY, obj);
}

/**
 * Returns the Namespace metas object of partitions that we store in the DB.
 * @return {Object} the localStorage value
 */
function getGlobalMetaValue () {
  return dbService.getData(DB_KEY + NAMESPACE_META_SUFFIX);
}

/**
 * Stores the Namespace metas object of partitions that we store in the DB.
 * @param {Object} obj The object to be set to the value property.
 */
async function setGlobalMetaValue (obj) {
  // Update the localStorage on the changes made.
  await dbService.setData(DB_KEY + NAMESPACE_META_SUFFIX, obj);
}

/**
 * wipes out the partition's storage.
 * @param {string} id the partition id for which the session needs to cleaned.
 * @returns {Promise<String>} Returns a promise which resolves to the cleaned up partition id.
 */
async function cleanPartitionStorage (id) {
  // Bail out if the id is either empty or not a string
  if (!isString(id)) {
    return Promise.reject(new Error('Partition id is not valid string'));
  }

  const persistPartitionId = authPartitionService.getPersistedPartitionString(id),
    partitionSession = session.fromPartition(persistPartitionId);

  return partitionSession.clearStorageData()
    .then(() => {
      return id;
    });
}

/**
 * @returns {Promise<String[]>} Returns an array of orphaned partition ids
 */
async function getAllOrphanedPartitions () {
  const partitionsObj = await getPartitionsValue(),
    orphanedPartitionIds = [];

  // Partition is orphaned if its context is empty
  _.forEach(partitionsObj, function (partition, id) {
    if (_.isEmpty(partition.context)) {
      orphanedPartitionIds.push(id);
    }
  });

  return orphanedPartitionIds;
}

/**
 * Finds and recycles a reusable partition, if available
 * @returns {Promise<String>} Promise resolves to recycled partition id.
 */
function findRecycledPartition () {
  return getAllOrphanedPartitions()
    .then((orphanedPartitions) => {
      let cleanPromises = orphanedPartitions.map((partitionId) => cleanPartitionStorage(partitionId));

      // Promise.race() doesn't resolve or reject if there are no promises
      if (_.isEmpty(cleanPromises)) {
        return Promise.reject('There is no recyclable partition');
      }

      return Promise.race(cleanPromises);
    });
}

/**
 * Maintains the partitions using the following datastructure
 * {
 *  'examplepartitionId': {
 *    'context': {
 *        'namespace': 'exampleNamespace'
 *     },
 *    'meta': {}
 *  },
 * 'otherpartitionId': {
 *    'context': {
 *        'namespace': 'otherNamespace'
 *     },
 *    'meta': {}
 *  }
 * }
 */
const partitionService = {
  /**
   * Makes a partition orphan by clearing the partition object, both context and meta
   * @param {String[]} partitionIdsList An array of partition ids
   */
  async makeOrphan (partitionIdsList = []) {
    const partitionsObj = await getPartitionsValue();

    partitionIdsList.forEach((partitionId) => partitionsObj[partitionId] = { });
    await setPartitionsValue(partitionsObj);
  },

  /**
   * Creates/makes a partition with provided context and meta
   * @param {String} partitionId The partition id
   * @param {Object} context The context object containing user id and team id
   * @param {Object} meta The meta data related to user context
   */
  async makeRawPartition (partitionId, context, meta) {
    await this.makeOrphan([partitionId]);
    await this.updateOne(partitionId, context, meta);
  },

  /**
  * Finds a reusable partition, if exists. Else, creates a new one.
  * @returns {Promise<String>} Returns a promise which resolves to new or reusable partition id
  */
  findRecycledOrCreatePartition () {
    return findRecycledPartition()
      .catch((e) => {
        // There is no recyclable partition, we are going to create one and add to the storage.
        const partitionId = uuidV4();

        return this.makeOrphan([partitionId])
          .then(() => {
            return partitionId;
          });
      });
  },

  /**
   * Creates a partition associating the provided context.
   * Returns corresponding partition object, if it exists.
   * @param {Object} context The context object containing the fields which constitutes the uniqueness of a partition.
   * This will be used to compare two contexts. The namespace is mandatory part of this context.
   * @param {Object} meta Arbitrary data that the consumer maintains. No restrictions on this data.
   * @returns {Promise<Object>} Promise which resolves to partition object. Rejects on invalid arguments
   */
  async create (context, meta) {

    // Bail out if meta is not an object
    if (!_.isObject(meta)) {
      return new Error('Meta should be a valid object');
    }

    // Bail out if namespace is not available in context
    if (_.isEmpty(context) || !isString(context.namespace)) {
      return new Error('Context should be valid object containing namespace');
    }

    // Reaching here means the provided context is not associated with any partition.
    const foundPartitions = await this.find(context);

    if (!_.isEmpty(foundPartitions)) {
      pm.logger.info('partitionService~create: found a partition with context: ', JSON.stringify(context));
      return foundPartitions[0];
    }

    const id = await this.findRecycledOrCreatePartition();

    return this.updateOne(id, context, meta);
  },

  /**
   * Filters the partitions within the namespace considering the context provided.
   * @param {Object} context The context object to use, as filter criteria. The context could be partial.
   * @returns {Promise<Object[]>} An array of partition objects matching the filter criteria. Empty array, if no results.
   */
  async find (context) {
    const result = [];

    // Bail out if namespace is not available in context
    if (!isString(context?.namespace)) {
      return result;
    }

    const partitionsObj = await getPartitionsValue();

    _.forEach(partitionsObj, function (partition, partitionId) {
      if (_.isMatch(partition.context, context)) {
        result.push({
          id: partitionId,
          ...partition
        });
      }
    });

    return result;
  },

  /**
   * Finds the partition object
   * @param {String} id The partition id
   * @returns {Promise<Object | undefined>} Partition object, if id is valid. undefined, otherwise.
   */
  async findOne (id) {
    // Bail out if the id is either empty or not a string
    if (!isString(id) || id === '') {
      return;
    }

    const partitionsObj = await getPartitionsValue();

    // Bail out if the partition id is not available
    if (!partitionsObj[id]) {
      return;
    }

    return {
      id,
      ...partitionsObj[id]
    };
  },

  /**
   * Updates a partitions meta and context.
   * This replaces the context and meta objects
   * @param {String} id The partition id
   * @param {Object} context The context of partition
   * @param {Object} meta The meta of partition
   * @returns {Promise<Object | undefined>} The updated object. undefined, on failure.
   */
  async updateOne (id, context, meta) {
    // Bail out if the id is either empty or not a string
    if (!isString(id) || id === '') {
      return;
    }

    // Bail out if the partition id is not valid
    if (_.isEmpty(await this.findOne(id))) {
      return;
    }

    const partitionsObj = await getPartitionsValue();

    partitionsObj[id] = { context, meta };
    await setPartitionsValue(partitionsObj);

    return {
      id,
      ...partitionsObj[id]
    };
  },

  /**
   * Removes partition and wipes the partition's storage.
   * @param {String} id the partition id for which the session needs to cleaned.
   * @returns {Promise<String>} Promise resolving to the partition id cleaned. Rejects on invalid id.
   */
  async cleanOne (id) {
    // Bail out if the id is either empty or not a string
    if (!isString(id) || id === '') {
      return Promise.reject(new Error('Please provide a valid partititon id to clean'));
    }

    // Bail out if the partition id is not valid
    if (_.isEmpty(await this.findOne(id))) {
      return Promise.reject(new Error('Partition id is not tracked'));
    }
    await this.makeOrphan([id]);

    return cleanPartitionStorage(id);
  },

  /**
   * Removes the specified list of partitions mapping from partition system
   * @param {String[]} partitionIdsList The partition id list to be removed
   * @returns {Promise<void>}
   */
  async removePartitionEntries (partitionIdsList) {
    // Bail out if the partitions list is empty not available.
    if (_.isEmpty(partitionIdsList) || !_.isArray(partitionIdsList)) {
      return;
    }

    let partitionsObj = await getPartitionsValue();

    // removes the partition from the v8 partitions object.
    partitionsObj = _.omit(partitionsObj, partitionIdsList);
    return setPartitionsValue(partitionsObj);
},

  /**
   * Updates the namespace level meta object
   * This replaces the entire meta object
   * @param {String} namespace
   * @param {Object} meta
   * @returns {Promise<Object>} The updated namespace meta
   */
  async updateNamespaceMeta (namespace, meta) {
    // Bail out if namespace is either empty or not a string
    if (!isString(namespace) || namespace === '') {
      return;
    }

    const globalMeta = await getGlobalMetaValue();

    globalMeta[namespace] = meta;
    await setGlobalMetaValue(globalMeta);

    return globalMeta[namespace];
  },

  /**
   * Gets the namespace level meta data
   * @param {String} namespace The namespace is used to group partitions
   * @return {Promise<Object>} The namespace level meta object
   */
  async getNamespaceMeta (namespace) {
    // Bail out if namespace is either empty or not a string
    if (!isString(namespace) || namespace === '') {
      return;
    }

    const globalMeta = await getGlobalMetaValue();

    return globalMeta[namespace];
  }
};

module.exports = partitionService;
const DEFAULT_PARTITION = 'default';
const DEFAULT_COOKIE_PARTITION = 'persist:postman_user_cookies';

const partitionUtils = {

  /**
   * Gets the partition string, which can be used while working with electron's session API or loading a web view with a persisted partition
   * @param {String} partitionId The partition which needs to be transformed
   * @returns {String} This string can be empty, which means the default partition
   * */
  getPersistedPartitionString (partitionId) {
    // Return an empty string - partition without a name on file system
    if (partitionId === DEFAULT_PARTITION) {
      return '';
    }

    return 'persist:' + partitionId;
  },

  /**
   * Helper to get cookie Electron partition ID of an user
   * @param {String} partitionId
   * @returns {String} partitionID
  */
  getCookiePartitionId (partitionId) {
    const partitionExtension = partitionId === DEFAULT_PARTITION ? '' : `_${partitionId}`;

    return `${DEFAULT_COOKIE_PARTITION}${partitionExtension}`;
  }
};

module.exports = partitionUtils;
let perftraceEnvVarSet;
function isPerftraceEnvVarSet () {
  if (perftraceEnvVarSet !== undefined) {
    return perftraceEnvVarSet;
  }

  const perftraceEnvVar = process.env.PERFTRACE;
  if (typeof perftraceEnvVar === 'string' &&
    ['true', '1'].includes(perftraceEnvVar.toLowerCase())) {
    perftraceEnvVarSet = true;
  } else {
    perftraceEnvVarSet = false;
  }

  return perftraceEnvVarSet;
}

function enablePerftrace () {
  if (!isPerftraceEnvVarSet()) {
    return;
  }

  const { TraceEvents, trackRequires } = require('perftrace');

  const traceEvents = new TraceEvents();

  process.on('exit', () => {
    const events = traceEvents.getEvents();
    traceEvents.destroy();
    require('fs').writeFileSync('perftrace.json', JSON.stringify(events));
  });

  trackRequires(true, { trackSource: true });
}

function perftraceBegin (name) {
  if (!isPerftraceEnvVarSet()) {
    return;
  }

  if (typeof name !== 'string') {
    throw new TypeError(`The name must be a string but received ${JSON.stringify(name)}.`);
  }

  const { performance } = require('perf_hooks');
  performance.mark(name);
}

function perftraceEnd (name) {
  if (!isPerftraceEnvVarSet()) {
    return;
  }

  if (typeof name !== 'string') {
    throw new TypeError(`The name must be a string but received ${JSON.stringify(name)}.`);
  }

  const { performance } = require('perf_hooks');
  performance.measure(name, name);
}

module.exports = {
  enablePerftrace,
  perftraceBegin,
  perftraceEnd,
};
const os = require('os'),
      _ = require('lodash'),
      exec = require('child_process').exec,
      windowManager = require('./windowManager').windowManager,
      authHandler = require('./AuthHandler'),
      { app } = require('electron'),
      appStatus = require('../common/services/AppStatus'),
      protocolUtils = require('./ProtocolUtils'),

      DARWIN = 'Darwin',
      LINUX = 'linux',

      APP_NAME = app.getName(),

      PROTOCOL_NAME = protocolUtils.getProtocolName(APP_NAME),
      POSTMAN_PROTOCOL = `${PROTOCOL_NAME}://`,
      AUTH_NAMESPACE = `${POSTMAN_PROTOCOL}auth`;

/**
 * @description This is used to do following things:
 * 1. Open the url in requester window through window manager
 * 2. For passing auth context from Identity to postman app.
 * @param {String} url
 */
function handleOpenUrl (url) {
  pm.logger.info(`ProtocolHandler~handleOpenUrl: ${url}`);

  // AuthHandler will handle all urls that belong to auth namespace.
   if (_.startsWith(url, AUTH_NAMESPACE)) {
      return authHandler.handleAuthUrl(url);
   }

  // Waiting for requester/scratchpad to boot before we open the URL
  appStatus.onAppBooted()
    .then(() => {
      windowManager.initUrl = url;
      windowManager.openUrl(url);
    });
}

/**
 * @description This will process the arguments provided to find the postman protocol init.
 * @param {Array<String>} argv
 */
function processArg (argv = []) {
  // Bail out for darwin as it will be handled on open-url event handling
  if (os.type() === DARWIN) {
    return;
  }

  // This would be linux or windows, since os.type() will have only 3 possible values
  // Electron will always append the latest argument at the end.
  // since, we attach the protocol handler with process.argv while doing app.setAsDefaultProtocolClient
  _.forEachRight(argv, (arg) => {
    if (arg.startsWith(POSTMAN_PROTOCOL)) {
      handleOpenUrl(arg);
      return false;
    }
  });
}

/**
 * @description This will handle the open-url event triggered in darwin
 * @param {Object} event
 * @param {String} url
 */
function handleOpenUrlForDarwin (event, url) {
  // https://electronjs.org/docs/api/app#event-open-url-macos
  // PreventDefault is needed if we are handling the event.
  event.preventDefault();
  pm.logger.info(`ProtocolHandler~handleOpenUrlForDarwin - Opened with url: ${url}`);
  handleOpenUrl(url);
}

/**
 * @description Method to check whether the current executable is registered with the protocol name or not
 * @returns {Promise}
 */
function isDefaultProtocolClient () {
  return new Promise((resolve) => {

    if (process.env.PM_BUILD_ENV === 'development') {
      // In dev mode, electron setDefaultProtocolClient API registers the protocol for the electron executable file which is present inside node_modules.
      // The electron setDefaultProtocolClient API doesn't support to modify the executable path other than the default `process.execPath` path.
      // Read more : https://www.electronjs.org/docs/api/app#appsetasdefaultprotocolclientprotocol-path-args
      // Hence, early bail out is done for isDefaultProtocolClient API for dev mode.
      return resolve(false);
    }

    // For darwin and windows
    if (process.platform !== LINUX) {
      return resolve(app.isDefaultProtocolClient(PROTOCOL_NAME));
    }

    // To check if the xdg-mime command registered the default correctly, we run the command 'xdg-mime query default x-scheme-handler/<PROTOCOL_NAME>'.
    // If the output of this command is '<APP_NAME>.desktop', the handler registered correctly.
    exec(`xdg-mime query default x-scheme-handler/${PROTOCOL_NAME}`, (error, stdout, stderr) => {

      // Case where above command returns the desktop file name as a output
      // The above command will not return anything if the executable path inside .desktop file is wrong (Because in that case protocol will not be registered successfully)
      if (stdout && stdout.includes(`${APP_NAME}.desktop`)) {
        return resolve(true);
      }

      // For the scenario where protocol was registered using `app.setAsDefaultProtocolClient` API
      if (app.isDefaultProtocolClient(PROTOCOL_NAME)) {
        return resolve(true);
      }

      // Default return false in following cases :
      // 1. Where the protocol was not registered using the `xdg-mime` linux command and electron API
      // 2. Where the `xdg-mime` linux command returns error
      return resolve(false);
    });
  });
}

/**
 * @description This method makes the Postman app as the default app for handling files with urls starting with <PROTOCOL_NAME>://
 * @returns {Promise}
 */
function setDefaultProtocolClient () {
  return new Promise((resolve) => {
    if (process.env.PM_BUILD_ENV === 'development') {
      // In dev mode, electron setDefaultProtocolClient API registers the protocol for the electron executable file which is present inside node_modules.
      // The electron setDefaultProtocolClient API doesn't support to modify the executable path other than the default `process.execPath` path.
      // Read more : https://www.electronjs.org/docs/api/app#appsetasdefaultprotocolclientprotocol-path-args
      // Hence, early bail out is done while registering the protocol for dev mode.
      return resolve(false);
    }

    if (process.platform !== LINUX) {
      let isCustomProtocolAssigned = app.setAsDefaultProtocolClient(PROTOCOL_NAME, process.execPath);

      pm.logger.info(`ProtocolHandler~init - Success with status: ${isCustomProtocolAssigned}]`);

      return resolve(isCustomProtocolAssigned);
    }

    // For handling Linux, we run the xdg-mime command manually instead of using the Electron api app.setAsDefaultProtocolClient.
    // This is because setAsDefaultProtocolClient uses xdg-settings to set the app as default. This led to the app being set as
    // default for html files as well.
    // Github issue - https://github.com/postmanlabs/postman-app-support/issues/5558

    // To check if the xdg-mime command registered the default correctly, we run the command 'xdg-mime query default x-scheme-handler/<PROTOCOL_NAME>'.
    // If the output of this command is '<APP_NAME>.desktop', the handler registered correctly.
    exec(`xdg-mime default ${APP_NAME}.desktop x-scheme-handler/${PROTOCOL_NAME}`, (error) => {
      if (error) {
        pm.logger.error(`ProtocolHandler~setDefaultProtocolClient: ${error.message}`);

        // Fallback in case xdg-mime gives an error
        return resolve(app.setAsDefaultProtocolClient(PROTOCOL_NAME, process.execPath));
      }

      return resolve(true);
    });
  });
}

/**
 * @description It initialized the handling needed for protocol handling.
 * https://postmanlabs.atlassian.net/wiki/spaces/ENGINEERING/pages/757366824/How+Run+in+Postman+Protocol+handling+works+in+app
 */
function init () {
  let args = Array.from(process.argv);

  processArg(args);

  // For handling Darwin
  app.on('open-url', handleOpenUrlForDarwin);

  setDefaultProtocolClient();
}

module.exports = { init, processArg, isDefaultProtocolClient, setDefaultProtocolClient };
const DEFAULT_PROTOCOL = 'postman',
  appNameProtocolMap = {
    Postman: 'postman',
    PostmanEnterprise: 'postman',
    PostmanCanary: 'postman',
    PostmanBeta: 'postman-beta',
    PostmanEnterpriseBeta: 'postman-beta',
    PostmanStage: 'postman-stage',
    PostmanEnterpriseStage: 'postman-stage',
    PostmanDev: 'postman-dev',
    PostmanPreview: 'postman-preview',
  },
  releaseChannelProtocolMap = {
    prod: 'postman',
    canary: 'postman',
    beta: 'postman-beta',
    stage: 'postman-stage',
    dev: 'postman-dev',
    preview: 'postman-preview'
  };

/**
 * This function returns the protocol handler corresponding to the environment of current application
 * @param {String} name
 * @returns {String}
 */
function getProtocolName (name) {
  // For main process
  if (process && process.type && process.type === 'browser') {
    return appNameProtocolMap[name] || DEFAULT_PROTOCOL;
  }

  return releaseChannelProtocolMap[name] || DEFAULT_PROTOCOL;
}


module.exports = {
  getProtocolName
};

const waterfall = require('async').waterfall,
  fs = require('fs'),
  path = require('path'),
  parallel = require('async').parallel,
  _ = require('lodash'),
  { getConfig } = require('./AppConfigService'),
  RELEASE_CHANNEL = getConfig('__WP_RELEASE_CHANNEL__'),
  proxyConstants = require('../constants/ProxyConstants'),
  { generateRootCa, getCertInfo } = require('./proxyCertificateUtil'),
  forge = require('node-forge'),
  PROXY_CERT_NAME = proxyConstants.COMMON_NAME[RELEASE_CHANNEL] || proxyConstants.COMMON_NAME.prod;

let self;

/**
 * Deletes the certificates that have been expired
 *
 * @param {object} certMap object that contains the map of commonName to key and certificate path
 */
async function deleteCertificates (certMap, certMapFile, deleteAll = false, deleteExpired = false) {
  var toDelete = [];

  const promiseArray = _.map(certMap, async (value, key) => {
    try {
      if (deleteAll) {
        toDelete.push(key);
        fs.unlinkSync(value.certFile);
        fs.unlinkSync(value.keyFile);
      }
      if (deleteExpired) {
        return await deletePairOnCertExpired(value.certFile, value.keyFile, key);
      }
    } catch (error) {
      console.log(`Error processing certificate ${key}:`, error);
    }
  });

  const results = await Promise.allSettled(promiseArray);

  if (deleteExpired) {
    _.forEach(results, (res) => {
      if (res.status === 'fulfilled') {
        res.value && toDelete.push(res.value);
      }
    });
  }

  _.forEach(toDelete, (value) => {
    delete certMap[value];
  });
  fs.writeFileSync(certMapFile, JSON.stringify(certMap, true, 2));
}

/**
 * Creates root CA key and certificate by options mentioned
 *
 * @param {Number} keyBitSize
 * @param {Object} certOptions
 * @param {String} certOptions.country
 * @param {String} certOptions.state
 * @param {String} certOptions.locality
 * @param {String} certOptions.emailAddress
 * @param {String} certOptions.organization
 * @param {String} certOptions.organizationUnit
 * @param {Number} certOptions.days
 * @param {String} certOptions.commonName
 * @returns {Object} containing root key & cert
 */
function createRootCAKeyAndCertificate (keyBitSize, certOptions) {
  const certConfig = createConfigForCertificate(keyBitSize, certOptions);
  return new Promise((resolve, reject) => {
    waterfall([
      (next) => {
        generateRootCa(certConfig.attr, certConfig.options, certOptions, (error, details) => {
          if (error) {
            return next(error);
          }
          const pair = {
            cert: details.certificate,
            key: details.clientKey
          };
          return next(null, pair);
        });
      }
    ], (err, newCA) => {
      if (err) {
        pm.logger.error('Error encountered while creating root CA', err);
        return reject(err);
      }
      return resolve(newCA);
    });
  });
}

/**
 * @returns {{attr: Object[], options: Object}}
 */
function createConfigForCertificate () {
  const attr = [
    {
      name: 'commonName',
      value: PROXY_CERT_NAME
    },
    {
      name: 'countryName',
      value: proxyConstants.COUNTRY
    }
  ];
    const options = {
      keySize: 2048,
      algorithm: proxyConstants.HASH,
      days: proxyConstants.DAYSTOEXPIRY,
      extensions: [
        {
          name: 'basicConstraints',
          cA: true
        }
      ]
    };
  return {
    attr, options
  };
}

/**
 * Ensures that a non-expired rootCA is present for HTTPS proxy
 * Creates rootCA if expired or not present
 * Deletes other keys signed by previous rootCA if the previous rootCA is deleted
 * Deletes all the expired keys signed by the rootCA
 *
 * @param {Object} options
 * @param {Number} options.keyBitSize - size of the private key
 * @param {Object} options.certOptions - certificate options
 * @param {String} options.certOptions.country
 * @param {String} options.certOptions.state
 * @param {String} options.certOptions.locality
 * @param {String} options.certOptions.emailAddress
 * @param {String} options.certOptions.organization
 * @param {String} options.certOptions.organizationUnit
 * @param {Number} options.certOptions.days
 * @param {String} options.certOptions.commonName
 * @param {Object} options.locationMeta
 * @param {String} options.locationMeta.rootCALocation - path to storing root CA
 * @param {String} options.locationMeta.certMapFile - path to cert.json file
 * @param {Object} certMap - cert map containing CN->cert location mapping
 * @returns {Promise<Object>} containing root key & cert
 */
async function ensureRootCAPresence (options, certMap) {
  const { keyBitSize, certOptions } = options,
    { rootCALocation, certMapFile } = options.locationMeta;
  let rootCA = {},
    certsRegenerated = false;

  const rootCACertFile = path.resolve(rootCALocation, `${proxyConstants.CA_SUFFIX_NAME}.crt`),
    rootCAKeyFile = path.resolve(rootCALocation, `${proxyConstants.CA_SUFFIX_NAME}.key`);

  let deleteRootCA = false;
  try {
    if (!fs.existsSync(rootCACertFile) || !fs.existsSync(rootCAKeyFile)) {
      deleteRootCA = true;
    }
    if (await deletePairOnCertExpired(rootCACertFile, rootCAKeyFile, true)) {
      deleteRootCA = true;
    }
  } catch (e) {
    deleteRootCA = true;
  }

  if (deleteRootCA) {
    try {
      fs.existsSync(rootCACertFile) && fs.unlinkSync(rootCACertFile);
      fs.existsSync(rootCAKeyFile) && fs.unlinkSync(rootCAKeyFile);

      // Flush all certificates signed by previous rootCA
      await self.deleteCertificates(certMap, certMapFile, true, false);

      rootCA = await createRootCAKeyAndCertificate(keyBitSize, certOptions);
      !fs.existsSync(rootCALocation) && fs.mkdirSync(path.resolve(rootCACertFile, '..'));
      fs.writeFileSync(rootCACertFile, rootCA.cert, { flag: 'wx' });
      fs.writeFileSync(rootCAKeyFile, rootCA.key, { flag: 'wx' });

      pm.logger.info('proxyCertificateService~ensureRootCAPresence: Deleting and creating new certificates');

      certsRegenerated = true;
    } catch (e) {
      throw new Error('Unable to regenerate new certificates', e);
    }
  } else {
    certsRegenerated = false;
    try {
      rootCA = await getCertificateAndKey(rootCACertFile, rootCAKeyFile);
    } catch (e) {
      throw new Error('Unable to read root certificate');
    }
  }

  return {
    rootCA: _.pick(rootCA, 'key', 'cert'),
    certsRegenerated
  };
}

/**
 * @param {String} certPath
 * @param {String} keyPath
 * @returns {Promise} true if deleted, false otherwise
 */
function deletePairOnCertExpired (certPath, keyPath, key) {
  return new Promise((resolve, reject) => {
    fs.readFile(path.resolve(certPath), 'utf8', (err, certificate) => {
      if (err) {
        console.log('error reading file' + err);
        reject(err);
      }
      else {
        getCertInfo(certificate, (err, details) => {
          if (!err) {
            const certValidity = new Date(details.validity.notAfter).getTime();
            if (certValidity < Date.now()) {
              // unlink expired certificates
              parallel([
                (callback) => {
                  fs.unlink(path.resolve(certPath), callback);
                },
                (callback) => {
                  fs.unlink(path.resolve(keyPath), callback);
                }
              ], (err) => {
                if (err) {
                  console.log('Error while unlinking the certificate pair', err);
                  reject(err);
                  return;
                }
                resolve(key);
              });
            } else {
              resolve(false);
            }
          }
          else {
            console.log('Error reading certificate', err);
            reject(err);
          }
        });
      }
    });
  });
}

/**
 * Reads key & certificate from the given location
 *
 * @param {String} certPath certificate file path
 * @param {String} keyPath key file path
 * @returns {Object} contains key & cert
 */
function getCertificateAndKey (certPath, keyPath) {
  return new Promise(((resolve, reject) => {
    parallel([
      (callback) => {
        fs.readFile(path.resolve(certPath), 'utf8', (err, cert) => {
          if (err) {
            return callback(err);
          }
          callback(null, cert);
        });
      },
      (callback) => {
        fs.readFile(path.resolve(keyPath), 'utf8', (err, key) => {
          if (err) {
            return callback(err);
          }
          callback(null, key);
        });
      }
    ], (err, results) => {
        if (err) {
          reject(err);
        }
        resolve({
          cert: results[0],
          key: results[1]
        });
    });
  }));
}

/**
 * Reads key & certificate from the given location
 *
 * @param {String} storeLocation location to rootCA cert store
 * @returns {Object} containing key & cert
 */
function generateRootCAForProxy (storeLocation) {
  return new Promise(async (resolve, reject) => {
    const rootCADir = path.resolve(storeLocation, 'proxy'),
      certMapDir = path.resolve(rootCADir, 'certificates'),
      certMapFile = path.resolve(certMapDir, 'cert.json');
    let certMap;

    try {
      !fs.existsSync(rootCADir) && fs.mkdirSync(rootCADir);
      !fs.existsSync(certMapDir) && fs.mkdirSync(certMapDir);
      !fs.existsSync(certMapFile) && fs.writeFileSync(certMapFile, JSON.stringify({}), { flag: 'wx' });
      certMap = JSON.parse(fs.readFileSync(certMapFile, 'utf8'));
      await self.deleteCertificates(certMap, certMapFile, false, true);
      const result = await self.ensureRootCAPresence({
        keyBitSize: proxyConstants.KEYBITSIZE,
        certOptions: {
          country: proxyConstants.COUNTRY,
          days: proxyConstants.DAYSTOEXPIRY,
          commonName: PROXY_CERT_NAME,
          hash: proxyConstants.HASH
        },
        locationMeta: {
          rootCALocation: rootCADir,
          certMapFile: certMapFile
        }
      }, certMap);
      return resolve(result);
    } catch (e) {
      pm.logger.error('Error generating rootCA certificate for HTTPS proxy', e);
      return reject(e);
    }
  });
}

/**
 * Deletes old certificates and regenerates new rootCA
 *
 * @param {*} storeLocation location to rootCA cert store
 */
async function regenerateCertificates (storeLocation) {
  const rootCADir = path.resolve(storeLocation, 'proxy'),
    rootCACertFile = path.resolve(rootCADir, `${proxyConstants.CA_SUFFIX_NAME}.crt`),
    rootCAKeyFile = path.resolve(rootCADir, `${proxyConstants.CA_SUFFIX_NAME}.key`),
    rootCACertFilep12 = path.resolve(rootCADir, `${proxyConstants.CA_SUFFIX_NAME}.p12`);

  try {
    fs.existsSync(rootCACertFile) && fs.unlinkSync(rootCACertFile);
    fs.existsSync(rootCAKeyFile) && fs.unlinkSync(rootCAKeyFile);
    fs.existsSync(rootCACertFilep12) && fs.unlinkSync(rootCACertFilep12);

    await self.generateRootCAForProxy(storeLocation);
  } catch (e) {
    pm.logger.error('Error regenerating certificates: ', e);
  }
}

/**
 * Reads the root ca cert data and identifies if it is valid or not based on whether or not it has
 * org in the cert attributes
 * Added as a part of [INC-459]
 *
 * @param {string} rootCADir - location to the root certificate
 * @returns {Promise<boolean>} - whether or not the root cert is valid
 */
function isRootCAValid (rootCADir) {
  return new Promise((resolve, reject) => {
    // if the directory doesn't exists, then we are sure that the new certificate will be generated
    try {
      const rootCACertFile = path.resolve(rootCADir, 'postman-proxy-ca.crt');

      fs.readFile(rootCACertFile, (err, data) => {
        if (err) throw err;

        const
          decodedRootCA = forge.pki.certificateFromPem(data),
          certAttributes = decodedRootCA.issuer.attributes,
          isOrgAdded = _.find(certAttributes, (attr) => {
            return attr.name === 'organizationName';
          });

        resolve(!isOrgAdded);
      });

    } catch (e) {
      // if there was any error while reading the file content, then we can safely return true
      // as a new certificate will get generated
      if (e) {
        pm.logger.error('Main~Error while checking the contents of Root CA: ', e);
      }

      return resolve(true);
    }
  });
}

self = exports.proxyCertificateService = {
  getCertificateAndKey,
  generateRootCAForProxy,
  regenerateCertificates,
  isRootCAValid,
  deleteCertificates,
  ensureRootCAPresence
};
const forge = require('node-forge');
const { waterfall } = require('async');

/**
 * This function is used to generate the serial number
 * @param {string} hexString
 * @returns
 */
function toPositiveHex (hexString) {
  var mostSiginficativeHexAsInt = parseInt(hexString[0], 16);
  if (mostSiginficativeHexAsInt < 8) {
    return hexString;
  }

  mostSiginficativeHexAsInt -= 8;
  return mostSiginficativeHexAsInt.toString() + hexString.substring(1);
}

/**
 * This function is used to generate certificates using the postman root ca
 * @param {Object} attr
 * @param {Object} options
 * @param {Function} callback
 */
const generateCert = (attr, options, csrOptions, callback) => {
  try {
    if (process.platform === 'linux') {
      waterfall([
        (cb) => {
          // Do not require this package at the top of this file, so that it
          // doesn't block the critical path of the Postman app launch time
          // for non-Linux platforms where this package is not used.
          const pem = require('@postman/pem');

          // create a new CSR
          pem.createCSR(csrOptions, (err, keys) => {
            if (err) {
              pm.logger.info('Error while creating csr', err);
              return callback(err);
            }
            let configOpt, certOptions;

            configOpt = '[req]\nreq_extensions = v3_req\n\n';
            configOpt += '[v3_req]\nbasicConstraints = CA:FALSE\n';
            configOpt += 'keyUsage = nonRepudiation, digitalSignature, keyEncipherment\n';
            configOpt += 'subjectAltName = @alt_names\n\n[alt_names]\n';
            configOpt += csrOptions.altNames && csrOptions.altNames.join('\n'); // check for sanlist
            certOptions = {
              serviceKey: options.keyPair.privateKey,
              serviceCertificate: options.keyPair.publicKey,
              csr: keys.csr,
              clientKey: keys.clientKey,
              days: options.days,
              config: configOpt
            };
            return cb(err, certOptions);
          });
        },
        (certOptions, cb) => {
          // Do not require this package at the top of this file, so that it
          // doesn't block the critical path of the Postman app launch time
          // for non-Linux platforms where this package is not used.
          const pem = require('@postman/pem');

          // create a new certificate
          pem.createCertificate(certOptions, (err, keys) => {
            if (err) return callback(err);
            return callback(null, keys);
          });
        }
      ]);
    }
    else {
      const privateCAKey = forge.pki.privateKeyFromPem(options.keyPair.privateKey);
      const keys = forge.pki.rsa.generateKeyPair(options.keySize);
      const cert = forge.pki.createCertificate();

      const caCrt = forge.pki.certificateFromPem(options.keyPair.publicKey);

      cert.publicKey = keys.publicKey;

      cert.serialNumber = toPositiveHex(forge.util.bytesToHex(forge.random.getBytesSync(9)));
      cert.validity.notBefore = new Date();
      cert.validity.notAfter = new Date();
      cert.validity.notAfter.setDate(cert.validity.notBefore.getDate() + options.days);

      cert.setSubject(attr);
      cert.setIssuer(caCrt.subject.attributes);
      cert.setExtensions(options.extensions);
      cert.sign(privateCAKey, forge.md.sha256.create());

      const pem = {
        clientKey: forge.pki.privateKeyToPem(keys.privateKey),
        public: forge.pki.publicKeyToPem(keys.publicKey),
        certificate: forge.pki.certificateToPem(cert)
      };
      return callback(null, pem);
    }
  }
  catch (err) {
    return callback(err);
  }

};

/**
 * This function generates the root certificate
 *
 * @param {Object} attrs
 * @param {Object} options
 * @param {Object} certOptions
 * @param {Function} callback
 */
const generateRootCa = (attrs, options, certOptions, callback) => {
  try {
    if (process.platform === 'linux') {
      // Do not require this package at the top of this file, so that it
      // doesn't block the critical path of the Postman app launch time
      // for non-Linux platforms where this package is not used.
      const pem = require('@postman/pem');

      pm.logger.info('Generated root certificate for linux');

      pem.createCertificate({
        ...certOptions,
        hash: 'sha256',
        keyBitsize: options.keySize,
        selfSigned: true,
        config: `[v3_req]
        basicConstraints = CA:TRUE`
      }, (error, details) => {
        if (error)
          return callback(error);

        return callback(null, details);
      });
    }
    else {
      const keys = forge.pki.rsa.generateKeyPair(options.keySize);
      const cert = forge.pki.createCertificate();
      cert.publicKey = keys.publicKey;
      cert.serialNumber = toPositiveHex(forge.util.bytesToHex(forge.random.getBytesSync(9)));
      cert.validity.notBefore = new Date();
      cert.validity.notAfter = new Date();
      cert.validity.notAfter.setDate(cert.validity.notBefore.getDate() + options.days);

      cert.setSubject(attrs);

      // Set the certificate issuer to be the same as the subject (self-signed)
      cert.setIssuer(attrs);
      cert.setExtensions(options.extensions);

      cert.sign(keys.privateKey, forge.md.sha256.create());
      const pem = {
        clientKey: forge.pki.privateKeyToPem(keys.privateKey),
        public: forge.pki.publicKeyToPem(keys.publicKey),
        certificate: forge.pki.certificateToPem(cert)
      };
      return callback(null, pem);
    }
  }
  catch (err) {
    return callback(err);
  }
};

/**
 * This function provides the certificate information.
 *
 * @param {Object} cert
 * @param {Function} callback
 */
const getCertInfo = (cert, callback) => {
  try {
    const certDetails = forge.pki.certificateFromPem(cert);
    return callback(null, certDetails);
  }
  catch (err) {
    return callback(err);
  }
};

module.exports = { generateCert, generateRootCa, getCertInfo };
let path = require('path'),
  { windowManager } = require('./windowManager'),
  ProxyUsageTracker = require('./ProxyUsageTracker'),
  { v4: uuid } = require('uuid'),
  proxyUtils = require('../utils/proxy/utils').utils,
  { NodeProcess, IPCNode } = require('./node-process');

const proxyModulePath = path.resolve(__dirname, './ProxyNodeProcess.js'),
  releaseChannel = require('./AppConfigService').getConfig('__WP_RELEASE_CHANNEL__').toLowerCase(),
  PROXY_NODE_PROCESS_ID = 'proxy_node_process_',
  PROXY_PROCESS_IDENTIFIER = PROXY_NODE_PROCESS_ID + releaseChannel;

class ProxyMainManager {

  constructor () {
    this.proxyNodeProcess = null;
    this.proxyIpcNode = null;
    this.proxyState = 'off';
    this.clientProxyConfig = null;
    this.sessionId = null;
    this.proxyUsageTracker = null;
  }

  _resetMainManager () {
    this.proxyNodeProcess = null;
    this.proxyIpcNode = null;
    this.proxyState = 'off';
    this.proxyUsageTracker && this.proxyUsageTracker.reset();
  }

  /**
   * Starts a node process to run proxy server
   * All communication with the proxy server will be through IPC
   *
   * @param {Object} options
   * @param {Object} options.env - contains the current process env as well
   * @param {Number} options.env.port - port on which proxy server should listen to
   * @param {String} options.env.STORE_LOC - path where user data is stored
   */
  startProxyProcess (options) {

    proxyUtils.removeRedundantSockFile(PROXY_NODE_PROCESS_ID, () => {
      this.proxyNodeProcess = NodeProcess.spawn(proxyModulePath, PROXY_PROCESS_IDENTIFIER, options);
      pm.logger.info('ProxyMainManager~startProxyProcess~ proxyModulePath:', proxyModulePath);

      // Proxy Node process
      this.proxyNodeProcess.onReady(() => {
        pm.logger.info('ProxyMainManager~startProxyProcess~ The proxy node process is ready');
        this.attachProxyIpcNode();

        if (options.env.useImprovedFTUX) {
          proxyUtils.enableClientProxy(options.env.port, (err, res) => {
            if (err) {
              pm.logger.info('ProxyMainManager~startProxyProcess~ Error occurred while enabling client Proxy settings', err);

              const errObj = {};
              errObj.status = 'error';
              errObj.errorMessage = err.message;
              if (err.type) {
                errObj.type = err.type;
              }
              if (err.subType) {
                errObj.subType = err.subType;
              }
              windowManager.sendInternalMessage({
                'event': 'proxySessionEnableProxy',
                'object': errObj
              });
              this.clientProxyConfig = { enabled: false };
            }
            else {
              pm.logger.info('ProxyMainManager~startProxyProcess~ Web proxy settings has been enabled');
              this.clientProxyConfig = { enabled: true, port: options.env.port };
            }
          });
        }
      });

      this.proxyNodeProcess.onExit((code, signal) => {
        // Process terminated with error.
        if (code !== 0) {
          pm.logger.info(`ProxyMainManager~startProxyProcess~ subprocess exited with code: ${code}`);
          if (signal) {
            pm.logger.info(`in response to signal ${signal}`);
          }
        }
        pm.logger.info('ProxyMainManager~startProxyProcess~ the node process terminated with code: ', code, 'and signal: ', signal);
        this._resetMainManager();
      });
    });
  }

  _recordSessionStart () {
    this.sessionId = uuid();
    this.proxyUsageTracker = new ProxyUsageTracker();
    this.proxyUsageTracker.recordProxyStart();

    // Broadcast proxy start details
    windowManager.sendInternalMessage({
      event: 'proxyUsageStats',
      'object': 'startProxyServer',
      'object2': this.sessionId
    });
  }

  recordCaptureStats () {
    if (this.isProxyConnected()) {
      this.proxyUsageTracker.incrementRequestCaptured();
    }
  }

  _recordSessionEnd () {
    this.proxyState = 'off';
    this.proxyUsageTracker.recordProxyStop();

    // Send usage information to
    if (this.proxyUsageTracker.startTime) {
      windowManager.sendInternalMessage({
        event: 'proxyUsageStats',
        'object': 'stopProxyServer',
        'object2': this.sessionId,
        'object3': this.proxyUsageTracker.getSessionTime(),
        'object4': this.proxyUsageTracker.getNumRequestsCaptured()
      });
    }

    // Reset after reporting usage
    this.proxyUsageTracker.reset();
  }

  disableProxySettings () {
    proxyUtils.disableClientProxy((err, res) => {
      if (err) {
        pm.logger.info('ProxyMainManager~disableProxySettings~ Error occurred while enabling HTTP/HTTPS Proxy', err);

        const errObj = {};
        errObj.status = 'error';
        errObj.errorMessage = err.message;
        if (err.type) {
          errObj.type = err.type;
        }
        if (err.subType) {
          errObj.subType = err.subType;
        }
        windowManager.sendInternalMessage({
          'event': 'proxySessionEnableProxy',
          'object': errObj
        });
      }
      else {
        pm.logger.info('ProxyMainManager~disableProxySettings~ HTTP and HTTPS client proxies has been disabled');
      }
    });
  }

  /**
   * Sends message to proxy process to start the proxy server
   */
  sendStartProxyServer () {
    pm.logger.info('Proxy IPC Node created?', this.proxyIpcNode !== null);
    this.proxyIpcNode && this.proxyIpcNode.invoke('proxy-start-server');
  }

  /**
   * Creates and attaches the IPCNode for communication with proxy node process
   */
  attachProxyIpcNode () {
    // Detach previous ipc Node
    this.detachProxyIpcNode();

    this.proxyIpcNode = new IPCNode(PROXY_PROCESS_IDENTIFIER, pm.logger);
    this.ipcNodeDisposer = this.proxyIpcNode.onConnect(() => {
      pm.logger.info('ProxyIPCNode~node process client ipc connection successfully established');

      // Send internal message to renderer to connect an IPCNode
      windowManager.sendInternalMessage({
        event: 'connectProxyIpcNode'
      });

      this.proxyIpcNode.subscribe('proxy-start-error', async (message) => {
        // Kill proxy process if error on start
        this.killProxyProcess();
        pm.logger.error('ProxyIPCNode~Failed to start proxy', message.error);
        console.log('ProxyIPCNode~Failed to start proxy', message.error);
      });

      this.proxyIpcNode.subscribe('proxy-error', async (message) => {
        switch (message.type) {
          case 'opensslError': {
            windowManager.sendInternalMessage({
              event: 'proxyOpensslError'
            });
            break;
          }
        }
      });

      // Only listen to proxy start as proxy end will be called from killProcess
      this.proxyIpcNode.subscribe('proxy-notif', async (notifResult) => {
        pm.logger.info('received an ipc proxy-notif', notifResult);
        const { action, result } = notifResult;
        if (action === 'start' && result === 'success') {
          this.proxyState = 'on';
          this._recordSessionStart();
        }
      });
    });
  }

  /**
   * Detaches IPCNode to abandon communication with proxy node process
   */
  detachProxyIpcNode () {
    try {
      this.proxyIpcNode && this.proxyIpcNode.dispose();
      this.proxyIpcNode = null;
      pm.logger.info('ProxyIPCNode~detachProxyIpcNode~ Detached proxy IPC node');
    } catch (e) {
      pm.logger.error('ProxyIPCNode~Error in detaching IPCNode for proxy process', e);
    }
  }

  /**
   * Tries to kill the node process and waits till is it killed
   *
   * @returns {Boolean} - true if the proxy node process was killed, false otherwise
   */
  killProxyProcess () {
    if (this.isProxyConnected()) {
      this.ipcNodeDisposer && this.ipcNodeDisposer();
      this._recordSessionEnd();

      if (this.clientProxyConfig) {
        this.clientProxyConfig.enabled && this.disableProxySettings();
        this.detachProxyIpcNode();
      }
      try {
        if (this.proxyNodeProcess) {
          !this.proxyNodeProcess.isKilled() && this.proxyNodeProcess.kill();
          while (!this.proxyNodeProcess.isKilled()) {}
          this.proxyNodeProcess = null;
        }
        pm.logger.info('ProxyIPCNode~killProxyProcess~ Killed Proxy node process');
        return true;
      } catch (e) {
        pm.logger.error('ProxyIPCNode~killProxyProcess~ Could not kill Proxy node process', e);
        return false;
      }
    }
  }

  /**
   * Get the status of proxy
   *
   * @returns {Boolean} - true if proxy is connected, false otherwise
   */
  isProxyConnected () {
    return this.proxyState === 'on';
  }
}

module.exports = ProxyMainManager;
// pm.sdk containing ipc, logger will be available here

const electronProxy = require('./electronProxy').electronProxy,
  _ = require('lodash');

const ipcProxy = pm.sdk.ipc;

/**
 * Attach IPCNode to subscribe to messages to the current node process
 */
function attachIpcListeners () {
  ipcProxy.subscribeOnce('proxy-start-server', async () => {
    pm.logger.info('Start proxy server');

    electronProxy.startProxy(process.env.port, proxyClosedCallback, capturedRequestCallback,
      proxyStartErrorCallback, proxyStartSuccessCallback, proxyErrorCallback);
  });
}

/**
 * Callback on proxy close
 */
function proxyClosedCallback () {
  pm.logger.info('Sending Proxy server stopped ack');
}

/**
 * Callback on proxy error
 */
function proxyErrorCallback (err) {
  pm.logger.info('Error from proxy', err);
  ipcProxy.broadcast('proxy-error', err);
}

/**
 * @param {*} url
 * @param {*} method
 * @param {*} headers
 * @param {*} data
 * @param {*} res
 * @param {*} timeTaken
 * @param {*} timestamp
 */
function capturedRequestCallback (url, method, headers, data, res, timeTaken, timestamp) {
  if (!data) {
    data = '';
  }
  const currTimestamp = timestamp ? new Date(timestamp).getTime() : new Date().getTime();
  ipcProxy.broadcast('proxy-request-captured',
    {
      url: url,
      method: method,
      headers: headers,
      data: data,
      response: res,
      timeTaken: timeTaken,
      timestamp: currTimestamp
    }
  );
}

/**
 * Notifies the renderer process if there is an error while starting proxy
 *
 * @param {Object} error - error object
 * @param {String} error.message - error message
 */
function proxyStartErrorCallback (err) {
  pm.logger.info('broadcasting proxy start error ipc message', err);
  ipcProxy.broadcast('proxy-start-error', {
    error: err,
    errorCode: _.get(err, ['error', 'code']),
    message: _.get(err, 'message')
  });
}

/**
 * Notifies the renderer process when the proxy is started successfully
 */
function proxyStartSuccessCallback () {
  pm.logger.info('broadcasting proxy start success ipc message');
  ipcProxy.broadcast('proxy-notif', {
    action: 'start',
    result: 'success'
  });
}

ipcProxy.onReady(() => {
  pm.logger.info('the ipc is ready for communication');
  attachIpcListeners();
});

ipcProxy.onClose(() => {
  pm.logger.info('The Proxy IPC is closed for now. The ipc server will be restarted and ready event will be emitted soon on success.');
});

pm.logger.info('ProxyNodeProcess~entryModule~cwd', process.cwd());
class ProxyUsageTracker {
  constructor () {
    this.startTime = null;
    this.endTime = null;
    this.numRequestsCaptured = 0;
  }

  reset () {
    this.startTime = null;
    this.endTime = null;
    this.numRequestsCaptured = 0;
  }

  incrementRequestCaptured (num = 1) {
    this.numRequestsCaptured += num;
  }

  recordProxyStart () {
    this.startTime = Date.now();
  }
  recordProxyStop () {
    this.endTime = Date.now();
  }

  getSessionTime () {
    return this.endTime - this.startTime;
  }

  getNumRequestsCaptured () {
    return this.numRequestsCaptured;
  }
}

module.exports = ProxyUsageTracker;
// @ts-check
const { getConfig, configService } = require('./AppConfigService');
const CrashReporter = require('./CrashReporter');

class RegionService {
  DEFAULT_REGION = 'us';
  region = this.DEFAULT_REGION;

  /** @type {Record<string, string>} */
  #runtimeConfigs = {};

  /**
   * Set region of the user and persist it in the localstorage as user preference for later use.
   * @param {string=} region
   */
  async fetchRegionConfigAndOverride (region) {
    this.region = region || this.DEFAULT_REGION;
    const BASE_URL = getConfig('__WP_DESKTOP_UI_UPDATE_URL__');
    const ENV = getConfig('__WP_ENV__');

    let jsonData = null;
    try {
      if (this.region !== this.DEFAULT_REGION) {
        jsonData = await fetch(
          `${BASE_URL}/v1/app-config/desktop/platform/${this.region}.${ENV}.json`,
          { headers: { 'Content-Type': 'application/json' } }
        )
        .then((response) => {
          if (response.status >= 400) {
            throw new Error(`Getting region config failed with status code: ${response.status}`);
          }
          return response.json();
        }).catch((err) => {
          pm.logger.error(
            'RegionService~updateAndPersistRegionPreference: failed to fetch the Region specific config',
            err
          );
          return null;
        });
      }

      this.#runtimeConfigs = jsonData ?? {};
      configService.overrideConfig(this.#runtimeConfigs);

      // Reset CrashReporter instances to use newly overridden ENV variables.
      CrashReporter.init();
    } catch (error) {
      pm.logger.error(
        'RegionService~updateAndPersistRegionPreference: error',
        error
      );
    }
  }

  /**
   * This API is kept to work in sync, and not async for now.
   * The API can be (in future modified) to work in async, but it's not reasonable to do
   * it right now.
   *
   * The API is responsible to forward any existing cache of Runtime Configs fetched
   * from Artemis on app launch to other windows.
   * This helps us not to make the call again to Artemis servers, till the app relaunches
   *
   * In future a better solution would be to merge `fetchRegionConfigAndOverride` & `getRuntimeConfig`
   * APIs into a single function.
   *
   * @returns {Record<string, string>}
   */
  getRuntimeConfig () {
    return this.#runtimeConfigs;
  }
}

module.exports = new RegionService();
const zlib = require('zlib'), // Included in Nodejs module
  concatStream = require('concat-stream'),
  BufferHelper = require('bufferhelper');

// Use this to queue tasks instead of queueMicrotask
// Reason: The event loop keeps calling microtasks until there are none left in the queue
// This could hamper the next tasks to be run as unzips are resource heavy tasks
// https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide#microtasks
let queueTask = (fn) => {
  setTimeout(() => fn && fn());
};

/**
 * Taps, accumulates and extracts the response from the readable response stream
 * Currently supports
 *  - gzip
 *  - deflate
 *
 * @param {Response} res The http response
 * @param {Object} proxyRes The http header content-encoding: gzip/deflate
 * @param {Function} callback Calls back with the final extracted response
 */
module.exports = function accumulateResponse (res, proxyRes, callback) {
  if (!callback || typeof callback !== 'function') {
    pm.logger.info('ResponseAccumulator~Cannot callback with response. Aborting proxy response accumulation');
    return;
  }
  let contentEncoding = proxyRes;
  if (proxyRes && proxyRes.headers) {
    contentEncoding = proxyRes.headers['content-encoding'];
  }

  let unzip;

  // Only handle gzip/deflate/undefined content-encoding
  switch (contentEncoding) {
    case 'gzip':
      unzip = zlib.Gunzip();
      break;
    case 'deflate':
      unzip = zlib.Inflate();
      break;
    case 'br':
      unzip = zlib.BrotliDecompress && zlib.BrotliDecompress();
      break;
  }

  // The response write and end methods can be called
  // in-parallel to accumulating response
  let _write = res.write;
  let _end = res.end;

  if (unzip) {
    unzip.on('error', function (e) {
      pm.logger.info('ResponseAccumulator~Response unzip error:', e);
      _end.call(res);
    });
    _handleCompressed(res, _write, _end, unzip, callback);
  } else if (!contentEncoding) {
    _handleUncompressed(res, _write, _end, callback);
  } else {
    pm.logger.info('ResponseAccumulator~Not supported content-encoding:', contentEncoding);
  }
};

/**
 * handle compressed
 */
function _handleCompressed (res, _write, _end, unzip, callback) {
  // The rewrite response method is replaced by unzip stream
  // Write to the response method in parallel
  res.write = (data) => {
    _write.call(res, data);

    // Queue task - leverage JS event queue
    queueTask(() => { unzip.write(data); });
  };

  res.end = () => {
    _end.call(res);

    // Queue task - leverage JS event queue
    queueTask(() => unzip.end());
  };

  // Concat the unzip stream
  let concatWrite = concatStream((data) => {
    // Queue task - leverage JS event queue
    queueTask(() => {
      let body;
      try {
        body = JSON.parse(data.toString());
      } catch (e) {
        body = data.toString();
      }

      // Callback with tapped response
      callback(body);
    });
  });

  unzip.pipe(concatWrite);
}

/**
 * handle Uncompressed
 */
function _handleUncompressed (res, _write, _end, callback) {
  let buffer = new BufferHelper();

  // Rewrite response method and get the content
  // Write to the response method in parallel
  res.write = (data) => {
    // Write to response and also
    _write.call(res, data);

    // Queue task - leverage JS event queue
    queueTask(() => buffer.concat(data));
  };

  res.end = () => {
    // Do not block the connection
    _end.call(res);

    // Queue task - leverage JS event queue
    queueTask(() => {
      let body;
      try {
        body = JSON.parse(buffer.toBuffer().toString());
      } catch (e) {
        body = buffer.toBuffer().toString();
      }

      // Callback with tapped response
      callback(body);
    });
  };
}
const _ = require('lodash'),
  partitionService = require('./partitionService');

const namespace = 'scratchPad';

/**
 * Creates a scratchpad partition
 * @returns {Promise<String>} Promise which resolves to created partition id
 */
function createScratchpadPartition () {
  const context = {
      namespace,
      userId: 0,
      teamId: 0
    },
    meta = { isDirty: false };

  return partitionService.create(context, meta)
    .then((partition) => {
      return partition.id;
    });
}

const scratchPadPartitionService = {
  /**
   * Gets the active scratchpad partition id on availability
   * @returns {Promise<String>} Promise resolving to the active scratchpad partition id.
   */
  async getCurrent () {
    const partitions = await partitionService.find({ namespace });

    if (_.isEmpty(partitions)) {
      return createScratchpadPartition();
    }

    return partitions[0].id;
  },

  /**
   * Check if the provided partition id is of a scratchpad
   * @param {String} partitionId partition id
   * @returns {Promise<Boolean>}
   */
  async isScratchPadPartitionId (partitionId) {
    if (!partitionId) {
      return false;
    }

    const partitions = await partitionService.find({ namespace });

    if (_.isEmpty(partitions)) {
      return false;
    }

    return partitions[0].id === partitionId;
  }
};

module.exports = scratchPadPartitionService;
const electron = require('electron'),
  app = electron.app,
  { getConfig } = require('./AppConfigService'),
  postmanEnv = getConfig('__WP_ENV__');

module.exports = function sendAnalyticsEvent (category, action, label, meta) {
  if (!category || !action) {
    return;
  }

  try {
    const platform = require('os').platform(),
      property_prefix = isEnterpriseApplication() ? 'enterprise_' : '',
      property = property_prefix +
        (platform === 'darwin' ? 'mac_app' :
        platform === 'linux' ? 'linux_app' : 'windows_app'),

      event = {
        category,
        action,
        label,
        meta,
        type: 'events-general',
        indexType: 'client-events',
        env: postmanEnv,
        property,
        propertyId: app.installationId,
        propertyVersion: app.getVersion(),
        timestamp: (new Date()).toISOString()
      };

    fetch(getConfig('__WP_ANALYTICS_URL__'), {
      method: 'POST',
      headers: { 'Content-Type': 'text/plain' },
      body: btoa(JSON.stringify(event)),
      credentials: 'omit'
    }).catch((error) => {
      pm.logger.info('sendAnalytics: Error while sending request', error);
    });
  }
  catch (e) {
    pm.logger.info('sendAnalytics: Error while sending event', e);
  }
};

/**
 * Returns a value representing whether the app is enterprise or not
 *
 * @returns {Boolean}
 */
function isEnterpriseApplication () {
  return [
    'PostmanEnterpriseBeta',
    'PostmanEnterprise',
    'PostmanEnterpriseStage'
  ].includes(app.getName());
}
const _ = require('lodash'),
  users = require('./users'),
  partitions = require('./partitions'),
  shellUtils = require('./shellUtils');

var shellController = {

  /**
   * Holds the whole reference of the partitions.
   */
  partitions: partitions,

  /**
   * Holds the whole reference of the users.
   */
  users: users,

  /**
   * It is been called to initialize the partitions and users defaults from the localstorage
   */
  async init () {
    await this.partitions.init();
    await this.users.init();
    await this.runIntegrity();

    pm.logger.info('shellController~init: Success');
  },

  /**
   * runIntegrity will run on the data we have,
   * we are considering the partitions as the source of truth here and removing the extra users
   * 1. gets the userId in partitions
   * 2. remove the other users from the users map.
   */
  async runIntegrity () {

    // runs integrity
    let partitionsMap = await this.partitions.getValue(),
        associatedUsers = _.map(_.values(partitionsMap), 'userId'),
        usersList = _.keys(await this.users.getValue());

    await this.users.removeUsers(_.difference(usersList, associatedUsers));
  },

  /**
   * This been used to do the following things.
   * 1. Add the user to the users dataset
   * 2. Associate partition to the user
   * 3. Associate user to the partition
   * @param {Object} userData the userData to be associated
   */
  associateUserAndPartition (userData, partitionId) {
    let userId = shellUtils.getUserIdfromData(userData);

    // Bail out if,
    // 1. is not a logged in user
    // 2. Empty partitionId
    if (!shellUtils.isUserLoggedIn(userId) || _.isEmpty(partitionId)) {
      return;
    }

    // Add the user information first.
    this.users.addUser(userData);

    // Associate the parttion -> the user
    this.users.associatePartitionToUser(userId, partitionId);

    // Associate the user -> the partition
    this.partitions.associateUserToPartition(partitionId, userId);
  },

  /**
   * This been used to do the following things.
   * 1. remove the user to the users dataset
   * 2. dis-associate partition to the user
   * 3. dis-associate user to the partition
   * @param {String} userId the user id for which the disassociation needs to be happen
   */
  disAssociateUserAndPartition (userData) {
    let userId = shellUtils.getUserIdfromData(userData),
        partitionId = this.getPartitionForUser(userId);

    // Bail out if,
    // 1. is not a logged in user
    // 2. Empty partitionId
    if (!shellUtils.isUserLoggedIn(userId) || _.isEmpty(partitionId)) {
      return;
    }

    // dis-associate the user -> the partition
    this.partitions.disAssociateUserToPartition(partitionId, userId);

    // remove the user information first.
    this.users.removeUser(userId);

  },

  /**
   * proxies the getNewPartition from the partitions module
   * @return {Promise<string>} partition id
   */
  getNewPartition () {
    return this.partitions.getNewPartition();
  },

  /**
   * It gets the recent logged in user from the users.
   * return {String=} userId of the recent user or null.
   */
  getRecentUser () {
    let usersMap = this.users.getValue(); // Get the update user value to switch to new user.

    // If the hash has users available to switch,
    if (!_.isEmpty(usersMap)) {
      return this.users.getRecentUser();
    }

    // if the map is empty, return null.
    return null;
  },


  /**
   * Used to get the users from the cache
   * @return {Object} users object
   */
  getUsers () {
    return this.users.getValue();
  },

  /**
   * It is used to get the partitionId associated with the user
   * @param {String} id the user_id for which the partition needs to be provided.
   * @return {Promise<String | undefined>} the uuid of the partition associated with the user, if no partition is provided it returns undefined.
   */
  getPartitionForUser (id) {
    return this.users.getPartitionForUser(id) || this.partitions.getNewPartition();
  }

};

module.exports = shellController;
const authDataInterface = require('./authDataInterface'),
  path = require('path'),
  electron = require('electron'),
  BrowserWindow = electron.BrowserWindow,
  app = electron.app,
  sendAnalyticsEvent = require('./sendAnalytics'),
  devUrls = require('../common/constants/dev-urls'),
  url = require('url'),
  { perftraceBegin, perftraceEnd } = require('./perftraceService'),

  MIGRATION_TRY_COUNT = 2,
  SHOW_MIGRATION_UI_TIMEOUT = 1 * 1000,
  SHELL_PARTITION = 'persist:postman_shell',
  MIGRATION_COMPLETE_KEY = 'migrationCompleted';

let migratorWindow;

async function performShellDataMigration () {
  const migrationStartTime = Date.now();

  try {
    if (await isShellMigrationDone()) {
      pm.logger.info('performShellDataMigration: Migration has already been done. Bailing out');
      return;
    }

    pm.logger.info('performShellDataMigration: Starting shell data migration');

    for (let i = 0; i < MIGRATION_TRY_COUNT; i++) {
      try {
        await migrateShellData();

        pm.logger.info(`performShellDataMigration: Migration successful on try count ${i + 1}`);
        sendAnalyticsEvent('shell-migration', 'successful', '', { load_time: Date.now() - migrationStartTime });

        // We break the loop if the migration is successful
        break;
      }
      catch (e) {
        pm.logger.warn(`performShellDataMigration: Migration failed on try count ${i + 1}`, e);

        // If the final retry also failed, then we throw the error
        if (i + 1 === MIGRATION_TRY_COUNT) {
          throw e;
        }
      }
    }
  }
  catch (e) {
    pm.logger.error('performShellDataMigration: Error while performing migration', e);

    sendAnalyticsEvent('shell-migration', 'failed', `${e && e.name}:${e && e.message}`, { load_time: Date.now() - migrationStartTime });

    throw e;
  }
  finally {
    migratorWindow && migratorWindow.close();
  }
}

async function migrateShellData () {
  perftraceBegin('migrateShellData()');

  pm.logger.info('migrateShellData:Starting');

  // Cleanup the storage before starting a new migration
  await cleanupAuthStorage();
  pm.logger.info('migrateShellData: Old storage cleaned up');

  // Before we try to get the data from shell, we wait for the electron app to be ready.
  // This is because we need to create a BrowserWindow to access the shell partition. But
  // if the app is not ready, then creating a BrowserWindow will fail and the migration
  // will error out.
  await app.whenReady();

  const shellData = await getDataFromShell();

  if (!shellData) {
    pm.logger.info('migrateShellData: Got no data from shell. Bailing out');
    perftraceEnd('migrateShellData()');
    return;
  }

  shellData[MIGRATION_COMPLETE_KEY] = true;

  pm.logger.info('migrateShellData: Got data from shell. Writing to storage');

  await authDataInterface.setData(shellData);

  perftraceEnd('migrateShellData()');
}

/**
 * @returns {Promise<any>}
 */
function getDataFromShell () {
  // Maintain an array of known keys which will be present in the app
  const SHELL_KEYS = new Set(['v8PartitionsNamespaceMeta', 'partitions', 'v8Partitions', 'users']),
    V7_SHELL_KEYS = new Set(['activePartition', 'lastActiveUser', 'isPartitionDirty']);

  return new Promise((resolve, reject) => {
    pm.sdk.IPC.subscribe('shellData', (event, arg = {}) => {
      Object.keys(arg).forEach((key) => {
          try {
            arg[key] = V7_SHELL_KEYS.has(key) ? arg[key] : JSON.parse(arg[key]);
          }
          catch (e) {
            sendAnalyticsEvent('get-data-from-shell', 'failed', `${e && e.name}:${key}:${e && e.message}`);
            return (SHELL_KEYS.has(key) || V7_SHELL_KEYS.has(key)) && reject(e);
          }
      });

      sendAnalyticsEvent('get-data-from-shell', 'successful');
      resolve(arg);
    });

    migratorWindow = new BrowserWindow({
      width: 1000,
      height: 1000,
      show: false,
      webPreferences: {
        nodeIntegration: true,
        partition: SHELL_PARTITION,
        devTools: false,
        contextIsolation: false,
        preload: path.resolve(app.getAppPath(), 'preload/desktop/index.js')
      }
    });

    let srcUrl;

    if (process.env.PM_BUILD_ENV !== 'development') {
      const htmlFolderPath = path.resolve(__dirname, '..', 'html'),
            shellMigrator = path.resolve(htmlFolderPath, 'shell-migrator.html');

      // url.format helps in encoding any not allowed special characters in the path
      // The fix has been added where it was not possible to load the url for case below,
      // if user name contains #, creates # in the path, which is delimiter breaking the url.
      srcUrl = url.format({ protocol: 'file', pathname: shellMigrator });
    }
    else {
      srcUrl = devUrls.SHELL;
    }

    migratorWindow.loadURL(srcUrl);

    migratorWindow.webContents.on('dom-ready', () => {
      migratorWindow.webContents.send('shellMessage', { type: 'getShellData' });
    });
  });
}

/**
 * @returns {Promise<boolean>}
 */
async function isShellMigrationDone () {
  perftraceBegin('isShellMigrationDone()');

  perftraceBegin('authDataInterface.exists()');
  const authDataExists = await authDataInterface.exists();
  perftraceEnd('authDataInterface.exists()');

  perftraceBegin('authDataInterface.getItem()');
  const res = authDataExists && (await authDataInterface.getItem(MIGRATION_COMPLETE_KEY) === true);
  perftraceEnd('authDataInterface.getItem()');

  perftraceEnd('isShellMigrationDone()');
  return res;
}

/**
 * @returns {Promise<any>}
 */
function cleanupAuthStorage () {
  return authDataInterface.clear();
}

module.exports = {
  performShellDataMigration,
  isShellMigrationDone
};
const _ = require('lodash');
const authDataInterface = require('./authDataInterface');

var shellMeta = {

  /**
   * lastActiveUser is the last successful logged in user in the application.
   */
  lastActiveUser: null,

  /**
   * activePartition is the current active partition in the system.
   */
  activePartition: null,

  /**
   * isPartitionDirty, will become dirty if the user start to interact with the application
   */
  isPartitionDirty: null,

  /**
   * init, initialize function to load the data from the localstorage.
   */
  async init () {
    await authDataInterface.init();
    await this.loadFromDb();

    pm.logger.info('shellMeta~init: Success');
  },

  /**
   * loadFromDb, it loads the following properties from the localstorage
   * 1. lastActiveUser
   * 2. activePartition
   * 3. isPartitionDirty
   */
  async loadFromDb () {
    this.lastActiveUser = await this.dbService.get('lastActiveUser');
    this.activePartition = await this.dbService.get('activePartition');
    try {
      this.isPartitionDirty = JSON.parse(await this.dbService.get('isPartitionDirty'));
    } catch (e) {
      pm.logger.error('ShellMeta~loadFromDb - Error in parsing users info from localStorage', e);
      this.isPartitionDirty = false;
    }
  },

  /**
   * it returns a flag saying whether the partition is dirty or not (whether the user started using it or not)
   * @return {Boolean}
   */
  getIsPartitionDirty () {
    return this.isPartitionDirty;
  },

  /**
   * it sets the isPartitionDirty flag in the cache and in memory
   * @return {Promise<void>}
   */
  async setIsPartitionDirty (isDirty) {
    this.isPartitionDirty = isDirty;

    // updates the localStorage immediately.
    await this.dbService.set('isPartitionDirty', isDirty);
  },

  /**
   * it returns the last active user in the application
   * @return {string=} This would return the last active user if available or else returns null.
   */
  getLastActiveUser () {
    return this.lastActiveUser;
  },

   /**
   * it sets the last active user in the cache and in memory
   * @param {string} id the user id to be stored as last active user
   */
  async setLastActiveUser (id) {
    // Store in the local cache
    this.lastActiveUser = id;

    // updates the localStorage immediately.
    await this.dbService.set('lastActiveUser', id);
  },

  /**
   * it returns the active partition in the application
   * @return {string=} This would return the active partition
   */
  getActivePartition () {
    return this.activePartition;
  },

  /**
   * it sets the current active partition in the cache and in memory
   * @param {string} id the partition id which is currently active
   */
  async setActivePartition (id) {
    // Store in the local cache
    this.activePartition = id;

    // updates immediately in the localStorage
    await this.dbService.set('activePartition', id);
  },

  /**
   * dbService used to provide store and get data out of localStorage.
   */
  dbService: {

    /**
     * get the value of localStorage of a particular key
     * if it is available, it returns the value, else return null.
     * @param {string=} key the key of the data
     */
    async get (key) {
      let item = await authDataInterface.getItem(key);
      if (_.isEmpty(item) || item === 'undefined') {
        return null;
      }
      return item;
    },

    /**
     * set the value to localStorage for a particular key
     */
    async set (key, value) {
      await authDataInterface.setItem(key, value);
    }
  }
};

module.exports = shellMeta;
const _ = require('lodash');

var shellUtils = {

  getUserIdfromData (userData) {
    return userData.id || userData.user_id || userData.userId;
  },

  isUserLoggedIn (id) {
    return !(_.isEmpty(id) || id === '0' || id === 0);
  }
};

module.exports = shellUtils;
const ipcMain = pm.sdk.IPC;

const appSettings = require('../utils/appSettingsUtils');

const context = pm.logger.getContext('TrackManagementService', 'client-distribution');

/**
 * The TrackManagementService handles the desktop UI track's state
 * within the Postman desktop app window.
 *
 * The track feature is specifically designed for testing UI changes
 * in remote non-prod environments. Therefore, it should not be initialized
 * for the following `__WP_RELEASE_CHANNEL__` values:
 * - `dev`
 * - `canary`
 * - `prod`
 */
class TrackManagementService {
  /**
   * Initialize the TrackManagementService. This sets up listeners
   * to manage desktop UI track
   */
  initialize () {
    try {
      this.eventBus = pm.eventBus.channel('track-management');
      this.setupListeners();

      pm.logger.info('TrackManagementService: Initialized successfully');
    }
    catch (e) {
      pm.logger.error('TrackManagementService: Initialization failed ', e, { context });
    }
  }

  /**
   * Update the desktop UI track that needs to be opened in the app windows
   *
   * @param {String} trackName desktop UI track name
   */
  async updateDesktopUITrack (trackName) {
    if (!trackName) {
      pm.logger.info('TrackManagementService~updateDesktopUITrack: Desktop UI track name is empty');
      return;
    }

    try {
      pm.logger.info('TrackManagementService~updateDesktopUITrack: Updating the desktop UI track name in the app settings.', trackName);
      await appSettings.setAppSettings('trackName', trackName);
    }
    catch (err) {
      pm.logger.error('TrackManagementService~updateDesktopUITrack: track update failed ', err, { context });
    }
  }

  /**
   * Reset the desktop UI track
   */
  async resetDesktopUITrack () {
    pm.logger.info('TrackManagementService~resetDesktopUITrack: Removing the active desktop UI track from the app settings.');

    try {
      await appSettings.setAppSettings('trackName', '');
    }
    catch (err) {
      pm.logger.error('TrackManagementService~resetDesktopUITrack: track reset failed ', err, { context });
    }
  }

  /**
   * Set up listeners to manage the desktop UI track changes
   */
  setupListeners () {
    pm.logger.info('TrackManagementService~setupListeners: Setting listeners to manage desktop UI track');

    ipcMain.subscribe('setDesktopUITrack', async (event, trackName) => {
      await this.updateDesktopUITrack(trackName);
    });

    ipcMain.subscribe('removeDesktopUITrack', async () => {
      await this.resetDesktopUITrack();
    });
  }
}

module.exports = new TrackManagementService();
const initializeUpdater = require('@postman-app/app-updater').init,

      electron = require('electron'),

      AppUpdaterAdapter = require('../adapters/AppUpdaterAdapter'),

      APP_UPDATE = 'appUpdate',
      APP_UPDATE_EVENTS = 'app-update-events',
      CHECK_FOR_ELECTRON_VERSION_UPDATED = 'checkForElectronVersionUpdated',
      UPDATE_ELECTRON = 'updateElectron',
      APPLY_ELECTRON_UPDATE = 'applyElectronUpdate',

      ELECTRON_UPDATE_ERROR = 'electronAppUpdateError',
      ELECTRON_UPDATE_NOT_AVAILABLE = 'electronAppUpdateNotAvailable',
      ELECTRON_UPDATE_DOWNLOADED = 'electronAppUpdateDownloaded',
      ELECTRON_VERSION_UPDATED = 'electronVersionUpdated',

      /**
       * @description The initialize method which will initialize the updater module and call the callback based on the updater
       * ===============================================================================================
       * = Callback will not be called if the app start is invalid. Decided by the updater module.init =
       * ===============================================================================================
       */
      init = function (cb) {

        // Initialize updater
        const updaterInstance = initializeUpdater({ adapter: AppUpdaterAdapter });

        // If no updater found for the OS, consider it as not as error, just go through it
        if (!updaterInstance) {
          pm.logger.warn('UpdaterHandler~init - Updater not found for the os');
          cb && cb();
          return;
        }

        updaterInstance.init((err) => {
            attachUpdaterEventsListeners(updaterInstance);
            attachUpdaterListeners(updaterInstance);

            if (err) {
              pm.logger.error(
                'UpdateHandler~init - Failed',
                err,
                { context: pm.logger.getContext('UpdaterHandler', 'web-platform') }
              );
            } else {
              pm.logger.info('UpdateHandler~init - Success');
            }

            cb && cb(err, updaterInstance);
        });
      },

      /**
       * @description It clears the updaterInstance assigned in the electron.app object
       */
      destroy = function () {
        // Destroys the updaterInstance
        electron.app.updaterInstance = null;
      },

      /**
       * @description It attaches the subscription to the app-update-events for the following events
       * 1. checkForElectronVersionUpdated
       * 2. updateElectron
       * 2. applyElectronUpdate
       */
      attachUpdaterEventsListeners = function (updaterInstance) {
        pm.eventBus.channel(APP_UPDATE_EVENTS).subscribe((event = {}) => {
          pm.logger.info(`UpdateHandler~${APP_UPDATE_EVENTS} - Received event`, event); // Logging intentionally

          let eventName = event.name;
          if (eventName === CHECK_FOR_ELECTRON_VERSION_UPDATED) {
            checkForVersionUpdated(updaterInstance);
            return;
          }
          if (eventName === UPDATE_ELECTRON) {
            downloadUpdate(updaterInstance, event.data);
            return;
          }
        });

        // Sending through bus is not recommended here
        // As, the app quits in this case which triggers a crash at times
        const ipcMain = pm.sdk.IPC;

        ipcMain.subscribe(APPLY_ELECTRON_UPDATE, () => {
          restartAndUpdate(updaterInstance);
        });
      },

      /**
       * @param {Object} updaterInstance
       * It attaches the listeners for the updaterInstance actions.
       */
      attachUpdaterListeners = function (updaterInstance) {
        updaterInstance.on('updateDownloaded', handleOnUpdateDownloaded);
        updaterInstance.on('updateNotAvailable', handleOnUpdateNotAvailable);
        updaterInstance.on('beforeAppQuit', handleAppQuitting);
        updaterInstance.on('versionUpdated', handleOnVersionUpdate);
        updaterInstance.on('error', handleOnUpdateError);
        updaterInstance.on('warning', handleOnUpdateWarning);
      },

      /**
       * =============================================
       * =  Event Handlers for updater events starts =
       * =============================================
       */

      /**
       * @param {Object} event
       * @param {String=} notes
       * @param {String=} releaseName
       * @param {String=} date
       * @param {String=} URL
       */
      handleOnUpdateDownloaded = function (event, notes, releaseName, date, URL) {
        if (releaseName) {
          AppUpdaterAdapter.setDownloadedVersion(releaseName);
        }

        // Note: downloadVersion is not returning a string value from the api.
        // It should have return the downloaded version like x.y.z but it is returning a function
        pm.eventBus.channel(APP_UPDATE_EVENTS).publish({
          name: ELECTRON_UPDATE_DOWNLOADED,
          namespace: APP_UPDATE,
          data: {
            releaseName,
            notes,
            date,
            URL
          }
        });
      },

      handleOnUpdateNotAvailable = function () {
        pm.eventBus.channel(APP_UPDATE_EVENTS).publish({
          name: ELECTRON_UPDATE_NOT_AVAILABLE,
          namespace: APP_UPDATE
        });
      },

      /**
       * @param {Error} error
       * @param {Object=} updateData
       */
      handleOnUpdateError = function (error, updateData) {
        const SerializedError = require('serialised-error');
        pm.eventBus.channel(APP_UPDATE_EVENTS).publish({
          name: ELECTRON_UPDATE_ERROR,
          namespace: APP_UPDATE,
          data: {
            error: new SerializedError(error),
            updateData
          }
        });
      },

      handleOnUpdateWarning = function (error, info) {
        pm.logger.warn('UpdaterHandler: Warning while updating app', error, info);
      },

      /**
       * @param {?String} lastKnownVersion
       * @param {String} currentVersion
       */
      handleOnVersionUpdate = function (lastKnownVersion, currentVersion) {
        pm.eventBus.channel(APP_UPDATE_EVENTS).publish({
          name: ELECTRON_VERSION_UPDATED,
          namespace: APP_UPDATE,
          data: {
            lastKnownVersion,
            currentVersion
          }
        });
      },

      /**
       * @description This will be called when the updater quits the app.
       */
      handleAppQuitting = function () {
        electron.app.quittingApp = true;
      },

      /**
       * ===========================================
       * =  Event Handlers for updater events ends =
       * ===========================================
       */


      /**
       * ===========================================
       * =  App to updater delegate methods starts =
       * ===========================================
       */

      /**
       * @param {Object} updaterInstance
       * @param {Object} updateInfo
       */
      downloadUpdate = function (updaterInstance, updateInfo) {
        updaterInstance.downloadUpdate(updateInfo);
      },

      /**
       * @param {Object} updaterInstance
       */
      restartAndUpdate = function (updaterInstance) {
        // Marking restart flag as true to relaunch the app after applying updates
        updaterInstance.restartAppToUpdate({ restart: true });
      },

      /**
       * Responsible to apply update and quit the app. This method only supports `Linux` platform
       * @param {Object} updaterInstance
       */
      applyUpdateAndQuit = function (updaterInstance) {

        // @TODO: Fix the wrong implementation of `restartAppToUpdate` in app-updater module.
        // https://postmanlabs.atlassian.net/browse/CFDTN-878

        // Marking restart flag as false to prevent relaunching the app after applying updates
        updaterInstance.restartAppToUpdate({ restart: false });
      },

      /**
       * @param {Object} updaterInstance
       */
      checkForVersionUpdated = function (updaterInstance) {
        updaterInstance.checkForVersionUpdated();
      };

      /**
       * =========================================
       * =  App to updater delegate methods ends =
       * =========================================
       */

module.exports = {
  init,
  applyUpdateAndQuit
 };
const _ = require('lodash'),
  scratchPadPartitionService = require('./scratchPadPartitionService'),
  userPartitionService = require('./userPartitionService');

let _shouldVerifyTeamIdOfCurrentPartitionMap = new Map(),
  recentlyAuthenticatedUserDataMap = new Map();

/**
 * @param {object} authResponse
 * @returns {Promise<string>}
 */
function handlePartitioning (authResponse) {
  const action = _.get(authResponse, ['authData', 'additionalData', 'action']),
    userData = _.get(authResponse, ['authData', 'userData']);

  return Promise.resolve()
    .then(() => {
      switch (action) {
        case 'signup':
        case 'login':
          return loginUser(userData);
        case 'switch':
          return switchUser(userData.id);
        case 'logout':
          return logoutUser(userData);
        case 'skip':
        default:
          return getPartitionToLoad();
      }
    });
}

/**
 * @param {object} userData
 * @returns {Promise<string>}
 */
async function loginUser (userData) {
  // Bail out, if user id and team id are not available
  if (_.isEmpty(userData) || _.isEmpty(userData.id) || _.isEmpty(userData.teamId)) {
    throw new Error('Invalid user data - The user data should contain user id and team id');
  }

  // get the userId from the data.
  const existingPartitionDetails = await userPartitionService.getPartitionForUserContext(userData);

  let partitionId;

  // // This means logging into the already logged in account
  if (!_.isEmpty(existingPartitionDetails)) {
    pm.logger.info('Shell~init~loginUser: Updating existing user details');
    await userPartitionService.associatePartitionToUserData(existingPartitionDetails.partitionId, userData);
    await userPartitionService.setActivePartition(existingPartitionDetails.partitionId);

    partitionId = existingPartitionDetails.partitionId;
  }
  else {
    pm.logger.info('Shell~init~loginUser: associating the user ', userData.id, ' with transit partition');
    const newPartitionId = await userPartitionService.associateTransitPartition(userData);

    partitionId = newPartitionId;
    await userPartitionService.setActivePartition(partitionId);
  }

  _shouldVerifyTeamIdOfCurrentPartitionMap.set(partitionId, existingPartitionDetails && !existingPartitionDetails.isV8Partition);
  recentlyAuthenticatedUserDataMap.set(partitionId, userData);

  return partitionId;
}

/**
 * @param {*} userId
 * @returns {Promise<string>}
 */
async function switchUser (userId) {
  if (_.isEmpty(userId)) {
    throw new Error('Invalid user id');
  }
  pm.logger.info('Shell~init~switchUser: switching to user ', userId);
  const partitionId = await userPartitionService.getPartitionForUser({ id: userId });

  if (_.isEmpty(partitionId)) {
    throw new Error('There is no partition associated with the provided user');
  }
  await userPartitionService.setActivePartition(partitionId);

  return partitionId;
}

/**
 * We need to do the following things to remove a user.
 * 1. clean all partitions associated with the user
 * 2. make the cleaned partitions available
 * 3. update the active partition
 * @param {object} userData the user data to be removed from tracking
 * @returns {Promise<partitionId>} The recent user context partition if present or scratchpad partition
 */
async function logoutUser (userData) {
  pm.logger.info('Shell~init~logoutUser', userData);
  await userPartitionService.cleanPartitionsOfUser(userData.id);

  const partitionId = await userPartitionService.getRecentPartition();

  if (!partitionId) {
    // Setting active partition to be null, as there are no user context partitions
    await userPartitionService.setActivePartition(null);
    pm.logger.info('Shell~init~logoutUser: There is no user contexts anymore, falling back to scratchpad');
    return scratchPadPartitionService.getCurrent();
  }

  await userPartitionService.setActivePartition(partitionId);

  return partitionId;
}

/**
 * @returns {Promise<string>}
 */
async function getPartitionToLoad () {
  // Log the state of v8 partition system
  userPartitionService.logV8PartitionSystemState();

  const activePartition = await userPartitionService.getActivePartition();

  if (activePartition) {
    pm.logger.info('shell~init~getPartitionToLoad: loading active partition');
    return activePartition;
  }

  pm.logger.info('shell~init~getPartitionToLoad: loading scratchpad partition');
  return scratchPadPartitionService.getCurrent();
}

/**
 * @returns {Promise<void>}
 */
async function migrateV7User (userInfo) {
  const { windowManager } = require('./windowManager'),
    activePartitionId = await userPartitionService.getActivePartition(),
    isV8UserContextPartitionId = await userPartitionService.isV8UserContextPartitionId(activePartitionId),
    isV7UserContextPartitionId = await userPartitionService.isV7UserContextPartitionId(activePartitionId),
    isScratchPadPartitionId = await scratchPadPartitionService.isScratchPadPartitionId(activePartitionId);

    pm.logger.info('Shell~init~migrateV7User: Received user context from requester web view', { userId: userInfo.id, teamId: userInfo.teamId });

    if (isV7UserContextPartitionId && !isV8UserContextPartitionId) {
      await userPartitionService.associatePartitionToUserData(activePartitionId, userInfo);

      let recentlyAuthenticatedUserData = recentlyAuthenticatedUserDataMap.get(activePartitionId);

      // When partition is from V7 system and user authenticated a user context,
      // The newly associated partition will be loaded again if the teamId does not match
      if (
        _shouldVerifyTeamIdOfCurrentPartitionMap.get(activePartitionId) && !_.isEmpty(recentlyAuthenticatedUserData)
        && (recentlyAuthenticatedUserData.teamId !== userInfo.teamId || recentlyAuthenticatedUserData.id !== userInfo.id)
        ) {
          pm.logger.info('Shell~init~migrateV7User: the team id received from requester web view is not same as authenticated team id');
          userPartitionService.associateTransitPartition(recentlyAuthenticatedUserData)
          .then((newPartitionId) => {
            userPartitionService.setActivePartition(newPartitionId);

            // Reset the flag
            _shouldVerifyTeamIdOfCurrentPartitionMap.set(activePartitionId, false);
            windowManager.reLaunchRequesterWindows();
          });
        }
    }

    // When chromium does not persist partition data after login,
    // the user will be presented scratchpad banner but the data will be of user
    if (isScratchPadPartitionId) {
      if (userInfo.id !== '0') {
        await userPartitionService.associatePartitionToUserData(activePartitionId, userInfo);

        // Reload the web view, as the association of the same partition has changed
        // We are switching the same partition in order to reload all windows (there can be multiple windows with the same webview)
        return windowManager.reLaunchRequesterWindows();
      }
    }
}

/**
   * updateCurrentUserPartition
   * updates meta data of a user partition on every login, signup or account switch
   * @param {Object} oldUserContext - required for identifying the correct partition to update
   * @param {String} oldUserContext.id
   * @param {String} oldUserContext.teamId
   * @param {Object} newUserData
   * @param {String} newUserData.id
   * @param {String} newUserData.teamId
   * @param {String} [newUserData.name]
   * @param {String} [newUserData.email]
   * @param {String} [newUserData.username]
   * @param {String} [newUserData.profile_pic_url]
   * @param {Object} [newUserData.auth]
   * @returns {Promise<Object>} Returns the updated partition for current user
   */
 async function updateCurrentUserPartition (oldUserContext, newUserData) {

  // early bailout, if user and team ids are not present in old and new contexts
  if (_.isEmpty(oldUserContext.id) || _.isEmpty(oldUserContext.teamId) || _.isEmpty(newUserData.id) || _.isEmpty(newUserData.teamId)) {
    return;
  }
  const partitionForUserContext = await userPartitionService.getPartitionForUserContext(oldUserContext),
    currentActivePartitionId = await userPartitionService.getActivePartition();

  // bailout if current active partition does not belong to bootstrapped user
  if (_.isEmpty(partitionForUserContext) || currentActivePartitionId !== _.get(partitionForUserContext, 'partitionId')) {
    return;
  }

  return userPartitionService.associatePartitionToUserData(currentActivePartitionId, { ...newUserData });
}

/**
 * @returns {Promise<Object | undefined>}
 */
async function getActiveUser () {
  const userContexts = await userPartitionService.getAllUserContextPartitions(),
    hasUserContexts = userContexts.length > 0;

  if (!hasUserContexts) {
    return;
  }

  const currentUser = _.find(userContexts, { partitionId: await userPartitionService.getActivePartition() });

  if (!currentUser || currentUser.id === 0) { return; }

  return _.pick(currentUser, ['email', 'id', 'teamId', 'name', 'username']);
}


module.exports = {
  handlePartitioning,
  migrateV7User,
  updateCurrentUserPartition,
  getActiveUser
};
const _ = require('lodash'),
  { isString } = require('../utils/utilities'),
  partitionService = require('./partitionService'),
  shellController = require('./shellController'),
  PartitionMigrationService = require('./partitionMigrationService'),
  partitionUtils = require('./partitionUtils'),
  shellMeta = require('./shellMeta');

const namespace = 'users',
  scratchpadContext = { namespace: 'scratchPad', userId: 0, teamId: 0 },
  { session } = require('electron'),
  regionsMetaNamespace = 'regionsMeta';


/**
* Wipes out the associated cookie partition's storage.
* @param {string} id the partition id whose associated cookie session needs to cleaned.
* @returns {Promise<String>}
*/
function cleanCookiePartitionAssociated (id) {
  // Bail out if the id is either empty or not a string
  if (!isString(id) || id === '') {
    return Promise.reject(new Error('Partition id is not valid string'));
  }

  const cookiePartitionId = partitionUtils.getCookiePartitionId(id),
    partitionSession = session.fromPartition(cookiePartitionId);

  return partitionSession.clearStorageData()
    .then(() => {
      return id;
    });
}

/**
 * Gets the list of logged in user context partitions on v8 partition system
 * @returns {Promise<Object[]>} Array of logged in user context partitions on v8 partition system
 */
async function getAllV8UserContextPartitions () {
  const context = { namespace },
    partitions = await partitionService.find(context),
    v8UserContextPartitions = [];

  _.forEach(partitions, (partition) => {
    partition.context && partition.context.userId && v8UserContextPartitions.push({
      partitionId: partition.id,
      id: partition.context && partition.context.userId,
      teamId: partition.context && partition.context.teamId,
      name: partition.meta && partition.meta.name,
      email: partition.meta && partition.meta.email,
      username: partition.meta && partition.meta.username,
      profile_pic_url: partition.meta && partition.meta.profile_pic_url,
      lastUpdated: partition.meta && partition.meta.lastUpdated,
      auth: partition.meta && partition.meta.auth,
      region: partition.context && partition.context.region
    });
  });

  return v8UserContextPartitions;
}

/**
 * Gets the list of logged in user context partitions on v7 partition system
 * @returns {Promise<Object[]>} Array of logged in user context partitions on v7 partition system
 */
async function getAllV7UserContextPartitions () {
  const v7UserContextPartitions = [],
    v7UsersObj = await shellController.getUsers();

  await Promise.all(Object.values(v7UsersObj).map((user) => {
    // If the partition is migrated, it can be found in v8
    return partitionService.findOne(user.partitionId)
      .then((isV8Partition) => {
        if (isV8Partition) {
          return;
        }

        v7UserContextPartitions.push(user);
      });
  }));

  return v7UserContextPartitions;
}


/**
 * Gets the least recently used v8 user context partition
 * @returns {Promise<String | undefined>} Returns the partition id by comparing the v8 partition's last accessed timestamp
 */
async function getRecentV8UserPartition () {
  const partitions = await getAllV8UserContextPartitions();

  // Bail out, if there is nothing
  if (_.isEmpty(partitions)) {
    return;
  }

  // Pick the partition id of recently accessed partition of user
  const recentPartition = _.maxBy(partitions, (partition) => { return partition.lastUpdated; }),
    recentPartitionId = recentPartition && recentPartition.partitionId;

  pm.logger.info('userPartitionService~getRecentV8UserPartition: recent v8 user context partition ', recentPartitionId);

  return recentPartitionId;
}

/**
 * @returns {Promise<String>} The partition id of v7 last active user if it is not yet migrated
 */
async function getV7ActiveUserPartitionIfNotYetMigratedToV8 () {
  const recentV7UserId = shellMeta.getLastActiveUser();

  if (_.isEmpty(recentV7UserId)) {
    return;
  }

  const recentV7UserPartitionId = await shellController.users.getPartitionForUser(recentV7UserId);

  if (_.isEmpty(recentV7UserPartitionId)) {
    return;
  }

  // if the same partition exists on v8, even though it's active on v7, we don't return that
  if (!_.isEmpty(await partitionService.findOne(recentV7UserPartitionId))) {
    return;
  }
  pm.logger.info('userPartitionService~getV7ActiveUserPartitionIfNotYetMigratedToV8: v7 active user context partition which is not yet migrated to v8', recentV7UserPartitionId);

  return recentV7UserPartitionId;
}

const userPartitionService = {
  async init () {
    const pms = PartitionMigrationService.instance();
    await pms.init();
    await pms.runV8PartitionsIntegrity();
    await this._rectifyTheActivePartitionOfApplication();

    /**
     * Migrate signed-out partition from v7 to v8
     * Signed-out partition can be created two ways on v7:
     * 1. When the app has no signed-in account
     * 2. When the user has signed-in but while adding a new account the app got quit
     * (v7 app does not self-correct this state and the user ends up being on signed-out exp.
     * We are making sure that even that partition is migrated as scratchpad :) )
     */
    await pms.migrateSignedOutPartitionAsScratchpad();
    pm.logger.info('userPartitionService~init: Success');
  },

  /**
   * Logs v8 partition system state
   */
  async logV8PartitionSystemState () {
    pm.logger.info('userPartitionService: State of v8 partition system:');

    const printables = [],
      v8usersNamespacePartitions = await partitionService.find({ namespace }),
      v8ScratchpadNamespacePartitions = await partitionService.find(scratchpadContext);

    v8usersNamespacePartitions.forEach((v8Partition) => {
      printables.push({ partitionId: v8Partition.id, namespace: v8Partition.context.namespace, userId: v8Partition.context.userId, teamId: v8Partition.context.teamId, lastUpdated: v8Partition.meta.lastUpdated });
    });
    v8ScratchpadNamespacePartitions.forEach((scratchpadPartition) => {
      printables.push({ partitionId: scratchpadPartition.id, namespace: scratchpadPartition.context.namespace, userId: scratchpadPartition.context.userId, teamId: scratchpadPartition.context.teamId, isDirty: scratchpadPartition.meta.isDirty });
    });

    pm.logger.info('userPartitionService: List of partitions:', printables);
    pm.logger.info('userPartitionService: users global meta:', partitionService.getNamespaceMeta(namespace));
  },

  /**
   * When the app crashes or quit abruptly,
   * the active partition might hold either a transit partition
   * or an invalid partition.
   * We rectify the state of the app by setting it
   * to the recent user context partition or null
   *
   * And also,
   * if there is no user on v8, we pick the partition associated with the v7 last active user
   */
  async _rectifyTheActivePartitionOfApplication () {
    const recentV8UserPartition = await getRecentV8UserPartition() || await getV7ActiveUserPartitionIfNotYetMigratedToV8() || null;

    pm.logger.info('userPartitionService~_rectifyTheActivePartitionOfApplication: Setting the active partition to ', recentV8UserPartition);
    await this.setActivePartition(recentV8UserPartition);
  },

  /**
   * Checks if a partitionId is associated with a user on v7 system
   * @param {String} partitionId the partition id to check
   * @returns {Promise<Boolean>}
   */
  isV7UserContextPartitionId (partitionId) {
    const pms = PartitionMigrationService.instance();
    return pms.isV7UserContextPartition(partitionId);
  },

  /**
   * Checks if a partitionId is associated with a user on v8 system
   * @param {String} partitionId the partition id to check
   * @returns {Promise<Boolean>}
   */
  async isV8UserContextPartitionId (partitionId) {
    if (!partitionId) {
      return false;
    }

    const v8Partition = await partitionService.findOne(partitionId);

    if (_.isEmpty(v8Partition) || _.isEmpty(v8Partition.context)) {
      return false;
    }

    return v8Partition.context.namespace === namespace;
  },

  /**
   * Gets the active partition used currently.
   * This includes the scratchpad partition as well.
   * @returns {Promise<String | undefined>} Returns partition id. undefined, if there are no user partitions.
   */
  async getActivePartition () {
    const namespaceMeta = await partitionService.getNamespaceMeta(namespace);

    return namespaceMeta && namespaceMeta.activePartition;
  },

  /**
   * Saves the current partition in use, only if partition is associated with a user context
   * @param {String} partitionId The partition id to be saved
   * @returns {Promise<void>} Does not return anything
   */
  async setActivePartition (partitionId) {
    const namespaceMeta = await partitionService.getNamespaceMeta(namespace) || {};

    namespaceMeta.activePartition = partitionId;
    await partitionService.updateNamespaceMeta(namespace, namespaceMeta);
  },

  /**
   * Finds the partition id associated with the provided user information in v7 and v8.
   * Returns the recently used partition, if there are multiple.
   * @param {Object} userData The object containing the user information including userId
   * @returns {Promise<String | undefined>} The partition id associated, if available. undefined, otherwise.
   */
  async getPartitionForUser (userData) {
    // Bail out, if user id and team id are not available
    if (_.isEmpty(userData) || _.isEmpty(userData.id)) {
      return;
    }

    const context = {
        namespace,
        userId:
        userData.id
      },
      partitions = await partitionService.find(context),
      partitionsOfUser = [];

    _.forEach(partitions, (partition) => {
      partition.context && partition.context.userId && partitionsOfUser.push({
        partitionId: partition.id,
        lastUpdated: partition.meta && partition.meta.lastUpdated
      });
    });

    /**
     * Migration: Check if the user context is present in v7
     * The migration path to v8 will be hit, on switching user context
     */

    const v7PartitionId = await shellController.users.getPartitionForUser(userData.id);

    // If the partition is already migrated, it can be found in v8
    if (v7PartitionId && !partitionService.findOne(v7PartitionId)) {
      const partitionFromV7 = _.find(await shellController.getUsers(), { partitionId: v7PartitionId });

      if (partitionFromV7) {
        partitionsOfUser.push(partitionFromV7);
      }
    }

    // Pick the partition id of recently accessed partition of user
    const recentPartition = _.maxBy(partitionsOfUser, (partition) => { return partition.lastUpdated; }),
      recentPartitionId = recentPartition && recentPartition.partitionId,
      partitionToBeUpdated = await partitionService.findOne(recentPartitionId);

    // if we found found the partition in v8, we need to update the lastUpdated timestamp
    if (_.isEmpty(partitionToBeUpdated)) {
      return recentPartitionId;
    }

    // Update the access time of the partition
    partitionToBeUpdated.meta.lastUpdated = new Date();
    await partitionService.updateOne(recentPartitionId, partitionToBeUpdated.context, partitionToBeUpdated.meta);

    return recentPartitionId;
  },

  /**
   * Finds the partition id associated with the provided user information.
   * @param {Object} userData The object containing the user information including userId
   * @returns {Promise<{ partitionId: string, isV8Partition: boolean } | undefined>} The partition id associated, if available. undefined, otherwise.
   */
  async getPartitionForUserContext (userData) {
    // Bail out, if user id and team id are not available
    if (_.isEmpty(userData) || _.isEmpty(userData.id) || _.isEmpty(userData.teamId)) {
      return;
    }

    const partitionDetails = {
        isV8Partition: true,
        partitionId: null
      },
      context = {
        namespace,
        userId: userData.id,
        teamId: userData.teamId,
        region: userData?.region
      },
      partitions = await partitionService.find(context);

    if (_.isEmpty(partitions)) {
      // Check if the partition is available in v7
      const v7PartitionId = await shellController.users.getPartitionForUser(userData.id);

      if (!v7PartitionId) {
        return;
      }

      // If the partition is migrated, it can be found in v8
      // this means that the same partition exists on v8 but with different teamId
      if (await partitionService.findOne(v7PartitionId)) {
        return;
      }

      partitionDetails.isV8Partition = false;
      partitionDetails.partitionId = v7PartitionId;

      return partitionDetails;
    }

    // Update the access time of the partition
    partitions[0].meta.lastUpdated = new Date();
    await partitionService.updateOne(partitions[0].id, partitions[0].context, partitions[0].meta);

    // There will be only one partition associated with <user, team> tuple
    partitionDetails.partitionId = partitions[0].id;


    return partitionDetails;
  },

  /**
   * Associate a partition with the provided user data.
   * @param {String} partitionId The partition id
   * @param {Object} userData The Object containing userId and teamId
   * @returns {Promise<void>}
   */
  async associatePartitionToUserData (partitionId, userData) {
    if (!partitionId) {
      return;
    }

    // Bail out, if user id and team id are not available
    if (!isString(userData?.id) || !isString(userData?.teamId) || userData?.id === '0') {
      return;
    }

    const context = {
        namespace,
        userId: userData.id,
        teamId: userData.teamId,
        region: userData?.region
      },
      meta = {
        lastUpdated: new Date(),
        name: userData.name,
        email: userData.email,
        username: userData.username,
        profile_pic_url: userData.profile_pic_url,
        auth: userData.auth,

        // Used by Web Platform,
        // We are saving the JSON string for two reasons:
        // 1. partitionService will not save and return nested objects such as userData.auth
        // 2. we retain the same structure as being used in Monolith, so no data transformation is needed
        //    and we also get new fields which might be added to the object in future (such as `locale`)
        raw: JSON.stringify(userData),
      };

    pm.logger.info('userPartitionService~associateTransitPartition: ', { partitionId, context });
    await partitionService.makeRawPartition(partitionId, context, meta);

    // Set multi-login token in the meta.
    await this.setMultiLoginToken(userData?.region, userData?.auth?.multi_login_token);

    this.logV8PartitionSystemState();
  },

  /**
   * Creates a partition for the provided user data.
   * @param {Object} userData The Object containing userId and teamId
   * @returns {Promise<String>} Promise resolving to the partition id.
   */
  async associateTransitPartition (userData) {
    const partitionId = await this.getNewPartitionId();

    await this.associatePartitionToUserData(partitionId, userData);
    return partitionId;
  },

  /** Creates a transit partition which will be associated with a user context on login
   * @returns {Promise<String>} Promise resolving to a partition id
  */
  async getNewPartitionId () {
    const context = {
      namespace,
      userId: 0,
      teamId: 0
    };

    pm.logger.info('userPartitionService~getNewPartitionId: creating a partition with userId and teamId as 0');
    const partition = await partitionService.create(context, { lastUpdated: new Date() });
    return partition.id;
  },

  /**
   * Gets the list of logged in user context partitions
   * @returns {Promise<Object[]>} Array of logged in user context partitions
   */
  async getAllUserContextPartitions () {
    const userContextPartitions = [];

    return userContextPartitions.concat(await getAllV8UserContextPartitions(), await getAllV7UserContextPartitions());
  },

  /**
   * @returns {Promise<Object[]>} Array of distinct user accounts
   */
  async getAllUsers () {
    let userIdMap = {},
      users = [],
      allContextPartitions = await this.getAllUserContextPartitions();

    allContextPartitions.forEach((partition) => {
      if (!userIdMap[partition.id]) {
        userIdMap[partition.id] = partition;

        users.push({
          id: partition.id,
          name: partition.name,
          email: partition.email,
          username: partition.username,
          profile_pic_url: partition.profile_pic_url,
          region: partition.region
        });
      }
    });

    return users;
  },

  /**
   * Gets the least recently used partition across v7 and v8
   * @returns {Promise<String|undefined>} Returns the partition id by comparing the partition's last accessed timestamp
   */
  async getRecentPartition () {
    const partitions = await this.getAllUserContextPartitions();

    // Bail out, if there is nothing
    if (_.isEmpty(partitions)) {
      return;
    }

    // Pick the partition id of recently accessed partition of user
    const recentPartition = _.maxBy(partitions, (partition) => { return partition.lastUpdated; }),
      recentPartitionId = recentPartition && recentPartition.partitionId;

    return recentPartitionId;
  },

  /**
   * Cleans All the partitions associated with the provided user id.
   * Also cleans the cookie partitions associated, which are used by runtime.
   * @param {String} userId The user id whose associated partitions have to be cleaned.
   * @returns {Promise<void>} Returns a promise, which resolve after trying to clean all the partitions
   */
  async cleanPartitionsOfUser (userId) {
    // Bail out, if no user id is provided
    if (_.isEmpty(userId)) {
      // Nothing to do
      return;
    }

    const context = {
        namespace,
        userId
      },
      partitions = await partitionService.find(context);

    // Bail out, if there is nothing to clean
    if (_.isEmpty(partitions)) {
      return;
    }

    const cleanPromises = [];

    _.forEach(partitions, (partition) => {
      cleanPromises.push(partitionService.cleanOne(partition.id));
      cleanPromises.push(cleanCookiePartitionAssociated(partition.id));
    });

    return Promise.allSettled(cleanPromises)
      .then(() => {
        return;
      });
  },

  /**
   * Get user and team ID details for active partition
   *
   * @returns {Promise<{
   *    userId: string;
   *    teamId: string;
   *    region: 'eu' | 'us'
   * }>} User details from active partition or undefined if partition / context not found
   */
  async getUserContextForActivePartition () {
    const activePartitionId = await this.getActivePartition(),
      activePartition = await partitionService.findOne(activePartitionId);

    // Bail out, if active partition details doesn't exist
    if (!activePartition || !activePartition.context) {
      return;
    }

    const { userId, teamId, region } = activePartition.context ?? {};
    return { userId, teamId, region };
  },

  /**
   * Stores the multi login token in the metadata for a specific region.
   *
   * @param {string} region - The region for which the multi login token will be stored.
   * @param {string} multiLoginToken - The multi login token to be stored.
   */
  async setMultiLoginToken (region, multiLoginToken) {
    if (!multiLoginToken || !region) {
      return;
    }

    const regionsMetaData = await partitionService.getNamespaceMeta(regionsMetaNamespace) || {};

    _.set(regionsMetaData, `${region}.multiLoginToken`, multiLoginToken);
    await partitionService.updateNamespaceMeta(regionsMetaNamespace, regionsMetaData);
  },

  /**
   * Retrieves the multi login token associated with the specified region.
   *
   * @param {string} region - The region for which to retrieve the multi login token.
   * @returns {Promise<string>} - The multi login token associated with the region.
   * @throws {Error} - If an error occurs while retrieving the multi login token.
   */
  async getMultiLoginToken (region) {
    if (!region) {
      return;
    }

    const namespaceMeta = await partitionService.getNamespaceMeta(regionsMetaNamespace) || {};

    return _.get(namespaceMeta, `${region}.multiLoginToken`);
  }
};

module.exports = userPartitionService;

const _ = require('lodash'),
  dbService = require('./dbService'),
  DB_KEY = 'users';

var users = {

  /**
   * Initialize function which loads the users information from localStorage.
   */
  async init () {
    await dbService.init();
    this.modelEventBus = pm.eventBus.channel('model-events');
  },

  /**
   * Getter function for the value property.
   * @return {Object} the localStorage value
   */
  getValue () {
    return dbService.getData(DB_KEY);
  },

  /**
   * Setter function for the value property.
   * @param {Object} obj The object to be set to the value property.
   */
  async setValue (obj) {
    // Update the localStorage on the changes made.
    await dbService.setData(DB_KEY, obj);
  },

  /**
   * @param {String} id the user id to which the partition needs to be associated
   * @param {String} partitionId the partition id which needs to be associated with the user
   */
  async associatePartitionToUser (id, partitionId) {
    let idStr = _.toString(id);

    // Bail out if the id or partitionId is not available.
    if (!isUserLoggedIn(idStr) || _.isEmpty(partitionId)) {
      return;
    }

    // Get the users available.
    let usersObj = await this.getValue();

    // Associate the partitionId by adding partitionId property to user object.
    if (!_.isEmpty(usersObj[idStr])) {
      _.assign(usersObj[idStr], { partitionId });
    }

    // updates the value
    await this.setValue(usersObj);

    this.modelEventBus.publish(createEvent('updated', 'users', usersObj, null, { updatedKeys: ['partitionId'] }));
  },

  /**
   * It is used to get the partitionId associated with the user
   * @param {String} id the user_id for which the partition needs to be provided.
   * @return {Promise<String | undefined>} the uuid of the partition associated with the user, if no partition is provided it returns undefined.
   */
  async getPartitionForUser (id) {
    let value = await this.getValue();
    return _.get(value, [_.toString(id), 'partitionId']);
  },

  /**
   * get the recently added user sorted using the lastUpdated time
   * @return {Promise<String>} user_id of the user whom needs to be switched to.
   */
  async getRecentUser () {
    let usersObj = await this.getValue();
    return _.get(_.minBy(_.values(usersObj), (user) => { return user.lastUpdated; }), 'id');
  },

  /**
   * adds the user to the data set and also includes the lastUpdated time for it.
   * @param {Object} data the user data to be added with the hash
   */

  async addUser (data) {
    // Move user_id to id if the id is not available.
    // Add last updated time key also.
    _.assign(data, !_.has(data, 'id') ? { id: data.user_id } : {}, { lastUpdated: new Date() });

    // Get the users available.
    let usersObj = await this.getValue();

    // adds the user from the users object.
    usersObj[data.id] = data;

    // updates the value
    await this.setValue(usersObj);

    this.modelEventBus.publish(createEvent('created', 'users', data));
  },

  /**
   * Which ideally removes the user from the users list.
   * @param {String} id the user id to which the partition needs to be dis-associated
   */
  async removeUser (id) {
    let idStr = _.toString(id);

    // Bail out if the id is not available.
    if (!isUserLoggedIn(idStr)) {
      return;
    }

    // Get the users available.
    let usersObj = await this.getValue();

    // removes the user from the users object.
    usersObj = _.omit(usersObj, [idStr]);

    // updates the value
    await this.setValue(usersObj);

    this.modelEventBus.publish(createEvent('deleted', 'users', { id: idStr }));
  },

  /**
   * Which ideally removes the list of users from the users list.
   * @param {array} usersList the user id list which all to be removed.
   */
  async removeUsers (usersList) {
    // Bail out if the id is not available.
    if (_.isEmpty(usersList) || !_.isArray(usersList)) {
      return;
    }

    // Get the users available.
    let usersObj = await this.getValue();

    // removes the user from the users object.
    usersObj = _.omit(usersObj, usersList);

    // updates the value
    await this.setValue(usersObj);
  }
};

/**
 * @param {*} id
 * @returns
 */
function isUserLoggedIn (id) {
  return !(_.isEmpty(id) || id === '0' || id === 0);
}

function createEvent (name, namespace, data, events, meta) {
  // If the model or the actions are empty then it needs to error out.
  if (_.isEmpty(name) || _.isEmpty(namespace)) {
    throw new Error('ModelEvent: Cannot create event without name or namespace');
  }

  let event = { name, namespace };

  data && (event.data = data);
  events && (event.events = events);
  meta && (event.meta = meta);

  // returns the instruction POJO.
  return event;
}

module.exports = users;
const app = require('electron').app,
  { WebSocketServer } = require('ws'),
  appSettings = require('./appSettings').appSettings,
  windowManager = require('./windowManager').windowManager,
  { encryptAES, decryptAES } = require('@raisinten/aes-crypto-js'),
  appVersion = app.getVersion(),
  uuid = require('uuid'),
  { getConfig } = require('./AppConfigService');

let server;

// default encryption key for Postman
const POSTMAN_DEFAULT_KEY = 'postman_default_key',

// default payload used for key validation
DEFAULT_KEY_VALIDATION_PAYLOAD = {
  type: 'KEY_VALIDATION_STRING',
  message: 'Default key validation string'
};

// key (passphrase to be used for encryption/decryption)
let encryptionKey = POSTMAN_DEFAULT_KEY,

  // number of open renderer windows
  currentOpenWindows = 1;

/**
 * @description it fetches the encryption key stored in appSettings and sets it in the global variable i.e. encryptionKey
 * if not found, sets the POSTMAN_DEFAULT_KEY as encryptionKey
 */
function initializeEncryptionKey () {
  appSettings.get('encryptionKeyForInterceptor', (err, encryptionKeyForInterceptor) => {
    if (err) {
      pm.logger.info('INTERCEPTOR CONNECTIVITY: Error getting encryption key', err);
    }
    else {
      if (!encryptionKeyForInterceptor) {
        encryptionKey = POSTMAN_DEFAULT_KEY;
      }
      else {
        encryptionKey = encryptionKeyForInterceptor;
      }
    }
  });
}

/**
 * @param {string} data encrypted string
 * @param {string=} key the key to use for encryption
 * @description used to decrypt the string using encryption key stored as global variable
 */
function decrypt (data, key) {
  try {
    return decryptAES(data, key ? key : encryptionKey);
  }
  catch (err) {
    pm.logger.info(err);
    return {
      type: 'KEY_MISMATCH',
      data: {
        message: 'InterceptorBridge : keys are not same at interceptor and app'
      }
    };
  }
}

/**
 * @param {object} data payload to be encrypted
 * @param {string=} key the key to use for encryption
 * @description used to encrypt the payload using encryption key stored as global key
 */
function encrypt (data, key) {
  try {
    return encryptAES(data, key ? key : encryptionKey);
  }
  catch (err) {
    pm.logger.info(err);
    return {
      type: 'INVALID_KEY',
      data: {
        message: 'unable to encrypt, key might be invalid'
      }
    };
  }
}

/**
 * @param {string} data encrypted payload
 * @description used to check whether the same key exists at App and Interceptor or not.
 * It validates the key by using encryption/decryption of same default payload at Interceptor and App
 * Interceptor encrypts a default payload using it's own key and sends it to app, app tries to decrypt it
 * if both are same, validation true otherwise false.
 */
function validateKey (data) {
  try {
    let decryptedData = JSON.parse(decrypt(data));
    return {
      type: 'KEY_VALIDATION_RESULT',
      data: {
        validation: (decryptedData.type === DEFAULT_KEY_VALIDATION_PAYLOAD.type
        && decryptedData.message === DEFAULT_KEY_VALIDATION_PAYLOAD.message
        )
      }
    };
  }
  catch (err) {
    return {
      type: 'KEY_VALIDATION_RESULT',
      data: {
        validation: false
      }
    };
  }
}

// encryption key is initialized once the main process of app loads
initializeEncryptionKey();

exports.webSocketServer = {
  connections: {},

  sendMessageToInterceptor: function (msg, conn) {
    const releaseChannel = getConfig('__WP_RELEASE_CHANNEL__').toLowerCase();

    msg.appVersion = appVersion;
    msg.releaseChannel = releaseChannel;
    conn?.send(JSON.stringify(msg));
  },

  handleAppCommand: function (data, connId) {
    let msg;
    try {
      let decryptedText = decrypt(data.payload);
      if (decryptedText.type === 'KEY_MISMATCH') {
        this.sendMessageToInterceptor(decryptedText, this.connections[connId]);
      }
      else {
        try {
          msg = JSON.parse(decryptedText);
        }
        catch (err) {
          msg = {
            type: 'KEY_MISMATCH',
            data: {
              message: 'InterceptorBridge : keys are not same at interceptor and app'
            }
          };
        }
      }
    }
    catch (err) {
      msg = {
        type: 'KEY_MISMATCH',
        data: {
          message: 'InterceptorBridge : keys are not same at interceptor and app'
        }
      };
    }
    this.sendInternalMessage({
      'event': 'interceptorResponse',
      'object': msg
    }, connId);
  },

  initialize: function ({ onConnect, onDisconnect, sendInternalMessage, portIndex, port }) {
    if (!portIndex) {
      portIndex = 0;
    }
    this.onDisconnect = onDisconnect;
    this.sendInternalMessage = sendInternalMessage;
      try {
        port = port + portIndex;
        pm.logger.info(`INTERCEPTOR CONNECTIVITY: Attempting to start websocket server on port ${port}`);
        server = new WebSocketServer({ port });
      }
      catch (e) {
        pm.logger.info('INTERCEPTOR CONNECTIVITY: Got error while initializing web socket', e);
        return;
      }

    let channel = pm.eventBus.channel('requester-window-events');
    channel.subscribe(this.requesterWindowHandler.bind(this));

    server.on('connection', (conn) => {

      conn.on('message', (data) => {
        try {
          data = JSON.parse(data.toString('utf8'));

          if (data.type === 'HELO') {
            const decryptedPayload = decrypt(data.payload, POSTMAN_DEFAULT_KEY);

            if (!decryptedPayload === '"POSTMAN_INTERCEPTOR"') {
              return;
            }
            this.sendMessageToInterceptor({
              type: 'HELO_ACK'
            }, conn);

            conn.$interceptorID = uuid();
            this.connections[conn.$interceptorID] = conn;
            onConnect(conn.$interceptorID);

            conn.on('close', () => {
              this.handleConnectionClose(conn);
            });
            conn.on('error', (err) => {
              this.handleConnectionClose(conn);
            });

            let msg = {
              type: 'UPDATE_CONNECTION_STATUS',
              data: {
                connectedToPostman: true,
                source: 'websocket'
              }
            },
              encryptedMessage = {
                type: 'UPDATE_CONNECTION_STATUS',
                data: encrypt(JSON.stringify({
                  connectedToPostman: true,
                  source: 'websocket'
                }), POSTMAN_DEFAULT_KEY)
              };

            this.sendMessageToInterceptor(encryptedMessage, conn);

            this.sendInternalMessage({
              'event': 'updateInterceptorBridgeConnectionStatus',
              'object': msg
            },
              conn.$interceptorID);
          }
          else if (data.type === 'APP_COMMAND') {
            this.handleAppCommand(data, conn.$interceptorID);
          }
          else if (data.type === 'REMOVE_ENCRYPTION') {
            this.removeCustomEncryptionKey(conn.$interceptorID);
          }
          else if (data.type === 'VALIDATE_KEY') {
            let keyValidationResult = validateKey(data.data);
            this.sendMessageToInterceptor(keyValidationResult, conn);
            this.sendInternalMessage({
              'event': 'interceptorResponse',
              'object': keyValidationResult
            },
              conn.$interceptorID);
          }
          else {
            this.sendInternalMessage({
              'event': 'interceptorResponse',
              'object': data
            },
              conn.$interceptorID);
          }
        } catch (e) {
          pm.logger.info('INTERCEPTOR CONNECTIVITY: Failed to parse json', e);
        }
      });
    });

    server.on('error', (e) => {
      pm.logger.info('INTERCEPTOR CONNECTIVITY: Got error while initializing web socket', e);
      server && server.close();
      if (portIndex < 5) {
        this.initialize({ onConnect, onDisconnect, sendInternalMessage, portIndex: portIndex + 1, port });
      }
    });
  },

  sendEncryptionKeyToRenderer: function (connId) {
    let secretKey = {
      key: encryptionKey
    };
    this.sendInternalMessage({
      'event': 'fetchEncryptionKey',
      'object': secretKey
    }, connId);
  },

  setEncryptionKeyForInterceptor: function (key, connId) {
    // reinitializes the encryption key as new key will be stored in appSettings
    encryptionKey = key;
    appSettings.set('encryptionKeyForInterceptor', key, (err) => {
      pm.logger.info('INTERCEPTOR CONNECTIVITY: Error persisting encryption key', err);
    });

    // sending the encryption key to renderer to update the UI
    this.sendCustomEncryptionKeyToRenderer(connId);
  },

  /**
  * Sends the custom encryption key to the renderer
  * Note: The custom key is shown in the UI
  */
  sendCustomEncryptionKeyToRenderer: function (connId) {
    this.sendInternalMessage({
      'event': 'fetchCustomEncryptionKey',
      'object': {
        key: encryptionKey
      }
    }, connId);
  },

  sendSyncDomainListToRenderer: function (connId) {
    this.sendInternalMessage({
      'event': 'getSyncDomainListForInterceptor'
    }, connId);
  },

  startKeyValidationFlow: function (connId) {
    // encrypts default validation payload and sends it to interceptor
    // to check whether the same key exists at interceptor or not
    let encryptedData = encrypt(JSON.stringify(DEFAULT_KEY_VALIDATION_PAYLOAD));

    this.sendMessageToInterceptor({
      type: 'VALIDATE_KEY',
      data: encryptedData
    }, this.connections[connId]);
  },

  /**
   * Handle interceptor disconnection
   */
  handleConnectionClose: function (conn) {
    delete this.connections[conn.$interceptorID];
    conn.close();
    this.onDisconnect(conn.$interceptorID);
  },

  sendEncryptedMessageToInterceptor: function (message, connId) {
    const releaseChannel = getConfig('__WP_RELEASE_CHANNEL__').toLowerCase();

    message.appVersion = appVersion;
    message.releaseChannel = releaseChannel;

    this.sendMessageToInterceptor({
      type: 'INTERCEPTOR_COMMAND',
      payload: encrypt(JSON.stringify(message), encryptionKey)
    }, this.connections[connId]);
  },

  /**
   * Handler for the events published by `windowManager`,
   * fired when a renderer window is opened or closed.
   *
   * Does following:
   * 1. Sends connected status as false when there's no renderer window open
   * 2. Sends connection status when number of open windows goes from zero to one
   *
   * @param {Object} event contains type (can be `window-opened` or `window-closed`)
   */
  requesterWindowHandler: function (event) {
    if (event.type === 'window-opened') {
      if (currentOpenWindows === 0 && windowManager.openWindowIds.length >= 1) {
        // number of open windows going from zero to one
        // updating the connection status
        this.sendMessageToInterceptor({
          type: 'UPDATE_CONNECTION_STATUS',
          data: {
            connectedToPostman: (this.connections.size > 0)
          }
        });
      }
    }
    else if (event.type === 'window-closed') {
      if (currentOpenWindows >= 1 && windowManager.openWindowIds.length === 0) {
        // last window is closed, no open windows any more
        // sending connection as false
        this.sendMessageToInterceptor({
          type: 'UPDATE_CONNECTION_STATUS',
          data: {
            connectedToPostman: false
          }
        });
      }
    }
    currentOpenWindows = windowManager.openWindowIds.length;
  },

  /**
   * Removes the custom encryption key from the interceptor.
   */
  removeCustomEncryptionKeyFromInterceptor: function (connId) {
    encryptionKey = POSTMAN_DEFAULT_KEY;
    appSettings.set('encryptionKeyForInterceptor', '', (err) => {
      if (err) {
        pm.logger.info('INTERCEPTOR CONNECTIVITY: Error removing encryption key', err);
      }
    });
    this.sendMessageToInterceptor({
      type: 'REMOVE_ENCRYPTION'
    }, this.connections[connId]);
  },

  /**
   * Removes the custom encryption key by resetting it to the default key.
   * @function removeCustomEncryptionKey
   * @returns {void}
   */
  removeCustomEncryptionKey: function (connId) {
    encryptionKey = POSTMAN_DEFAULT_KEY;
    this.startKeyValidationFlow(connId);

    appSettings.set('encryptionKeyForInterceptor', '', (err) => {
      if (err) {
        pm.logger.info('INTERCEPTOR CONNECTIVITY: Error removing encryption key', err);
      }
    });


    this.sendInternalMessage({
      'event': 'interceptorResponse',
      'object': {
        type: 'REMOVE_ENCRYPTION'
      }
    },
      connId);
  }
};

const ipcMain = pm.sdk.IPC;
const { getEventName, getEventNamespace } = require('../common/model-event');

/**
 * WebVersionService takes care of ensuring that the correct web app version
 * is shown in the Postman App windows at all times.
 *
 * TLDR; When the first window is spawned, the Postman applications main process does not yet have
 * a webVersion, as the web version has not been loaded yet (obvious, right?).
 *
 * As a result, the URL used for the first window will not include the webVersion. Artemis will
 * serve the most recent version available for the current desktop version.
 *
 * Once the webview is spawned, the renderer will trigger an `booted` event, containing
 * the current version of the web application.
 *
 * The WebVersionService will store this version, which will then be used for the URLs of subsequent
 * windows. This ensures that all windows use the same version, providing a consistent experience for our users.
 *
 */
class WebVersionService {
  version = '';

  /**
   * Initialize the WebVersionService. This initializes the
   * version and sets up listeners to handle updation of the
   * version
   *
   * @param {String} version
   */
  initialize (version) {
    try {
      this.version = version;

      /**
       * This event is trigger by the renderer during the clear cache and hard reload phase.
       */
      ipcMain.subscribe('resetWebAppVersion', () => {
        this.resetVersion();
      });

      this.setupListeners();

      pm.logger.info(`WebVersionService: Initialized successfully with version: ${version}`);
    }
    catch (e) {
      pm.logger.error('WebVersionService: Initialization failed ', e);
    }
  }


  /**
   * Set up listeners to manage the cached web version
   */
  setupListeners () {
    // Setting up listener to listen for add, switch, & logout user account events. We need to reset the
    // UI version when these events occur to load the latest version
    pm.eventBus.channel('model-events').subscribe((event) => {
      const eventName = getEventName(event);
      const eventNamespace = getEventNamespace(event);

      if ((eventNamespace === 'users' && (eventName === 'add' || eventName === 'switch' || eventName === 'addAndSwitch')) ||
        (eventNamespace === 'user' && eventName === 'logout')) {
        pm.logger.info('WebVersionService: Resetting UI version as user logged out/switched account');
        this.resetVersion();
      }
    });
  }

  resetVersion () {
    this.version = '';
    pm.logger.info('WebVersionService: Resetting web app version');
  }
}

module.exports = new WebVersionService();
// node.js dependencies
const url = require('url');
const os = require('os');
const path = require('path');
const { performance } = require('perf_hooks');

// third-party dependencies
const electron = require('electron');
const _ = require('lodash').noConflict();
const uuidV4 = require('uuid/v4');

// internal dependencies
const menuManager = require('./menuManager').menuManager;
const WindowController = require('../common/controllers/WindowController');
const enterpriseUtils = require('./enterpriseUtil');
const { PERF_MEASURES, PERF_MARKS } = require('../constants/PerformanceAnalyticsConstants');
const {
  DEFAULT_REQUESTER_BOUNDS,
  DEFAULT_CONSOLE_BOUNDS,
  MIN_ALLOWED_WINDOW_HEIGHT,
  MIN_ALLOWED_WINDOW_WIDTH,
  MIN_ALLOWED_REQUESTER_WIDTH,
  MAC_TRAFFIC_LIGHT_POSITION_DEFAULT
} = require('../constants/WindowConstants');
const { getValue } = require('../utils/processArg');
const { AppLaunchPerfService } = require('./AppLaunchPerfService');
const devUrls = require('../common/constants/dev-urls.js');
const getQPString = require('../utils/getQPString');
const getAppUrl = require('../services/AppUrlService');
const { getConfig } = require('./AppConfigService');
const partitionService = require('./partitionService');
const partitionUtils = require('./partitionUtils');
const { handlePartitioning, getActiveUser } = require('./userPartitionManager');
const userPartitionService = require('./userPartitionService');
const scratchPadPartitionService = require('./scratchPadPartitionService');
const {
  clearStatesPerWindow,
  store,
  STORE_KEYS
} = require('../constants/store');
const i18nService = require('./i18n/i18nService');

// constants
const { app, shell, session, nativeImage, nativeTheme } = electron;
const BrowserWindow = electron.BrowserWindow;
const MAX_WINDOW_RESTORE_COUNT = 4;
const ALL_DEV_TOOLS = ['requester', 'console'];
const devtools = getValue('dev-tools') === true ? ALL_DEV_TOOLS : getValue('dev-tools').split(',');
const RELEASE_CHANNEL = getConfig('__WP_RELEASE_CHANNEL__');
const BUILD_SCRATCHPAD = getConfig('__WP_BUILD_SCRATCHPAD__');
const BASE_URL = getConfig('__WP_DESKTOP_UI_UPDATE_URL__');
const {
  HTML_MAP,
  IPC_EVENT_NAMES,
  AUTH_ACTIONS,
  EVENT_BUS_EV_NAMES
} = require('../constants');
const regionService = require('./region.service.js');

// See this discussion on the invisible frame around Windows 10/11 windows:
// https://stackoverflow.com/questions/34139450/getwindowrect-returns-a-size-including-invisible-borders
// This happens because Electron is using the WS_THICKFRAME window style for resizable windows.
// On earlier versions of Windows, thick frames were actually rendered as such, but by default, they're not anymore.
// Probably to avoid breaking legacy apps, APIs that are not DWM-aware still behave as if they were rendered.
// To compensate for this, we simply draw the window outside the screen by the width of that invisible border.
// Electron does not provide the means to query the system for values like that so we hard code the most common value.
// The frame width is 7 on most machines, though it can occasionally be 8 (in scaled multiscreen scenarios, for example).
// Beware: this value is not to be confused with the location reported for maximized windows, which is mostly at x = -8, y = -8.
// Confusingly enough, both of those coordinates can turn out to be -7 because of rounding on scaled screens.
// To tell the scenarios apart, look at the value of y which is going to be either 0 (invisible frame) or at least -7 (maximized).
const WIN_10_11_FRAME_WIDTH = 7;

const TOGGLE_WINDOW_MAXIMIZE_EVENT = 'toggle-maximize',
  OPEN_WINDOWS_APPLICATION_CONTEXT_MENU = 'open-windows-app-menu';

const IDENTITY_URL = getConfig('__WP_IDENTITY_URL__');
const POSTMAN_APP_URL = getConfig('__WP_DESKTOP_UI_UPDATE_URL__');
const APP_BASE_PATH = url.format({ protocol: 'file', pathname: `${app.getAppPath()}/html` });
const FILE_PROTOCOL = 'file:';

let isWindows10or11 = false;
if (isWindows()) {
  const osReleaseMatch = (/(\d{2})\..*/).exec(os.release());

  if (osReleaseMatch) {
    isWindows10or11 = parseInt(osReleaseMatch[1], 10) >= 10;
  }
}

/**
 * Checks if the OS is macOS.
 * @returns {Boolean}
 */
function isDarwin () {
  return process.platform === 'darwin';
}

/**
 * Checks if the OS is Windows.
 * @returns {Boolean}
 */
function isWindows () {
  return process.platform === 'win32';
}

/**
 * Only restore a window if is minimized, otherwise restore() will unmaximize
 * a maximized window, which is not the intended behavior.
 */
function unminimize (window) {
  if (window.isMinimized()) {
    window.restore();
  }
}

/**
 * Get bounds for a BrowserWindow and on Windows 10/11 adjust them to offset
 * the invisible frame it puts around windows.
 *
 * Refs https://github.com/electron/electron/issues/4045
 */
function getBounds (window) {
  const bounds = window.getBounds();

  // Adjust bounds to remove the invisible frame on Windows 10/11
  if (isWindows10or11) {
    bounds.x += WIN_10_11_FRAME_WIDTH;
    bounds.width -= WIN_10_11_FRAME_WIDTH * 2;
    bounds.height -= WIN_10_11_FRAME_WIDTH;
  }

  return bounds;
}

/**
 * On Windows 10/11 adjust them to include the invisible frame it puts around
 * windows, on other platforms this is a no-op.
 *
 * Refs https://github.com/electron/electron/issues/4045
 */
function adjustBounds (bounds) {
  const adjustedBounds = { ...bounds };

  // Adjust bounds to add the invisible frame on Windows 10/11
  if (isWindows10or11) {
    if (bounds.x !== undefined) {
      adjustedBounds.x = bounds.x - WIN_10_11_FRAME_WIDTH;
    }

    adjustedBounds.width = bounds.width + WIN_10_11_FRAME_WIDTH * 2;
    adjustedBounds.height = bounds.height + WIN_10_11_FRAME_WIDTH;
  }

  return adjustedBounds;
}

// #endregion

// #region Handlers
/**
 * Handler for Dom Ready, once Window -> WebContents is ready.
 *
 * @type {(param0: {
 *  window: any;
 *  launchParams: import('./windowManager').BrowserWindowLaunchParams;
 * }) => void}
 */
const handleDomReady = ({
  window,
  launchParams = {}
}) => {
  if (launchParams.devtools) {
    // Open devtools on launch.
    windowManager.openDevTools(window);
  }
};

/**
 * Handler for webContent Crashes
 *
 * @param {import('./windowManager').BrowserWindowLaunchParams} launchParams
 */
const handleCrash = (launchParams) => (event) => {
  pm.logger.error(`Render process for ${launchParams.type} webview crashed`, event);
};

// #endregion

const windowManager = {

  // #region Member Properties
  primaryId: '1',
  openWindowIds: [],
  initUrl: null,
  eventBus: null,
  windowState: {},
  isWindowVisibleByDefault: true,
  isFirstRequesterBooted: false,
  hasWebPlatformNavigatedToMonolith: false,

  // #endregion

  initialize () {
    if (process.env.PM_BUILD_ENV !== 'development') {
      const htmlFolderPath = path.resolve(__dirname, '..', 'html'),
        webProxyPath = path.resolve(htmlFolderPath, 'webProxy.html');

      // url.format helps in encoding any not allowed special characters in the path
      // The fix has been added where it was not possible to load the url for case below,
      // if user name contains #, creates # in the path, which is delimiter breaking the url.
      this.webProxyPath = url.format({ protocol: 'file', pathname: webProxyPath });
    }
    else {
      this.webProxyPath = devUrls.WEB_PROXY;
    }

    this.channel = this.eventBus.channel('requester-window-events');


    this.eventBus.channel('app-events').subscribe((event = {}) => {
      if (_.get(event, 'name') === 'booted') {
        let process = event.namespace,
          err = event.data,
          meta = event.meta;

        if (process === 'requester' && meta && meta.isFirstRequester) {
          if (err) {
            return;
          }

          // open requester only if the window is not available, otherwise it will open on all hot-reload of first requester process
          if (!this.isFirstRequesterBooted) {
            pm.logger.info('windowManager: First requester booted successfully.');

            // Set first requester booted
            this.setFirstRequesterBooted();

            // we don't want to restore any windows, if the app is offline or is the no-scratchpad window
            if (meta && (meta.isOfflineView || meta.isNoScratchPadView)) {
              return;
            }

            // Restore the rest of the requester windows
            return this.restoreWindows({
              windowIdsToSkip: [meta.windowId]
            });
          }
        }
      }
    });

    /**
     * Subscribe to requester window events to listen to maximize/minimize toggle
     */
    this.channel.subscribe((windowEvent) => {
      if (!windowEvent || (!windowEvent.windowId && windowEvent.windowId !== 0) ||
        [OPEN_WINDOWS_APPLICATION_CONTEXT_MENU, TOGGLE_WINDOW_MAXIMIZE_EVENT].indexOf(windowEvent.type) === -1) {
        return;
      }

      // Get the window instance
      const focusedWindow = BrowserWindow.fromId(windowEvent.windowId);

      // If window instance is not found then bail out
      if (!focusedWindow) {
        return;
      }

      switch (windowEvent.type) {
        case TOGGLE_WINDOW_MAXIMIZE_EVENT:
          // If the window is full screen then bail out
          if (focusedWindow.isFullScreen()) {
            return;
          }

          if (focusedWindow.isMaximized()) {
            focusedWindow.unmaximize();
          } else {
            focusedWindow.maximize();
          }
          break;
        case OPEN_WINDOWS_APPLICATION_CONTEXT_MENU:
          if (!menuManager || !menuManager.windowsApplicationContextMenu) {
            return;
          }

          menuManager.windowsApplicationContextMenu.popup && menuManager.windowsApplicationContextMenu.popup(focusedWindow);
          break;
      }
    });

    attachRendererIPCHandlers();
  },

  hideAllWindows () {
    for (let i = 0; i < this.openWindowIds.length; i++) {
      let openWindow = BrowserWindow.fromId(parseInt(this.openWindowIds[i]));
      openWindow && openWindow.hide();
    }
  },

  /**
   * Sets default visibility state of window.
   * This effect Requester and Console Windows.
   * @param {Boolean} visible whether to show windows by default.
   */
  setWindowsDefaultVisibilityState (visible) {
    this.isWindowVisibleByDefault = visible;
  },

  isPureWebPlatformMode () {
    // For use when serving from web platform and need to allow operations specific to the requester
    // that are limited by isFirstRequesterBooted like closing, new requester window and new console window
    const isRunningWebPlatform = getConfig('__WP_MODULE_FEDERATION__');

    // The moment the user switches to a monolith route in any window, the control flow goes back to the default state.
    const hasWPNavigatedToMonolithYet = this.hasWebPlatformNavigatedToMonolith;
    return isRunningWebPlatform && !hasWPNavigatedToMonolithYet;
  },

  /**
    * Show all windows.
  */
  showAllWindows () {
    return WindowController
      .getAll({})
      .then((allWindows) => {
        // We get all windows from db and choose the one which are currently opened(they are hidden)
        // We apply the full screen transformation to opened windows
        allWindows.filter((window) => {
          return this.openWindowIds.includes(window.browserWindowId);
        }).forEach((window) => {
          let browserWindow = BrowserWindow.fromId(parseInt(window.browserWindowId));

          if (!browserWindow) {
            return;
          }

          this.setWindowMode({
            isFullScreen: window.visibility && window.visibility.isFullScreen,
            maximized: window.visibility && window.visibility.maximized
          }, browserWindow);

          browserWindow.show();
        });
      })
      .catch((e) => {
        pm.logger.error('WindowManager - Error in showing windows from db', e);

        // show windows even if there was an error,
        // skip setting window mode for now
        for (let i = 0; i < this.openWindowIds.length; i++) {
          let openWindow = BrowserWindow.fromId(parseInt(this.openWindowIds[i]));
          openWindow && openWindow.show();
        }
      });
  },


  sendCustomInternalEvent (action, object) {
    var message = {
      name: 'internalEvent',
      data: {
        event: action,
        object: object
      }
    };
    var bWindow = BrowserWindow.getFocusedWindow();
    if (!bWindow) {
      return;
    }
    bWindow.webContents.send('electronWindowMessage', message);
  },

  sendToFirstWindow (message) {
    var numWindowsLeft = this.openWindowIds.length;
    for (var i = 0; i < numWindowsLeft; i++) {
      var bWindow = BrowserWindow.fromId(parseInt(this.openWindowIds[i]));
      if (!bWindow) {
        continue;
      }
      bWindow.webContents.send('electronWindowMessage', message);
      return;
    }
  },

  sendToAllWindows (message) {
    // send event to all other windows
    var numWindowsLeft = 0;
    let openWindowIds = _.compact(this.openWindowIds);
    if (openWindowIds && openWindowIds.length) {
      numWindowsLeft = openWindowIds.length;
    }

    for (var i = 0; i < numWindowsLeft; i++) {
      var bWindow = BrowserWindow.fromId(parseInt(openWindowIds[i]));
      if (!bWindow) {
        continue;
      }
      bWindow.webContents.send('electronWindowMessage', message);
    }
  },

  sendInternalMessage (message) {
    this.sendToAllWindows({
      name: 'internalEvent',
      data: message
    });
  },

  hasExtension (extensionName) {
    return session.defaultSession.getAllExtensions().hasOwnProperty(extensionName);
  },

  getDefaultWindowState (windowName) {
    if (windowName === 'console') {
      return {
        center: true,
        height: 450,
        width: 950
      };
    }
    else {
      return {
        center: true,
        height: 800,
        width: 1280
      };
    }
  },


  newRequesterOpened () {
    if (this.listenForRequesterWindow && this.initUrl && this.initWindowId) {

      let channel = this.eventBus.channel('protocol-handler');
      channel.publish({
        url: this.initUrl,
        windowId: this.initWindowId
      });

      this.initUrl = this.initWindowId = this.listenForRequesterWindow = null;
    }

    this.channel.publish({
      type: 'window-opened'
    });
  },

  quitApp () {
    app.quit();
  },

  /**
   * @typedef {{
   *  title: string;
   *  backgroundColor: string;
   *  icon?: Electron.NativeImage;
   *  webPreferences: {
   *    webSecurity?: boolean;
   *    backgroundThrottling?: boolean;
   *    partition: string;
   *    nodeIntegration?: boolean;
   *    webviewTag?: boolean;
   *    contextIsolation?: boolean;
   *    preload?: string;
   *  };
   * }} BrowserWindowOptions
   *
   * @param {string} title
   * @returns {BrowserWindowOptions}
   */
  getWindowPref (title, partition) {
    if (enterpriseUtils.isEnterpriseApplication()) {
      title = _.startCase(title);
    }

    const themeToPaint = nativeTheme && nativeTheme.shouldUseDarkColors ? 'dark' : 'light';
    const backgroundColor = themeToPaint === 'dark' ? '#212121' : '#FFFFFF';

    return {
      title: title,
      backgroundColor: backgroundColor,
      webPreferences: {
        webSecurity: false,
        backgroundThrottling: false,
        partition: partitionUtils.getPersistedPartitionString(partition),
        nodeIntegration: true,
        webviewTag: true,
        contextIsolation: false,
        preload: path.resolve(app.getAppPath(), 'preload/desktop/index.js')
      },
      icon: nativeImage.createFromPath(path.resolve(app.getAppPath(), 'assets/icon.png'))
    };
  },

  setWindowMode (windowState, activeWindow) {
    if (windowState.isFullScreen) { activeWindow.setFullScreen(true); }
    else if (windowState.maximized) {
      activeWindow.maximize();
    }
  },

  sanitizeCoordinates (bounds) {
    if (!_.isInteger(bounds.x) || !_.isInteger(bounds.y)) {
      return { x: null, y: null };
    }

    let screen = electron.screen,
      nearestDisplay = screen.getDisplayNearestPoint({ x: bounds.x, y: bounds.y });

    // TODO - Adjust this logic to allow negative x,y coordinates as long as enough
    // of the window is visible, to prevent an x value of -1 from causing the window
    // to go back to 0, 0 unexpectedly. This logic also allows a window that only has
    // a 1 pixel edge visible on the display to be considered 'visible', which is
    // likely to cause user complaints because they can't actually see the window.
    // You may want to try emulating Chromium's logic when fixing this:
    // https://source.chromium.org/chromium/chromium/src/+/main:chrome/browser/ui/window_sizer/window_sizer.cc
    let isWindowVisible = (
      (bounds.x >= nearestDisplay.bounds.x && bounds.x < nearestDisplay.bounds.x + nearestDisplay.bounds.width) &&
      (bounds.y >= nearestDisplay.bounds.y && bounds.y < nearestDisplay.bounds.y + nearestDisplay.bounds.height)
    );

    if (!isWindowVisible) {
      return {
        // TODO - This should really center the window, with default size, rather than going to the top-left corner.
        // APPSDK-34 - return nearest display x,y instead of null, so that in multi monitor it returns the x,y of the
        // nearest display rather than null which results in the app opening in the default monitor ignoring where it
        // was last closed.
        x: nearestDisplay.bounds.x,
        y: nearestDisplay.bounds.y
      };
    }

    return bounds;
  },

  getOpenWindows (type) {
    return WindowController
      .getAll({ type })
      .then((allTypeWindows) => {
        let allTypeWindowIds = _.map(allTypeWindows, (window) => window.browserWindowId),
          openWindowIds = this.openWindowIds,
          allOpenTypeWindows = _.intersection(openWindowIds, allTypeWindowIds);
        return allOpenTypeWindows;
      });
  },

  createOrRestoreRequesterWindow () {
    return this
      .getOpenWindows('requester')
      .then((allOpenRequesterWindows) => {
        if (allOpenRequesterWindows.length === 0) {
          // If no requester windows are open, there will be only one requester window in the Window table
          // Restore that.
          return WindowController
            .getAll({ type: 'requester' })
            .then((allRequesterWindows) => {
              if (_.size(allRequesterWindows) === 1) {
                return this.newRequesterWindow(allRequesterWindows[0]);
              }

              // Worst case. if there are more than one requester window in the DB, create a window normally
              return this.newRequesterWindow();
            });
        }
        else {
          // Create a new window normally
          return this.newRequesterWindow();
        }
      });
  },

  /**
   * This method helps to reload last active user session, for the provided BrowserWindow
   *
   * @param {Electron.BrowserWindow} browserWindow
   */
  async reloadBrowserWindow (browserWindow) {
    const partitionToLoad = await userPartitionService.getActivePartition(),
      isLoggedOut = (await userPartitionService.getAllUsers()).length === 0,
      rootPageType = isLoggedOut ? 'scratchpad' : 'requester';

    let defaultWindowOptions = this.getWindowPref(app.getName(), partitionToLoad);
    const launchParams = browserWindow.launchParams;

    const pageUrl = await getAbsolutePageURL(
      rootPageType, // This should change to scratchpad, when user is logged out
      launchParams,
      defaultWindowOptions.webPreferences
    );

    pm.logger.info(`Main~reloadBrowserWindow: Loading page: ${pageUrl}`);
    browserWindow.loadURL(pageUrl);
  },

  async newRequesterWindow (window = {}, params = {}) {
    const [partitionToLoad, userContext] = await Promise.all([
      handlePartitioning(params.authResponse),
      userPartitionService.getUserContextForActivePartition()
    ]);

    let region = userContext?.region;
    if (params.authResponse?.authData?.userData?.region) {
      region = params.authResponse.authData.userData.region;
    }

    pm.logger.info(`Main:windowManager~newRequesterWindow: Fetch and update runtime config: ${region}`);
    await regionService.fetchRegionConfigAndOverride(region);

    const isLoggedOut = (await userPartitionService.getAllUsers()).length === 0,
      rootPageType = isLoggedOut ? 'scratchpad' : 'requester';

    let windowName = 'requester',
      bounds = {
        x: _.get(window, 'position.x'),
        y: _.get(window, 'position.y'),
        width: _.get(window, 'size.width'),
        height: _.get(window, 'size.height')
      },
      sanitizedBounds = this.sanitizeBounds(bounds, windowName);

    // If we are trying to open a requester window (except first requester) before the first requester is booted, we bail
    if (!this.isPureWebPlatformMode() && !params.isFirstRequester && !this.isFirstRequesterBooted) {
      pm.logger.warn('WindowManager~newRequesterWindow - Bailing requester window creation as first requester is not booted.');
      return;
    }

    let defaultWindowOptions = this.getWindowPref(app.getName(), partitionToLoad);
    let browserWindowOptions = Object.assign(
      defaultWindowOptions,
      {
        ...adjustBounds({
          width: sanitizedBounds.width,
          height: sanitizedBounds.height,
          x: sanitizedBounds.x,
          y: sanitizedBounds.y
        }),
        center: !window.position,
        show: this.isWindowVisibleByDefault,
        minWidth: MIN_ALLOWED_REQUESTER_WIDTH,
        minHeight: MIN_ALLOWED_WINDOW_HEIGHT
      }
    );

    // For Mac OS, we hide the title bar and place the traffic light on header
    if (isDarwin()) {
      Object.assign(browserWindowOptions, {
        titleBarStyle: 'hidden',
        titleBarOverlay: true,
        trafficLightPosition: MAC_TRAFFIC_LIGHT_POSITION_DEFAULT
      });
    }

    // For Windows OS, we make a frameless app and build custom window controls
    if (isWindows()) {
      Object.assign(browserWindowOptions, {
        frame: false
      });
    }

    let mainWindow = new BrowserWindow(browserWindowOptions);
    this.openWindowIds.push(mainWindow.id);
    const launchParams = await getWindowLaunchParams(rootPageType, {
      window: mainWindow,
      authResponse: params.authResponse,
      partitionId: await userPartitionService.getActivePartition(),
      isFirstRequester: params.isFirstRequester || false
    });

    // When user signs in, the locale is sent in the auth response
    // check if locale exists in auth response and change the locale accordingly
    const authResponseLocale = _.get(params, ['authResponse', 'authData', 'userData', 'locale']);
    authResponseLocale && i18nService.changeLocale(authResponseLocale);

    performance.mark(PERF_MARKS.MAIN_PROCESS_BROWSER_OPEN_COMPLETE);
    performance.measure(PERF_MEASURES.MAIN_PROCESS_BROWSER_OPEN_TIME, PERF_MARKS.MAIN_PROCESS_APP_READY);

    this.windowState[windowName] = window;

    require('@electron/remote/main').enable(mainWindow.webContents);

    mainWindow.webContents.on('did-attach-webview', (event, webviewWebContents) => {
      require('@electron/remote/main').enable(webviewWebContents);
    });

    mainWindow.once('ready-to-show', () => {

      // We do not want to apply fullScreen flag for windows created in hidden mode
      // since applying it will make these windows visible. Instead, We will apply this flag later
      // (after the auth window is closed) when we want to show these windows.
      this.isWindowVisibleByDefault && this.setWindowMode({
        isFullScreen: window.visibility && window.visibility.isFullScreen,
        maximized: window.visibility && window.visibility.maximized
      }, mainWindow);
    });

    if (this.openWindowIds.length === 1) {
      this.primaryId = mainWindow.id;
    } // this is the only window. make it primary

    let windowId = window.id || uuidV4();

    mainWindow.webContents.on('dom-ready', () => {
      // From electron v11, there are some rendering issues with the chromium side which is affecting webview, browserViews and browserWindows.
      // This issue is only seen when there is a hidden window launched and another window is opened on top of it. In our case shared window is the hidden window
      // Adding a workaround for the issue with electron v11 where the requester window appears blank while launching the app.
      // Taking the focus away from requester window fixes the problem. This workaround needs to be put in when the content is ready. Similar issue is reported here https://github.com/electron/electron/issues/27353
      if (this.isWindowVisibleByDefault && isWindows()) {
        mainWindow.showInactive();
        mainWindow.focus();
      }

      // broadcast an event to the handler on the main process
      // the main process defers some initialization steps till the first window can be launched
      // this event marks that the first window has been opened
      pm.eventBus.channel('main-internal-lifecycle').publish({
        name: EVENT_BUS_EV_NAMES.WINDOW_LOADED,
        namespace: 'main-internal-lifecycle'
      });

      mainWindow.webContents.setVisualZoomLevelLimits(1, 1);

      handleDomReady({
        window: mainWindow,
        launchParams
      });

      if (this.initUrl) {
        this.listenForRequesterWindow = true;
        this.initWindowId = windowId;
      }
    });

    let windowParams = [{
      type: 'requester',
      id: windowId,
      browserWindowId: mainWindow.id,
      activeSession: window.activeSession || '',
      position: { x: sanitizedBounds.x, y: sanitizedBounds.y },
      size: { width: sanitizedBounds.width, height: sanitizedBounds.height },
      visibility: window.visibility || { maximized: false, isFullScreen: false }
    }, {
      id: windowId,
      session: {
        id: window.activeSession,
        workspace: params.workspace
      },
      triggerSource: params && params.triggerSource,
      authResponse: params.authResponse
    }];

    mainWindow.windowName = windowName;
    mainWindow.type = 'requester';
    mainWindow.params = windowParams;
    mainWindow.launchParams = launchParams;

    attachWebcontentListeners({
      window: mainWindow,
      launchParams,
      webPreferences: defaultWindowOptions.webPreferences
    });

    Promise.resolve()
      .then(() => {
        if (window.id) {
          // Checking if the window to restore actually does exist in DB Or not before updating.
          // This makes sure that when the window starts booting, a record always exists in the DB
          return WindowController.get({ id: window.id });
        }
        return;
      })
      .then((dbWindow) => {
        if (dbWindow) {
          // Restoring
          return WindowController
            .update({
              id: window.id,
              browserWindowId: mainWindow.id,
              position: { x: sanitizedBounds.x, y: sanitizedBounds.y },
              size: { width: sanitizedBounds.width, height: sanitizedBounds.height }
            });
        }
        else {
          // Not restoring
          return WindowController
            .create.apply(WindowController, windowParams);
        }
      })
      .then(() => {
        return getAbsolutePageURL(
          rootPageType, // This should change to scratchpad, when user is logged out
          launchParams,
          defaultWindowOptions.webPreferences
        );
      })
      .then((pageURL) => {
        performance.measure(
          PERF_MEASURES.MAIN_PROCESS_SHELL_LAUNCH_TIME,
          PERF_MARKS.MAIN_PROCESS_BROWSER_OPEN_COMPLETE
        );
        mainWindow.loadURL(pageURL);
      })
      .catch((e) => {
        pm.logger.error('WindowManager~newRequesterWindow - Error in loading window from db', e);
      });

    this.addListeners(mainWindow);

    this.sendInternalMessage({
      event: 'pmWindowOpened',
      object: mainWindow.id
    });
    return mainWindow;
  },

  async newConsoleWindow (window = {}, params = {}) {
    const rootPageType = 'console';
    let windowName = 'console',
      bounds = {
        x: _.get(window, 'position.x'),
        y: _.get(window, 'position.y'),
        width: _.get(window, 'size.width'),
        height: _.get(window, 'size.height')
      },
      sanitizedBounds = this.sanitizeBounds(bounds, windowName);

    if (!this.isPureWebPlatformMode() && !this.isFirstRequesterBooted) {
      pm.logger.warn('WindowManager~newConsoleWindow - Bailing requester window creation as first requester is not booted!');
      return;
    }

    if (!this.consoleWindowId) {
      let defaultWindowOptions = this.getWindowPref('Postman Console', await userPartitionService.getActivePartition());
      let mainWindow = new BrowserWindow(Object.assign(
        defaultWindowOptions,
        {
          ...adjustBounds({
            width: sanitizedBounds.width,
            height: sanitizedBounds.height,
            x: sanitizedBounds.x,
            y: sanitizedBounds.y
          }),
          center: !window.position,
          show: this.isWindowVisibleByDefault,
          minWidth: MIN_ALLOWED_WINDOW_WIDTH,
          minHeight: MIN_ALLOWED_WINDOW_HEIGHT
        }
      ));
      this.consoleWindowId = mainWindow.id;
      this.openWindowIds.push(this.consoleWindowId);
      const launchParams = await getWindowLaunchParams(rootPageType, {
        window: mainWindow,
        authResponse: params.authResponse,
        isFirstRequester: false
      });

      this.windowState[windowName] = window;

      // We do not want to apply fullScreen flag for windows created in hidden mode
      // since applying it will make these windows visible. Instead, We will apply this flag later
      // (after the auth window is closed) when we want to show these windows.
      this.isWindowVisibleByDefault && this.setWindowMode({
        isFullScreen: window.visibility && window.visibility.isFullScreen,
        maximized: window.visibility && window.visibility.maximized
      }, mainWindow);

      require('@electron/remote/main').enable(mainWindow.webContents);

      mainWindow.webContents.on('dom-ready', () => {
        mainWindow.webContents.setVisualZoomLevelLimits(1, 1);
        handleDomReady({
          window: mainWindow,
          launchParams
        });
      });

      let windowId = window.id || uuidV4();
      let windowParams = [{
        type: 'console',
        id: windowId,
        browserWindowId: mainWindow.id,
        activeSession: window.activeSession || '',
        position: { x: sanitizedBounds.x, y: sanitizedBounds.y },
        size: { width: sanitizedBounds.width, height: sanitizedBounds.height },
        visibility: window.visibility || { maximized: false, isFullScreen: false }
      }, {
        id: windowId,
        session: { id: window.activeSession },
        triggerSource: params && params.triggerSource
      }];

      mainWindow.windowName = windowName;
      mainWindow.type = 'console';
      mainWindow.params = windowParams;
      mainWindow.launchParams = launchParams;

      attachWebcontentListeners({
        window: mainWindow,
        launchParams,
        webPreferences: defaultWindowOptions.webPreferences
      });

      Promise.resolve()
        .then(() => {
          if (window.id) {
            // Checking if the window to restore actually does exist in DB Or not before updating.
            // This makes sure that when the window starts booting, a record always exists in the DB
            return WindowController.get({ id: window.id });
          }
          return;
        })
        .then((dbWindow) => {
          if (dbWindow) {
            // Restoring
            return WindowController
              .update({
                id: window.id,
                browserWindowId: mainWindow.id,
                position: { x: sanitizedBounds.x, y: sanitizedBounds.y },
                size: { width: sanitizedBounds.width, height: sanitizedBounds.height }
              });
          }
          else {
            // Not restoring
            return WindowController
              .create.apply(WindowController, windowParams);
          }
        })
        .then(() => {
          return getAbsolutePageURL(
            rootPageType, // This should change to scratchpad, when user is logged out
            launchParams,
            defaultWindowOptions.webPreferences
          );
        })
        .then((pageURL) => {
          mainWindow.loadURL(pageURL);
        })
        .catch((e) => {
          pm.logger.error('WindowManager~newConsoleWindow - Error in loading console window from db', e);
        });

      // Reset console ID when 'closed' is emitted.
      // 'close' not used as it is not emitted when destroy() is called.
      // This makes sure console can be launched after switching accounts while it is open.
      // Github issue - https://github.com/postmanlabs/postman-app-support/issues/5409
      mainWindow.on('closed', () => {
        if (this.consoleWindowId) {
          this.consoleWindowId = null;
        }
      });

      this.addListeners(mainWindow);
    }
    else {
      let consoleWindow = BrowserWindow.fromId(parseInt(this.consoleWindowId));
      if (!consoleWindow) {
        return;
      }
      consoleWindow.show();
      unminimize(consoleWindow);
    }
  },

  addListeners (activeWindow) {
    if (activeWindow.boundEventHandlers) {
      return;
    }

    activeWindow.boundEventHandlers = {};

    activeWindow.boundEventHandlers.close = this._closedHandler.bind(this, activeWindow);
    activeWindow.boundEventHandlers.move = _.debounce(this._stateChangeHandler.bind(this, activeWindow), 100);
    activeWindow.boundEventHandlers.resize = activeWindow.boundEventHandlers.move;
    activeWindow.boundEventHandlers.restore = this._windowBoundsHandler.bind(this, activeWindow);
    activeWindow.boundEventHandlers.focus = this._focusHandler.bind(this, activeWindow);

    if (activeWindow.type === 'requester') {
      activeWindow.boundEventHandlers['enter-full-screen'] = this._enterFullScreenHandler.bind(this, activeWindow);
      activeWindow.boundEventHandlers['leave-full-screen'] = this._leaveFullScreenHandler.bind(this, activeWindow);
      activeWindow.boundEventHandlers.maximize = this._maximizeHandler.bind(this, activeWindow);
      activeWindow.boundEventHandlers.unmaximize = this._unmaximizeHandler.bind(this, activeWindow);
      activeWindow.boundEventHandlers.resize = _.debounce(this._resizeHandler.bind(this, activeWindow), 100);
      activeWindow.boundEventHandlers.blur = this._blurHandler.bind(this, activeWindow);
    }

    for (const key in activeWindow.boundEventHandlers) {
      activeWindow.on(key, activeWindow.boundEventHandlers[key]);
    }
  },

  updateWindowState (windowName, activeWindow) {
    const bounds = getBounds(activeWindow);
    const maximized = activeWindow.isMaximized();
    const isFullScreen = activeWindow.isFullScreen();
    const currentState = this.windowState[windowName];

    // If maximized or fullscreen, retain original size for restoring
    this.windowState[windowName] = {
      x: maximized || isFullScreen ? currentState.x : bounds.x,
      y: maximized || isFullScreen ? currentState.y : bounds.y,
      width: maximized || isFullScreen ? currentState.width : bounds.width,
      height: maximized || isFullScreen ? currentState.height : bounds.height,
      maximized,
      isFullScreen
    };
  },

  _stateChangeHandler (activeWindow, e) {
    if (activeWindow.isDestroyed()) {
      return Promise.resolve();
    }

    const bounds = getBounds(activeWindow);

    this.updateWindowState(activeWindow.windowName, activeWindow);

    return WindowController.get({ browserWindowId: activeWindow.id })
      .then((window) => {
        const maximized = activeWindow.isMaximized();
        const isFullScreen = activeWindow.isFullScreen();

        // If maximized or fullscreen, retain original size for restoring
        WindowController.update({
          id: window.id,
          position: {
            x: maximized || isFullScreen ? window.position.x : bounds.x,
            y: maximized || isFullScreen ? window.position.y : bounds.y
          },
          size: {
            width: maximized || isFullScreen ? window.size.width : bounds.width,
            height: maximized || isFullScreen ? window.size.height : bounds.height
          },
          visibility: { maximized, isFullScreen }
        });
      });
  },

  deleteWindowFromDB (browserWindow) {
    let windowType = browserWindow.type,
      windowId = browserWindow.id;
    if (windowType !== 'requester') {
      return WindowController
        .get({ browserWindowId: browserWindow.id })
        .then((closedWindow) => {
          return WindowController.delete({ id: closedWindow.id });
        });
    }
    else {
      return WindowController
        .count({ type: 'requester' })
        .then((requesterWindowCount) => {
          if (requesterWindowCount > 1) {
            return WindowController
              .get({ browserWindowId: windowId })
              .then((window) => {
                return WindowController.delete({ id: window.id });
              });
          }

          return;
        });
    }
  },

  // This is only here as an external component was calling an internal event handler directly.
  // It should be removed when the caller gets refactored.
  notifyOfWindowClose (window, event) {
    this._closedHandler(window, event);
  },

  _closedHandler (window, e) {
    if (!this.isPureWebPlatformMode() && !this.isFirstRequesterBooted) {
      e.preventDefault();
      return;
    }

    if (app.quittingApp) {
      // Windows are being closed because the app was quit, don't try to
      // delete window records
      return;
    }

    const windowId = window.id;

    pm.logger.info(`WindowManager~closeHandler - Closed Window (id: ${windowId} )`);

    this.removeListeners(window);
    this.removeWindowId(windowId);
    clearStatesPerWindow(window);

    this.deleteWindowFromDB(window);

    this.channel.publish({
      type: 'window-closed',
      windowId
    });
  },

  _focusHandler (window, e) {
    menuManager.updateMenuItems(window.type);

    this.channel.publish({
      type: 'focus',
      windowId: window.id
    });
  },

  _blurHandler (window, e) {
    this.channel.publish({
      type: 'blur',
      windowId: window.id
    });
  },

  _resizeHandler (window, e) {
    this.channel.publish({
      type: 'resize',
      windowId: window.id
    });
  },

  _enterFullScreenHandler (window, e) {
    this.channel.publish({
      type: 'enter-full-screen',
      windowId: window.id
    });
  },

  _leaveFullScreenHandler (window, e) {
    this.channel.publish({
      type: 'leave-full-screen',
      windowId: window.id
    });
  },

  _maximizeHandler (window, e) {
    this.channel.publish({
      type: 'maximize',
      windowId: window.id
    });
  },

  _unmaximizeHandler (window, e) {
    this.channel.publish({
      type: 'unmaximize',
      windowId: window.id
    });
  },

  removeListeners (activeWindow) {
    if (!activeWindow.boundEventHandlers) {
      return;
    }

    for (const key in activeWindow.boundEventHandlers) {
      activeWindow.removeListener(key, activeWindow.boundEventHandlers[key]);
    }

    delete activeWindow.boundEventHandlers;
  },

  getFirstRequesterWindow () {
    return WindowController
      .getAll({ type: 'requester' })
      .then((allRequesterWindows) => {
        let requesterWindowIds = _.map(allRequesterWindows, (window) => window.browserWindowId),
          openWindowIds = this.openWindowIds,
          openRequesterWindows = _.intersection(openWindowIds, requesterWindowIds);

        if (openRequesterWindows.length) {
          return _.find(allRequesterWindows, (window) => window.browserWindowId === openRequesterWindows[0]);
        }
        return;
      });
  },

  openUrl (url) {
    this.getFirstRequesterWindow()
      .then((window) => {
        if (window) {
          let channel = this.eventBus.channel('protocol-handler');
          channel.publish({
            url,
            windowId: window.id
          });

          var bWindow = BrowserWindow.fromId(window.browserWindowId);
          if (bWindow) {
            bWindow.show();
            unminimize(bWindow);
          }

          this.initUrl = null;
        }
        else {
          // Open a new window
          this.initUrl = url;
          this.createOrRestoreRequesterWindow();
        }
      });
  },

  removeWindowId (windowId) {
    // remove windowId from openWindowIds
    var index = this.openWindowIds.indexOf(windowId);

    if (index !== -1) {
      this.openWindowIds.splice(index, 1);
    }
  },

  openCustomURL (url) {
    shell.openExternal(url);
  },

  hasOpenWindows () {
    return BrowserWindow.getAllWindows().length > 0;
  },

  restoreWindows (options = {}) {
    pm.logger.info('windowManager~restoreWindows: Restoring requester windows');

    if (!this.isFirstRequesterBooted) {
      pm.logger.error('windowManager~restoreWindows: Bailing out of restoreWindows as the first requester is not booted');
      return;
    }

    let windowIdsToSkip = options.windowIdsToSkip || [];

    return WindowController.getAll({})
      .then((allWindows) => {
        let allWindowIds = _.map(allWindows, (window) => window.id),
          windowsToRestore = _.slice(allWindows, 0, MAX_WINDOW_RESTORE_COUNT),
          windowsToRestoreIds = _.slice(allWindowIds, 0, MAX_WINDOW_RESTORE_COUNT),
          idsToDelete = _.differenceWith(allWindowIds, windowsToRestoreIds);

        if (idsToDelete.length === 0) {
          return windowsToRestore;
        }
        return WindowController
          .delete({ id: idsToDelete })
          .then(() => {
            return windowsToRestore;
          });
      })
      .then((allWindows = []) => {
        // Filter out the IDs of the windows to skip. These will not be restored
        allWindows = allWindows.filter((window = {}) => {
          // We keep the window ID if the list of IDs to skip does not have the
          // current window's ID
          return !windowIdsToSkip.includes(window.id);
        });

        if (allWindows.length > 0) {
          _.each(allWindows, (window) => {
            switch (window.type) {
              case 'requester':
                this.newRequesterWindow(window);
                break;
              case 'console':
                this.newConsoleWindow(window);
                break;
            }
          });
        }
      });
  },

  /**
   * Closes all requester windows
   */
  closeRequesterWindows () {
    this.unsetFirstRequesterBooted();
    this.closeAllWindows();
  },

  closeAllWindows () {
    _.each(this.openWindowIds, (windowId) => {
      let window = BrowserWindow.fromId(parseInt(windowId));
      window && this.removeListeners(window);
      window && window.destroy();
    });

    this.openWindowIds = [];

    /**
     * Earlier there was a windowController.delete() which used to wipe out the complete window file,
     * so on restore actions it never used to find any window and would open a new one.
     * Case where user does a add new account, cancels that operation and clicks take me back to signed in account
     *
     * Also, when the shared process is booted that calls windowManager.restoreWindows, which keeps the
     * MAX_WINDOW_RESTORE_COUNT number of windows and clears the rest of them. Hence clean up is done on
     * every shared booted.
     */
  },

  /**
   * This function handles the case when the position at which the window is to be restored is outside
   * the bounds of the current display configuration. This causes the bug where the app is loaded off-screen.
   * If this case arises, this function displays the window on the primary display.
   *
   * NOTE: This function is triggered by the 'restore' event emitted by the window on being restored from a minimized state.
   * The 'show' event would have been more appropriate but 'restore' is used because the 'show' event is inconsistent
   * across different platforms. So it would have worked well on macOS but not on Windows and Linux.
   *
   * Electron issue - https://github.com/electron/electron/issues/8664
   */
  _windowBoundsHandler (window, e) {
    // Earlier, unminimizing a previously maximized window did not generate a 'restore' event on Windows.
    // After https://github.com/electron/electron/pull/35342, Electron does generate the 'restore' event.
    // This caused a fair bit of mayhem for some users with multiple screens in certain screen configurations.
    // This is because APIs that are not DWM-aware report a maximized window to be outside the screen boundaries.
    // See the comment near the definition of WIN_10_11_FRAME_WIDTH for more context.
    // This function is not aware of that at all, so we've added a check to restore the earlier behavior.
    if (isWindows() && window.isMaximized()) {
      return;
    }

    let primaryDisplay = electron.screen.getPrimaryDisplay(),
      bounds = getBounds(window),
      sanitizedCoordinates = this.sanitizeCoordinates({ x: bounds.x, y: bounds.y }),
      finalBounds = {
        x: sanitizedCoordinates && sanitizedCoordinates.x,
        y: sanitizedCoordinates && sanitizedCoordinates.y,
        width: bounds.width,
        height: bounds.height
      };

    // Case where the sanitized bounds returns null i.e. the bounds were outside the current display
    if (_.isNull(finalBounds.x) || _.isNull(finalBounds.y)) {
      finalBounds = primaryDisplay.bounds;
    }

    // While upgrading electron from v15 tov18, we were impacted by an underneath issue in electron
    // where calling the setBounds function inside the restore event lead to the main process crash.
    // Issue got reported here https://github.com/postmanlabs/postman-app-support/issues/11548 & acknowledged
    // by electron here https://github.com/electron/electron/issues/36705. As a workaround mentioned in the thread
    // we are moving setBounds behind setImmediate.
    setImmediate(() => {
      window.setBounds(adjustBounds(finalBounds));
    });
  },

  /**
   * Function to bring the requester window in focus
   *
   * If no requester window is open, a new requester window is opened with state of the last closed requester window
   * else the existing requester window in brought in focus
   */
  focusRequesterWindow () {
    let window;
    return this.getOpenWindows('requester')
      .then((allOpenRequesterWindows) => {
        if (allOpenRequesterWindows.length === 0) {
          return WindowController.getAll({ type: 'requester' })
            .then((allRequesterWindows) => {
              if (allRequesterWindows.length > 0) {
                window = this.newRequesterWindow(allRequesterWindows[0]);
              }
              if (!window) {
                return Promise.reject(new Error('windowManager~focusRequesterWindow: Unable to restore the last closed requester window'));
              }
              return window;
            });
        }
        else {
          window = BrowserWindow.fromId(allOpenRequesterWindows[0]);
          if (!window) {
            return Promise.reject(new Error('windowManager~focusRequesterWindow: Unable to focus the existing requester window'));
          }
          unminimize(window);
          window.focus();
          return window;
        }
      });
  },

  /**
   * Function to sanitize position coordinates and dimensions for window. It makes sure when
   * window is restored or opened its position coordinates and size are valid.
   * @param {Object} bounds - Object which has window's position and size values
   * @param {String} windowName - Window type
   */
  sanitizeBounds (bounds = {}, windowName) {
    let defaultBounds,
      sanitizedCoordinates;
    let WINDOW_MIN_WIDTH = MIN_ALLOWED_WINDOW_WIDTH;
    switch (windowName) {
      case 'requester':
        defaultBounds = DEFAULT_REQUESTER_BOUNDS;
        WINDOW_MIN_WIDTH = MIN_ALLOWED_REQUESTER_WIDTH;
        break;
      case 'console':
        defaultBounds = DEFAULT_CONSOLE_BOUNDS;
        break;
      default:
        defaultBounds = DEFAULT_REQUESTER_BOUNDS;
        break;
    }

    // Addded this safe check for the issue: https://github.com/postmanlabs/postman-app-support/issues/6304
    if (!_.isInteger(bounds.width) ||
      !_.isInteger(bounds.height) ||
      bounds.width < WINDOW_MIN_WIDTH ||
      bounds.height < MIN_ALLOWED_WINDOW_HEIGHT) {
      return defaultBounds;
    }

    sanitizedCoordinates = this.sanitizeCoordinates({ x: bounds.x, y: bounds.y });

    return {
      x: sanitizedCoordinates.x,
      y: sanitizedCoordinates.y,
      width: bounds.width,
      height: bounds.height
    };
  },

  /**
   * Close and Open all requester windows for the app
   * @param {Object} data - The authentication response
   */
  reLaunchRequesterWindows (data = {}) {
    this.closeRequesterWindows();
    return this.openRequesterWindows(data);
  },

  /**
   * Open all requester windows for the app
   * @param {Object} data - The authentication response
   */
  openRequesterWindows (data = {}) {
    this.unsetFirstRequesterBooted();
    return this.openFirstRequesterWindow(data);
  },

  /**
   * Open a new requester window with the isFirstRequester flag set as true
   *
   * If there are windows to be restored, we take the first window from the
   * list and open that as the first requester.
   * Otherwise, we just create a new requester window and set the isFirstRequester
   * flag for that as true
   * @param {Object} response An object containing authentication response
   */
  openFirstRequesterWindow ({ authResponse } = {}) {
    // If the first requester is already booted, bail out
    if (this.isFirstRequesterBooted) {
      pm.logger.info('windowManager~openFirstRequesterWindow: Bailing out as first requester is already open');
      return Promise.resolve();
    }

    return WindowController.getAll({ type: 'requester' })
      .then((requesterWindows) => {
        let params = {
          isFirstRequester: true,
          authResponse
        };

        if (_.size(requesterWindows) === 0) {
          return this.newRequesterWindow({}, params);
        }

        let firstRequester = requesterWindows[0];
        return this.newRequesterWindow(firstRequester, params);
      });
  },

  async openWebBasedProxyWindow () {
    if (this.webProxyWindowID) {
      let window = BrowserWindow.fromId(parseInt(this.webProxyWindowID, 10));
      if (window && !window.isFocused()) {
        window.show();
      }
      return;
    }

    const mainWindow = new BrowserWindow(
      {
        title: 'Proxy Window',
        backgroundColor: '#FFFFFF',
        ...adjustBounds({
          width: 1280,
          height: 800
        }),
        webPreferences: {
          webSecurity: true,
          backgroundThrottling: false,
          partition: await userPartitionService.getActivePartition(),
          nodeIntegration: true,
          contextIsolation: false,
          webviewTag: true,
          preload: path.resolve(app.getAppPath(), 'preload/desktop/index.js')
        },
        icon: nativeImage.createFromPath(path.resolve(app.getAppPath(), 'assets/icon.png'))
      }
    );

    require('@electron/remote/main').enable(mainWindow.webContents);

    this.webProxyWindowID = mainWindow.id;
    mainWindow.loadURL(`${this.webProxyPath}`);

    let unsubscribe,
      ipcMain = pm.sdk.IPC;

    unsubscribe = ipcMain.subscribe('webproxy-authenticate-close-window-event', () => {
      mainWindow && mainWindow.close();
    });

    mainWindow.on('close', () => {
      unsubscribe();
      this.webProxyWindowID = null;

      // Handle the case where app is getting closed, don't restore the windows in that case
      if (app.quittingApp) {
        return;
      }

      this.setWindowsDefaultVisibilityState(true);
      this.openRequesterWindows();
    });
  },

  setFirstRequesterBooted () {
    AppLaunchPerfService.destroy();
    this.isFirstRequesterBooted = true;
  },

  setHasWPNavigatedToMonolithRouteOnce () {
    this.hasWebPlatformNavigatedToMonolith = true;
  },

  openDevTools: (window) => {
    window.webContents.openDevTools({ mode: 'detach', activate: true });
  },

  toggleDevTools (window) {
    if (window.webContents.isDevToolsOpened()) {
      window.webContents.closeDevTools();
    } else {
      this.openDevTools(window);
    }
  },

  unsetFirstRequesterBooted () {
    this.isFirstRequesterBooted = false;
  }
};


exports.windowManager = windowManager;

/**
 * This method needs to be called only at launch once, as this response is not cached
 * and may change when called for a different window id.
 *
 * @typedef {{
 *  browserWindowId: string; // Could be console/browser window.id
 *  logPath: string;
 *  sessionId: string;
 *  startTime: number;
 *  scratchpadPartitionId: string;
 *  isFirstRequester: boolean;
 *  signInAction?: boolean;
 *  authConfig?: Record<string, any>;
 *  appPath: string;
 *  type: RootPageTypes;
 *  devtools: boolean;
 *  primaryId: string;
 *  allIds: string[];
 *  partitionId: string;
 *  isNewUser?: boolean;
 *  isSwitchUser?: boolean;
 * }} BrowserWindowLaunchParams
 *
 * @param {RootPageTypes} rootPage
 * @param {{
 *  window: any; // Should've been import('electron').BrowserWindow
 *  authResponse: any;
 *  partitionId: string;
 *  isFirstRequester?: boolean;
 *  devtools?: boolean;
 * }} options
 *
 * @return {Promise<BrowserWindowLaunchParams>}
 */
const getWindowLaunchParams = async (rootPage, options) => {
  const { window, authResponse, isFirstRequester, partitionId } = options;

  // authResponse can be undefined
  const signInAction = _.get(authResponse, ['authData', 'additionalData', 'action']);
  const isNewUser = [AUTH_ACTIONS.SIGN_UP, AUTH_ACTIONS.LOGIN].includes(signInAction);
  const isSwitchUser = [AUTH_ACTIONS.SWITCH_USER].includes(signInAction);
  const authConfig = _.get(authResponse, ['authResponse', 'authData', 'config']);
  return {
    browserWindowId: window.id,
    logPath: app.logPath,
    sessionId: app.sessionId,
    startTime: Date.now(),
    scratchpadPartitionId: await scratchPadPartitionService.getCurrent(), // Need to hardcode a scratchpad partition id
    isFirstRequester: isFirstRequester,
    signInAction: signInAction,
    authConfig: authConfig,
    appPath: app.getAppPath(),
    type: rootPage,
    devtools: devtools.includes(rootPage),
    primaryId: windowManager.primaryId,
    allIds: windowManager.openWindowIds,
    partitionId: partitionId,
    isNewUser: isNewUser,
    isSwitchUser: isSwitchUser,
    preloadFile: url.pathToFileURL(path.resolve(app.getAppPath(), 'preload/desktop/index.js')).href,
    authResponse: authResponse,
    activeUser: await getActiveUser(),
    systemLocale: app.getLocale()
  };
};

/**
 * @param {{ sender: { webContents: any }}} ev
 * @param {string} url
 */
const reloadBrowserWindow = (ev, url) => {
  const webContents = ev.sender;
  if (webContents && url) {
    const win = BrowserWindow.fromWebContents(webContents);
    pm.logger.info(`Main~reloadBrowserWindow (To Url): ${url}`);
    win.loadURL(url);
  }
};

/**
 * Attaches Main process BrowserWindow to Renderer process
 * IPC handlers.
 */
function attachRendererIPCHandlers () {
  /** @type {import('../sdk/ipc')} */
  const ipcMain = pm.sdk.IPC;

  /**
   * Send updated LoggedIn users data, when the event is triggered, once
   * at launch.
   * Trigger a send from main for every updates in logged-in users post that.
   */
  ipcMain.subscribe(IPC_EVENT_NAMES.GET_LOGGEDIN_USERS, (ev) => {
    const webContents = ev.sender;
    sendUsersDataToRenderer(webContents);
  });

  /**
   * Clear Service Worker Cache and reload the active view.
   */
  ipcMain.subscribe(IPC_EVENT_NAMES.CLEAR_CACHE_AND_RELOAD, (ev) => {
    try {
      const webContents = ev.sender;
      webContents && webContents.session && webContents.session.clearCache();
      webContents.reload();
      pm.logger.warn('Main~IPC-clearCacheAndReload success');
    } catch (e) {
      pm.logger.warn('Main~IPC-clearCacheAndReload error: ', e);
    }
  });

  /**
   * Updates the URL of the BrowserWindow which triggered this event.
   */
  ipcMain.subscribe(IPC_EVENT_NAMES.UPDATE_WEBVIEW_URL, (ev, targetUrl) => {
    const webContents = ev.sender;
    if (webContents && targetUrl) {
      pm.logger.info(`Main~${IPC_EVENT_NAMES.UPDATE_WEBVIEW_URL}: `, targetUrl);
      const win = BrowserWindow.fromWebContents(webContents);
      win.loadURL(targetUrl);
    }
  });

  /**
   * Reload active root page, when needed
   */
  ipcMain.subscribe(IPC_EVENT_NAMES.RELOAD, async (ev) => {
    const webContents = ev.sender;
    if (webContents) {
      try {
        const currentURL = new url.URL(webContents.getURL());
        if (currentURL.protocol === 'file:') {
          // Do not reload to the same file system link, try getting proper URL for
          // last saved user session and load that URL
          const win = BrowserWindow.fromWebContents(webContents);
          await windowManager.reloadBrowserWindow(win);
          pm.logger.info(`Main~${IPC_EVENT_NAMES.RELOAD} :: Reloading last saved user session.`);
          return;
        }
        pm.logger.info(`Main~${IPC_EVENT_NAMES.RELOAD}: ${currentURL}`);
        webContents.reload();
      } catch (e) {
        pm.logger.error(`Main~${IPC_EVENT_NAMES.RELOAD}: Failed to reload -> ${webContents.getURL()}:: `, e);
      }
    }
  });

  /**
   * Reload active root page, when needed
   */
  ipcMain.handle(IPC_EVENT_NAMES.GET_PARTITION_ID, () => userPartitionService.getActivePartition());


  /**
   * Check whether monolith is loading from Web Platform for the first time
   * And set the flag to true for subsequent navigations/calls.
   */
  ipcMain.handle(IPC_EVENT_NAMES.SET_HAS_WEB_PLATFORM_NAVIGATED_TO_MONOLITH, () => {
    const isFirstNavigationToMonolith = !windowManager.hasWebPlatformNavigatedToMonolith;
    windowManager.setHasWPNavigatedToMonolithRouteOnce();
    return isFirstNavigationToMonolith;
  });

  /**
   * Handler to open Electron context menu on right click for WEB PLATFORM
   */
  ipcMain.handle(IPC_EVENT_NAMES.OPEN_NATIVE_MENU, async (event, payload) => {

    function sendMenuResponse (resp) {
      return event.sender.send('CLOSE_POPUP_MENU', resp);
    }
    function addCbToMenuItems (template) {
      if (!Array.isArray(template)) return;
      return template.map((item) => {
        const clickID = item.click;
        return {
          ...item,
          click: () => sendMenuResponse(clickID),
          submenu: addCbToMenuItems(item.submenu)
        };
      });
    }

    if (payload && payload.menu) {
        const menu = electron.Menu.buildFromTemplate(addCbToMenuItems(payload.menu));
        menu.on('menu-will-close', () => {
          // emit event on menu close
          sendMenuResponse();
        });
        menu.popup({ window: BrowserWindow.fromWebContents(event.sender) });
    }
  });

  ipcMain.handle(IPC_EVENT_NAMES.GET_PLATFORM_LAUNCH_PERF_METRICS, async () => {
    pm.logger.info(`Main~${IPC_EVENT_NAMES.GET_PLATFORM_LAUNCH_PERF_METRICS}`);
    return AppLaunchPerfService.getAllMeasures();
  });
  ipcMain.handle(IPC_EVENT_NAMES.SCRATCHPAD_THEME_ACTION,

    /**
     * @param {'get' | 'set'} type
     * @param {string=} value
     */
    async (_, type, value) => {
      pm.logger.info(`Main~${IPC_EVENT_NAMES.SCRATCHPAD_THEME_ACTION}:: action: ${type}, value: ${value}`);
      switch (type) {
        case 'get':
          return store.get(STORE_KEYS.SCRATCHPAD_THEME);
        case 'set':
          store.set(STORE_KEYS.SCRATCHPAD_THEME, value);
      }
    }
  );

  /**
   * Handles Page navigations from file:// -> http:// protocols
   * for Postman App
   */
  ipcMain.handle(IPC_EVENT_NAMES.GET_REMOTE_INIT_PATH, async () => {
    pm.logger.info(`Main~${IPC_EVENT_NAMES.GET_REMOTE_INIT_PATH}:: ${store.get(STORE_KEYS.REMOTE_INIT_PATH)}`);
    return store.get(STORE_KEYS.REMOTE_INIT_PATH);
  });
  ipcMain.handle(IPC_EVENT_NAMES.NAVIGATE_TO_REMOTE_URL, async (ev, initPath) => {
    store.set(STORE_KEYS.REMOTE_INIT_PATH, initPath);

    /** Passing userId/teamId as strings is important */
    const to = await getAppUrl(HTML_MAP['requester'], { userId: '0', teamId: '0' });
    pm.logger.info(`Main~${IPC_EVENT_NAMES.NAVIGATE_TO_REMOTE_URL}: ${initPath}, To Url: ${to}`);
    reloadBrowserWindow(ev, to);
  });
  ipcMain.handle(IPC_EVENT_NAMES.NAVIGATE_TO_SCRATCHPAD, async (ev, initPath) => {
    const webContents = ev.sender;
    const scratchpadUrlMap = store.get(STORE_KEYS.BASE_SCRATCHPAD_URL_PATHS);

    if (!webContents) { return; }

    try {
      const win = BrowserWindow.fromWebContents(webContents);
      const basePath = scratchpadUrlMap.get(win.id);
      if (basePath) {
        const baseUrl = new url.URL(basePath);
        initPath && baseUrl.searchParams.append('initialPath', initPath);
        pm.logger.info(`Main~${IPC_EVENT_NAMES.NAVIGATE_TO_SCRATCHPAD} (To Url): ${baseUrl}`);
        win.loadURL(baseUrl.toString());
      }
    } catch (e) {
      pm.logger.error(`Error: Main~${IPC_EVENT_NAMES.NAVIGATE_TO_SCRATCHPAD} Failed to parse URL:`, e);
    }
  });

  /**
   * Retrieves and sends data for offline page rendering
   */
  ipcMain.handle(IPC_EVENT_NAMES.GET_OFFLINE_DATA, async () => {
    const activePartition = await partitionService.findOne(await userPartitionService.getActivePartition());
    const userName = _.get(activePartition, 'meta.name');
    const email = _.get(activePartition, 'meta.email');

    pm.logger.info(`Main~${IPC_EVENT_NAMES.GET_OFFLINE_DATA}`);
    return { userName, email };
  });

  /**
   * Returns the userPartition, including access_token
   * This is used by Web Platform which does not have access (yet) to indexedDb
   * @param {object} user
   * @param {string} user.id
   */
  ipcMain.handle(IPC_EVENT_NAMES.GET_USER_PARTITION, async (event, user) => {
    const partitionId = await userPartitionService.getPartitionForUser(user);
    const userPartition = await partitionService.findOne(partitionId);

    pm.logger.info(`Main~${IPC_EVENT_NAMES.GET_USER_PARTITION}`);
    return userPartition;
  });

  /**
   * Navigates to an external url
   * This is used by Web Platform which does not have access (yet) to electron APIs directly
   * @param {string} url
   */
  ipcMain.handle(IPC_EVENT_NAMES.OPEN_EXTERNAL_URL, async (event, url) => {
    windowManager.openCustomURL(url);
  });

  /**
   * Retrieves and sends partition data for the userId passed to this RPC
   *
   * @param {any} _ event
   * @param {{ id: string }} user the user for which we are finding the partition for
   */
  ipcMain.handle(IPC_EVENT_NAMES.CHECK_USERS_PARTITION, async (_event, user) => {
    const partitionData = await userPartitionService.getPartitionForUser(user);

    pm.logger.info(`Main~${IPC_EVENT_NAMES.CHECK_USERS_PARTITION}: `, partitionData);
    return partitionData;
  });
}

/**
 * @param {{
 *  window: any;
 *  launchParams: BrowserWindowLaunchParams;
 *  webPreferences: WindowWebPreferences;
 * }} param0
 */
async function attachWebcontentListeners ({
  window,
  launchParams = {},
  webPreferences
}) {
  window.webContents.on('render-process-gone', handleCrash(launchParams));

  const allUsers = await userPartitionService.getAllUsers();

  window.webContents.on('did-fail-load', async (event, errorCode, errorDescription, validatedURL, isMainFrame) => {
    let errorObj = {
      isNavigationError: false,
      errorUrl: validatedURL,
      errorCode: errorCode,
      isSignedOutUser: !allUsers || allUsers.length === 0
    };
    const eventName = 'did-fail-load';
    pm.logger.info(`Main ~ ${eventName}: Couldn\'t load the app.`, errorObj, errorCode, errorDescription, isMainFrame);

    // bailing out in case the did-fail-load did not triggered from main frame
    // reference: https://postmanlabs.atlassian.net/browse/CUE-3617
    if (!isMainFrame) {
      return;
    }

    return getAbsolutePageURL('offline', launchParams, webPreferences, {
      eventName,
      errorObj
    })
    .then((url) => {
      pm.logger.info(`Main ~ ${eventName}: Navigating to offline page.`, url);
      window.loadURL(url);
    })
    .catch((e) => {
      pm.logger.error('Error: did-fail-load: ', errorObj);
    });
  });

  window.webContents.on('did-navigate', async (__, url, httpResponseCode) => {
    if (httpResponseCode >= 400 && httpResponseCode <= 599) {
      let errorObj = {
        isNavigationError: true,
        errorUrl: url,
        errorCode: httpResponseCode,
        isSignedOutUser: !allUsers || allUsers.length === 0
      };
      const eventName = 'did-navigate';
      pm.logger.info(`Main ~ ${eventName}: Couldn\'t load the app.`, errorObj);
      getAbsolutePageURL('offline', launchParams, webPreferences, {
        eventName,
        errorObj
      })
      .then((url) => {
        pm.logger.info(`Main ~ ${eventName}: Navigating to offline page.`, url);
        window.loadURL(url);
      })
      .catch((e) => {
        pm.logger.error('Error: did-navigate: ', errorObj);
      });
    }
  });

  if (['requester', 'scratchpad', 'console'].includes(launchParams.type)) {
    // This is to prevent transition to unwanted URLs in the app. We attach a listener
    // when the webContents are created. Subsequent transitions are caught in the will-navigate
    // listener and we check the destination URL to see if it is allowed or not. If not, we
    // prevent the navigation
    window.webContents.on('will-navigate', (event, navigationUrl) => {
      try {
        pm.logger.error('Main~will-navigate: Navigating to URL', navigationUrl);

        // We only check for the validity of the URL in prod app
        if (RELEASE_CHANNEL !== 'prod') {
          return;
        }

        const parsedUrl = new URL(navigationUrl),
          parsedAppPath = new URL(APP_BASE_PATH);

        // We check if the URL is allowed to be opened -
        // 1. If it is from the Postman app domain
        // 2. If it is from the identity domain
        // 3. If it is loading the file from the app path in the user's system
        const isURLAllowed = parsedUrl.origin === POSTMAN_APP_URL || parsedUrl.origin === IDENTITY_URL ||
          (parsedUrl.protocol === FILE_PROTOCOL && parsedUrl.pathname && parsedUrl.pathname.startsWith(parsedAppPath.pathname));

        if (!isURLAllowed) {
          pm.logger.warn('Main~will-navigate: Prevented navigation to URL', navigationUrl);
          event.preventDefault();

          return;
        }
      }
      catch (e) {
        pm.logger.error('Main~will-navigate: Error while navigating to URL', e);
        event.preventDefault();
      }
    });
  }
}

/**
 * Send updated LoggedIn users data, when the event is triggered, once
 * at launch.
 * Trigger a send from main for every updates in logged-in users post that.
 */
async function sendUsersDataToRenderer (webContents) {
  if (webContents) {
    const allUserAccounts = await userPartitionService.getAllUsers();

    pm.logger.info(`Main~${IPC_EVENT_NAMES.GET_LOGGEDIN_USERS}: `, allUserAccounts.map((userAccount) => userAccount.id));
    webContents.send(IPC_EVENT_NAMES.GET_LOGGEDIN_USERS, allUserAccounts);
  }
}

/**
 * This function will help generate and get proper URL for the provided window
 * and release channel.
 * @param {RootPageTypes} _type
 * @param {BrowserWindowLaunchParams} launchParams
 * @param {WindowWebPreferences} webPreferences
 * @param {{
 *  eventName?: string;
 *  errorObj?: any;
 * }} webPreferences
 */
const getAbsolutePageURL = async (_type, launchParams, webPreferences, options = {}) => {
  let type = _type;
  const isScratchpad = (/scratchpad/).test(type);
  let additionalParams = {};

  if (type === 'scratchpad' && RELEASE_CHANNEL === 'dev' && !BUILD_SCRATCHPAD) {
    type = 'no-scratchpad';
  }
  if (type === 'offline') {
    const { eventName, errorObj = {} } = options;
    pm.logger.info(`Main ~ ${eventName}: Couldn\'t load the app.`, errorObj);
    additionalParams = {
      ...errorObj
    };
  }

  let signInAction = false; // Same for desktop-offline as well
  if (!isScratchpad) {
    signInAction = launchParams.signInAction;
  }

  let params = {
    browserWindowId: launchParams.browserWindowId,
    logPath: launchParams.logPath,
    sessionId: launchParams.sessionId,
    startTime: launchParams.startTime,
    preloadFile: webPreferences.preload,
    scratchpadPartitionId: await scratchPadPartitionService.getCurrent(),
    isFirstRequester: launchParams.isFirstRequester,
    ...(!!signInAction && { signInAction }),
    ...additionalParams
  };

  const htmlFileName = HTML_MAP[type];
  const srcUrl = `${htmlFileName}${getQPString(params)}`;

  let basePath = BASE_URL;

  if (process.env.RSPACK) {
    // requester is created by desktop-ui and written to build/html and served on /build/js/html
    if (htmlFileName === 'requester.html') {
      basePath = BASE_URL.replace('/build/html', '/build/js/html');
    } else {
      // all other html files are created by desktop-platform and written to build/platform/html and served on /platform/html
      basePath = BASE_URL.replace('/build/html', '/platform/html');
    }
  }

  if (['scratchpad', 'offline'].includes(type)) {
    basePath = url.format({ protocol: 'file', pathname: `${app.getAppPath()}/html` });
    const fileUrl = `${basePath}/${srcUrl}`;

    if (type === 'scratchpad') {
      const scratchpadUrlMap = store.get(STORE_KEYS.BASE_SCRATCHPAD_URL_PATHS);
      scratchpadUrlMap.set(params.browserWindowId, fileUrl);
    }

    return fileUrl;
  }

  let absoluteSrcUrl = `${basePath}/${srcUrl}`;

  const isLoggedOut = (await userPartitionService.getAllUsers()).length === 0;
  if (!isLoggedOut) {
    const userContext = await userPartitionService.getUserContextForActivePartition();
    absoluteSrcUrl = await getAppUrl(htmlFileName, userContext);
  }

  return absoluteSrcUrl;
};
const fs = require('fs'),
  os = require('os'),
  path = require('path'),

  async = require('async'),

  homeDir = os.homedir(),
  defaultWorkingDir = path.join(homeDir, 'Postman', 'files'),

  createDefaultDir = function (cb) {
    async.series([
      // Check if workingDir already exists
      (next) => {
        fs.stat(defaultWorkingDir, (err) => {
          // `ENOENT: no such file or directory` error message. Most likely the case.
          if (err && err.code === 'ENOENT') {
              return next();
          }

          // The directory exists or some other problem, bail out
          return next(new Error('default working directory already exists'));
        });
      },

      // Check we have write access to homeDir
      (next) => {
        fs.access(homeDir, fs.constants.W_OK, (err) => {
          if (err) {
            // No write access to home directory
            return next(err);
          }

          return next();
        });
      },

      // Create the default working directory
      (next) => {
        fs.mkdir(defaultWorkingDir, { recursive: true }, next);
      }
    ], cb);
  };

module.exports = { createDefaultDir };
const appSettings = require('../services/appSettings').appSettings;


module.exports = {
  /**
   * Retrieve an application setting from Postman appSettings (electron JSON storage)
   * @param {string} key setting key
   * @returns {Promise} Promise that resolves with the retrieved value or reject with error
   */
   getAppSettings: (key) => {
    return new Promise((resolve, reject) => {
      appSettings.get(key, (error, val) => {
        if (error) {
          reject(error);
        } else {
          resolve(val);
        }
      });
    });
  },

  /**
   * Set an application setting in Postman appSettings (electron JSON storage)
   * @param {string} key setting key
   * @param {string} value setting value
   * @returns {Promise} Promise that resolves once the set operation is successful or rejects with the error
   */
  setAppSettings: (key, value) => {
    return new Promise((resolve, reject) => {
      appSettings.set(key, value, (error) => {
        if (error) {
          reject(error);
        } else {
          resolve();
        }
      });
    });
  }
};
const path = require('path');

/**
 * function to calculate the performance tracing timeout
 * @returns number
 */
function getTracingTimeout () {
  const defaultTimeout = 10000;
  if (process.env.PERFORMANCE_TRACING_TIMEOUT) {
    const timeout = Number(process.env.PERFORMANCE_TRACING_TIMEOUT);
    return Number.isInteger(timeout) && timeout > 0 ? timeout : defaultTimeout;
  }
  return defaultTimeout;
}

/**
 * function to calculate the performance tracing output path
 * @returns string | undefined
 */
function getTracingPath (file) {
  if (!file) return;
  const parse = path.parse(file);

  // if path does not have extension it is probably a directory. In this case it will save recording to the "tracing-<timestamp>.json" file inside the directory
  if (!parse.ext) {
    return path.join(file, `tracing-${Date.now()}.json`);
  }

  // otherwise return file
  return file;
}

class Tracing {
  constructor (app, contentTracing) {
    if (!app || !contentTracing) {
      throw new Error(`
          Please provide electron dependencies while initializing Tracing
          const { app, contentTracing } = require('electron')
          new Tracing(app, contentTracing)
      `);
    }
    this.recording = false;
    this.contentTracing = contentTracing;
    this.app = app;
  }

  /**
   * start app tracing recording
   */
  startTracing () {
    pm.logger.info('~Tracing~start: enabled');
    this.recording = true;
    return this.contentTracing.startRecording({
      included_categories: ['*']
    })
      .then(async () => {
        const tracingTimeout = getTracingTimeout();
        pm.logger.info('~Tracing~start: started. The performance tracing timeout is:', tracingTimeout);
        await new Promise((resolve) => setTimeout(resolve, tracingTimeout));

        // if the app was closed the content tracing recording will be hadled on 'before-quit' event
        if (this.app.quittingApp) return;
        await this.stopTracing();
      });
  }

  /**
   * function to check the app tracing recording status
   */
  isRecording () {
    return this.recording;
  }

  /**
   * stop app tracing recording
   */
  async stopTracing () {
    if (!this.recording) return;
    const tracingPath = getTracingPath(process.env.PERFORMANCE_TRACING_OUTPUT_PATH);
    pm.logger.info('Tracing data will be recorded to ' + tracingPath);
    try {
      const tracePath = await this.contentTracing.stopRecording(tracingPath);
      pm.logger.info('Tracing data recorded to ' + tracePath);
    } catch (err) {
      pm.logger.info('Error while writing tracing data', err);
    }
    this.recording = false;
  }
}

module.exports = Tracing;
/**
 * Get the string of query params from the given object where key is the key of the
 * QP and value is the value
 *
 * @returns {String}
 */
module.exports = function getQPString (params = {}) {
  let result = '';

  Object.entries(params).forEach(([key, value]) => {
    let paramString = `${key}${value ? '=' + value : ''}&`;
    result = result + paramString;
  });

  // Remove the trailing '&'
  return `?${result}`.slice(0, -1);
};
var ProxyConfig = require('postman-collection').ProxyConfig,
    CloudProxyManager = require('../services/CloudProxyManager'),
    HTTP_PROTOCOL = 'http',
    HTTPS_PROTOCOL = 'https',
    ALLOWED_PROTOCOLS = [HTTP_PROTOCOL, HTTPS_PROTOCOL],
    ALLOWED_PROTOCOLS_REGEX = ALLOWED_PROTOCOLS.join('|'),
    PROTOCOL_SEPARATOR = '://',
    HTTP_PROTOCOL_SEPARATOR = HTTP_PROTOCOL + PROTOCOL_SEPARATOR,
    HTTPS_PROTOCOL_SEPARATOR = HTTPS_PROTOCOL + PROTOCOL_SEPARATOR;

/**
 *  @param {PostmanUrl} url resolved request url
 *  @param {function} cb callback
 *
 * @returns {undefined}
 */
module.exports = (url, cb) => {
  var session = require('electron').session.defaultSession,
      regexes = {
        hostPortMatcher: /PROXY (([^:]+):(\d+))/,
        validUrlTester: '^(' + ALLOWED_PROTOCOLS_REGEX + ')://'
      },
      sanitizedUrl = (url.match(regexes.validUrlTester)) ? url : HTTP_PROTOCOL_SEPARATOR + url,
      protocol = sanitizedUrl.split('://')[0],
      match,
      host,
      port,
      authenticate,
      username,
      password;

  try {
    CloudProxyManager.resolveProxy(sanitizedUrl, (err, value, authInfo) => {
      if (err) {
        cb(err);
      }

      if (value === 'DIRECT') {
        return cb(null, undefined);
      }

      /**
        Electron return: 'DIRECT' || 'PROXY [host]:port;PROXY [host]:port;...'
        Using a regex we separate out the host and port
        Having prototol in host is invalid (Should we strip-out the protocol for the user?)
      */
      // value = 'PROXY [http://0.0.0.0]:8080;DIRECT;PROXY 0.0.0.0:8081'
      match = value.match(regexes.hostPortMatcher);

      if (!match) {
        // System proxy defined has invalid syntax
        pm.logger.warn('getSystemProxy - System proxy defined has invalid syntax');
        return cb(null, undefined);
      }

      host = match[2];
      port = parseInt(match[3], 10);
      if (authInfo) {
        authenticate = true;
        username = authInfo.username;
        password = authInfo.password;
      }

      return cb(null, new ProxyConfig({
        host: host,
        port: port,
        protocols: [protocol],
        authenticate: authenticate,
        username: username,
        password: password
      }));
    });
  }
  catch (e) {
    return cb(e);
  }
};
const _ = require('lodash'),
  fs = require('fs'),
  async = require('async'),
  https = require('https'),
  windowManager = require('../../services/windowManager').windowManager,
  { getConfig } = require('../../services/AppConfigService'),
  { shell } = require('electron'),
  sh = require('shelljs'),
  osTypes = { // allowed types of OS i.e. MACOS/LINUX/WINDOWS
    MACOS: 'MACOS',
    LINUX: 'LINUX',
    WINDOWS: 'WINDOWS'
  };

var interceptorDependenciesManifest,
  currentOS,
  self;

/**
 * fixed os-specific path to native messaging host location where manifest is added,
 * in case of windows, the manifest file can be located anywhere in the file system.
 * the native messaging host must create a registry key.
 *
 * Learn more: https://developer.chrome.com/apps/nativeMessaging
 */
const nativeMessagingHosts = {
    MACOS: '/Library/Application Support/Google/Chrome/NativeMessagingHosts/',
    LINUX: '/.config/google-chrome/NativeMessagingHosts/',
    WINDOWS: 'HKCU\\Software\\Google\\Chrome\\NativeMessagingHosts\\'
  },

  /**
   * Categorizing the installation and download errors into four major sub types based on their resolution steps.
   *
   * Note: This will be used to map the manual resolution steps mentioned in troubleshooting doc
   * Link: https://go.pstmn.io/interceptor-installation-troubleshooting
   */
  errorSubTypes = {
    chromeNotInstalled: 'CHROME_NOT_INSTALLED',
    internetConnectivity: 'INTERNET_CONNECTIVITY',
    registryAccessNeeded: 'REGISTRY_ACCESS_NEEDED',
    permissionRequired: 'FILE_PERMISSIONS_REQUIRED'
  };

/**
 * returns the current OS where process is running.
 * returns null if the  current OS is not present in osTypes
 * @returns {string} returns either MACOS/LINUX/WINDOWS or null
 */
function getCurrentOS () {
  switch (process.platform) {
    case 'darwin':
      return osTypes.MACOS;
    case 'win32':
    case 'win64':
      return osTypes.WINDOWS;
    case 'linux':
      return osTypes.LINUX;
    default:
      return null;
  }
}

currentOS = getCurrentOS();

self = exports.utils = {

  currentOS, // as it's used at other places

  /**
   * @returns {string} current user's home directory
   */
  getUserHome: function () {
    return process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'];
  },

  /**
   * used to fetch JSON containing platform specific URLs/Hashes to download Interceptor Dependencies
   * @param {Function} callback
   * @returns {Object} a JSON object containing platform specific URLs/Hashes to download Interceptor Dependencies
   */
  fetchInterceptorDependenciesManifest: function (callback) {
    const request = require('request');

    request(getConfig('__WP_INTERCEPTOR_DEPENDENCIES_DOWNLOAD_URL__'), function (error, response) {
      if (error) {
        pm.logger.error('Interceptor ~ Dependencies: Download failed', error);
        var err = new Error('Error occurred while downloading Interceptor Dependencies');
        err.type = 'download';
        err.subType = errorSubTypes.internetConnectivity;
        console.log('Error occurred while downloading Interceptor Dependencies: ', error);
        return callback(err);
      }
      try {
        interceptorDependenciesManifest = JSON.parse(response.body).platform[currentOS];
      }
      catch (err) {
        pm.logger.error('Interceptor ~ Dependencies: Unable to parse JSON', err);
        err.type = 'download';
        return callback(err);
      }
      return callback(null, interceptorDependenciesManifest);
    });
  },

  /**
   * Compares the expected hash and computed hash for given file
   * used to check integrity for downloaded interceptor dependencies
   * returns true if expected and computed hash match otherwise false
   *
   * @param {String} expectedSHA256Hash hash received from Interceptor Bridge dependency JSON
   * @param {String} filePath path of file whose hash to be compared
   * @param {Function} callback
   * @returns {Boolean} true / false
   */
  compareSHA256Hash: function (expectedSHA256Hash, filePath, callback) {
    var computedSHA256Hash = require('crypto').createHash('sha256');
    try {
      var stream = fs.ReadStream(filePath);
    }
    catch (err) {
      console.log('Error occurred while creating stream');
      return callback(err);
    }

    stream.on('data', function (data) {
      computedSHA256Hash.update(data);
    });

    stream.on('end', function () {
      computedSHA256Hash = computedSHA256Hash.digest('hex');
      if (computedSHA256Hash === expectedSHA256Hash) {
        console.log('Computed hash is matched successfully');
        return callback(null, true);
      }
      else {
        console.log('Computed hash and expected hash are not same');
        return callback(null, false);
      }
    });

    stream.on('error', function (err) {
      console.log('Error occurred while generating hash using SHA256', err);
      return callback(new Error('Error occurred while generating hash'));
    });
  },

  /**
   * creates `~/Downloads` directory if not present.
   * used in case of macOS while downloading Node installer
   * it gets downloaded in `~/Downloads` folder
   *
   * @param {Function} callback
   * @returns {String} absolute path to `Downloads` folder
   */
  createDownloadsDirectory: function (callback) {
    // Node installer will be downloaded at this path
    var directoryPath = self.getUserHome() + '/Downloads/';

    // creating `~/Downloads` folder, if it doesn't exist
    fs.stat(directoryPath, function (err) {
      if (err) {
        if (err.code === 'ENOENT') {
          // folder not found, need to create
          fs.mkdir(directoryPath, (err) => {
            if (err) {
              pm.logger.error('Interceptor ~ Node: Unable to create Downloads directory', err);
              err.type = 'installation';
              err.subType = errorSubTypes.permissionRequired;
              err.message = 'Error occurred in creating ~/Downloads folder';
              console.log('Error occurred in creating ~/Downloads folder');
              return callback(err);
            }
            return callback(null, directoryPath);
          });
        }
        else {
          pm.logger.error('Interceptor ~ Node: Unable to access Downloads directory', err);
          err.type = 'installation';
          err.subType = errorSubTypes.permissionRequired;
          err.message = 'Error occurred while checking existence of ~/Downloads folder';
          console.log('Error occurred while checking existence of ~/Downloads folder', err);
          return callback(err);
        }
      }
      else {
        // `~/Downloads` folder exists, checking for write access
        fs.access(directoryPath, fs.constants.W_OK, (err) => {
          if (err) {
            pm.logger.error('Interceptor ~ Node: Unable to access Downloads directory', err);
            console.log('Do not have write access for ~/Downloads folder');
            err.type = 'installation';
            err.subType = errorSubTypes.permissionRequired;
            err.message = 'Error occurred while accessing ~/Downloads folder';
            return callback(err);
          }
          else {
            return callback(null, directoryPath);
          }
        });
      }
    });
  },

  /**
   * fetches JSON containing URLs (along with hashes) to download
   * Interceptor Dependencies if it's not already fetched
   * otherwise returns the node installer URLs and SHA256 hash
   * from already fetched Interceptor Dependencies manifest
   *
   * @param {Function} callback
   * @returns an object containing download URL and SHA256 hash for Node installer,
   * which is used to download node installer and check its integrity
   */
  getNodeInstallerDependencies: function (callback) {

    if (!interceptorDependenciesManifest) {
      self.fetchInterceptorDependenciesManifest((err, res) => {
        if (err) {
          return callback(err);
        }
        return callback(null, res.nodeInstaller);
      });
    }
    else {
      return callback(null, interceptorDependenciesManifest.nodeInstaller);
    }
  },

  /**
   * It's called with node installer dependencies (i.e. url, sha256hash),
   * downloads the node installer at `~/Downloads` folder
   *
   * Note: In main, async v1.5.x uses callback as first argument
   *
   * @param {Function} callback
   * @param {Object} dependencies contains download URL and SHA256 hash for node installer
   * @returns {String} path to the downloaded node installer
   */
  downloadNodeInstaller: function (callback, dependencies) {
    // extracting the filename from URL
    var fileName = dependencies.installationDependencies.downloadURL.substring(dependencies.installationDependencies.downloadURL.lastIndexOf('/') + 1),
      file,
      filePath,
      req;
    if (!fileName) {
      fileName = 'node_installer.pkg'; // default filename
    }

    filePath = dependencies.downloadDirectoryPath + fileName;

    req = https.get(dependencies.installationDependencies.downloadURL, function (res) {
      console.log('Downloading Node installer...');
      if (res.statusCode === 200) {
        try {
          file = fs.createWriteStream(filePath);
          res.pipe(file);
        }
        catch (err) {
          pm.logger.error('Interceptor ~ Node: Unable to create write stream', err);
          err.type = 'installation';
          err.subType = errorSubTypes.permissionRequired;
          file.end();
          return callback(err);
        }
        file.on('finish', function () {
          console.log('Node is downloaded at location: ', filePath);
          file.end();
          return callback(null, filePath);
        });
      }
      else {
        file.end();
        pm.logger.error('Interceptor ~ Node: Download failed', res.statusCode);
        var err = new Error('Error occurred while downloading Node installer');
        err.type = 'download';
        err.subType = errorSubTypes.internetConnectivity;
        return callback(err);
      }
    });
    req.on('error', function (err) {
      pm.logger.error('Interceptor ~ Node: Download failed', err);
      console.log('Error occurred while downloading Node installer');
      err.type = 'download';
      err.subType = errorSubTypes.internetConnectivity;
      return callback(err);
    });
  },


  /**
   * checks for integrity of node installer,
   * returns true if integrity check is success,
   * returns a `download` error if check fails and removes corrupted download
   *
   * @param {String} sha256hash expected hash received in interceptor dependencies manifest
   * @param {String} filePath path to the  node installer
   * @param {Function} callback
   */
  checkIntegrityForDownloadedNodeInstaller: function (sha256hash, filePath, callback) {
    try {
      self.compareSHA256Hash(sha256hash, filePath, (err, integrityCheckResult) => {
        if (err) {
          pm.logger.error('Interceptor ~ Node: Integrity check failed', err);
          err.type = 'download';
          console.log('The integrity check for the Node installer failed');
          return callback(err);
        }
        else if (integrityCheckResult) {
          console.log('Node Installer is downloaded successfully');
          return callback(null, true);
        }
        else if (!integrityCheckResult) {
          pm.logger.error('Interceptor ~ Node: Integrity check failed');
          var err = new Error('The integrity check for the Node installer failed');
          err.type = 'download';
          console.log('The integrity check for the Node installer failed');
          return self.removeCorruptedDependency(err, filePath, callback);
        }
      });
    }
    catch (err) {
      pm.logger.error('Interceptor ~ Node: Download failed', err);
      err.type = 'download';
      err.subType = errorSubTypes.internetConnectivity;
      console.log('Error occurred while downloading the Node installer');
      return callback(err);
    }
  },

  /**
   * registers a listener to check for existence of node for 2 minutes in interval of 2 sec
   * emits an event `nodeInstallationStatusUpdate: installationFinished` (2 sec after the node is found)
   * to notify renderer whether installation is finished or not
   */
  registerCheckNodeInstallationStatusListener: function () {
    var checkNodeInstallationStatusInterval = setInterval(function () {

      // sending installation finished event after 2 sec of wait
      self.checkNodeInstallationStatus((err, res) => {
        if (res.installed) {
          setTimeout(function () {
            windowManager.sendInternalMessage({
              'event': 'nodeInstallationStatusUpdate',
              'object': {
                status: 'installationFinished'
              }
            });
          }, 2000);

          clearInterval(checkNodeInstallationStatusInterval);
          clearTimeout(checkNodeInstallationStatusTimeout);
        }
      });
    }, 2000);

    // wait for max 2 mins for users to install node
    var checkNodeInstallationStatusTimeout = setTimeout(function () {
      windowManager.sendInternalMessage({
        'event': 'nodeInstallationStatusUpdate',
        'object': {
          status: 'installationNotFinished'
        }
      });
      console.log('Node installation is not finished');
      clearInterval(checkNodeInstallationStatusInterval);
    }, 2 * 60 * 1000);
  },

  /**
   * Initiates node installation by opening the node installer if integrity checks are passed,
   * otherwise returns an `installation` error.
   * it also registers a listener to check if the node installation is finished or not
   *
   * @param {Function} callback
   * @param {Object} dependencies contains node installation dependencies (url, sha256 hash) and path to downloaded node installer
   */
  initiateNodeInstallation: function (callback, dependencies) {
    self.checkIntegrityForDownloadedNodeInstaller(dependencies.installationDependencies.sha256hash, dependencies.nodeInstallerPath, (err, res) => {
      if (err) {
        return callback(err);
      }
      if (res) {
        try {
          // integrity checked passed, waiting for installation to be finished
          windowManager.sendInternalMessage({
            'event': 'nodeInstallationStatusUpdate',
            'object': {
              status: 'downloadFinished'
            }
          });

          // opens the node installer
          // shell.openItem is deprecated from electron v9, hence changed to shell.openPath
          // https://github.com/electron/governance/blob/master/wg-api/spec-documents/shell-openitem.md
          shell.openPath(dependencies.nodeInstallerPath).then((errorMessage) => {
            if (errorMessage) {
              pm.logger.error(`Interceptor ~ Node: Failed to open logs folder ${errorMessage}`);
            }
          });
        }
        catch (err) {
          pm.logger.error('Interceptor ~ Node: Installation failed', err);
          err.type = 'installation';
          err.subType = errorSubTypes.permissionRequired;
          return callback(err);
        }

        // registering a listener to check installation is finished or not
        self.registerCheckNodeInstallationStatusListener();
      }
      return callback(null);
    });
  },

  /**
   * checks for presence of node at,
   *
   * 1. '/usr/local/bin/node'
   * 2. '/usr/local/node'
   * 3. nvm based location ($NVM_BIN)
   *
   * @param {Function} callback
   * @returns {Object} contains installed: T/F, path to node
   */
  checkNodeInstallationStatus: function (callback) {
    var nodePaths = [
      '/usr/local/bin/node',
      '/usr/bin/node'
    ],
    nvmVersionsPath,
    foundNodePath,
    majorVersion,
    result = {
      installed: false
    };

    // check for non-nvm or symlinked node binaries
    for (var index = 0; index < nodePaths.length; index++) {
      if (fs.existsSync(nodePaths[index])) {
        result = {
          installed: true,
          path: nodePaths[index]
        };
        return callback(null, result);
      }
    }

    // node not found at hard-coded locations
    // check for HOME/.nvm
    nvmVersionsPath = self.getUserHome() + '/.nvm/versions/node';
    async.waterfall([
      // 1. look for all the version folders in the nvmVersionsPath directory
      async.apply(fs.readdir, nvmVersionsPath),

      // 2. look for a compatible version, return node binary path if found
      (directories, cb) => {
        _.each(directories, (nodeVersion) => {
          // checking if major version of node is >= 6
          majorVersion = parseInt(nodeVersion.substring(1, nodeVersion.indexOf('.')));
          if (!isNaN(majorVersion) && majorVersion >= 6) {
            foundNodePath = nvmVersionsPath + '/' + nodeVersion + '/bin/node';
            if (fs.existsSync(foundNodePath)) {
              return cb(null, foundNodePath);
            }
          }

          // not checking for the else clause
          // because some other version folder might have node
        });
        return cb('No node installation found in ' + nvmVersionsPath);
      }
    ], (err, nodePath) => {
      if (err) {
        // no compatible version of node found, or no nvm exists
        result = { installed: false };
      }
      else {
        // found an nvm node binary :)
        result = {
          installed: true,
          path: nodePath
        };
      }
      callback(null, result);
    });
  },

  /**
   * creates `$HOME/.postman/InterceptorBridge` directory for macOS, Linux
   * `%USERPROFILE%/.postman/InterceptorBridge` for Windows if it doesn't exist
   * @param {Function} callback
   * @returns {String} returns path of created InterceptorBridge directory
   */
  createPostmanInterceptorBridgeDirectory: function (callback) {
    var path = self.getUserHome(),
    folderName = 'InterceptorBridge',
    errObj;

    if (currentOS === 'MACOS') {
      path += '/.postman/';
    }
    else if (currentOS === 'WINDOWS') {
      path += '\\.postman\\';
    }
    else if (currentOS === 'LINUX') {
      path += '/.postman/';
    }
    else {
      console.log('Current OS is not supported');
      pm.logger.error('Interceptor ~ Bridge: Unsupported OS type');
      errObj = new Error('Current OS is not supported');
      errObj.type = 'installation';
      return callback(errObj);
    }

    // .postman folder does not exist
    if (!fs.existsSync(path)) {
      // creating .postman folder
      fs.mkdir(path, (err) => {
        if (err) {
          console.log('Error occurred while creating .postman directory');
          pm.logger.error('Interceptor ~ Bridge: Unable to create .postman directory', err);
          errObj = new Error('Error occurred while creating .postman directory');
          errObj.type = 'installation';
          errObj.subType = errorSubTypes.permissionRequired;
          return callback(errObj);
        }

        // creating InterceptorBridge folder
        fs.mkdir(path + folderName, (err) => {
          if (err) {
            console.log('Error occurred while creating InterceptorBridge folder');
            pm.logger.error('Interceptor ~ Bridge: Unable to create InterceptorBridge folder', err);
            errObj = new Error('Error occurred while creating InterceptorBridge folder');
            errObj.type = 'installation';
            errObj.subType = errorSubTypes.permissionRequired;
            return callback(errObj);
          }

          return callback(null, require('path').join(path, folderName));
        });
      });
    }
    else {
      // .postman folder exists, checking for InterceptorBridge folder
      if (!fs.existsSync(path + folderName)) {
        // creating InterceptorBridge folder if it doesn't exists
        fs.mkdir(path + folderName, (err) => {
          if (err) {
            console.log('Error occurred while creating InterceptorBridge folder: ', err.message);
            pm.logger.error('Interceptor ~ Bridge: Unable to create InterceptorBridge folder', err);
            errObj = new Error('Error occurred while creating InterceptorBridge folder: ', err.message);
            errObj.type = 'installation';
            errObj.subType = errorSubTypes.permissionRequired;
            return callback(errObj);
          }
          return callback(null, require('path').join(path, folderName));
        });
      }
      else {
        // Interceptor Bridge exists
        return callback(null, require('path').join(path, folderName));
      }
    }
  },

  /**
   * returns the filename of InterceptorBridge for different OS
   * MACOS/LINUX: 'InterceptorBridge'
   * WINDOWS: 'InterceptorBridge.exe'
   * returns null for any OS other than these three
   */
  getInterceptorBridgeFileName: function () {
    switch (currentOS) {
      case 'MACOS':
        return 'InterceptorBridge';
      case 'WINDOWS':
        return 'InterceptorBridge.exe';
      case 'LINUX':
        return 'InterceptorBridge';
      default:
        return null;
    }
  },

  /**
   * downloads Interceptor Bridge at given filePath
   * throws an error if node is not found (only in case of macOS)
   *
   * checks integrity of downloaded interceptor bridge,
   * throws an error if integrity checks fail
   * and removes the corrupted download
   *
   * @param {Function} callback
   * @param {Object} dependencies contains interceptor bridge dependencies (URLs, sha56hashes),
   * absolute path to Interceptor Bridge directory, nodeInstalled status(T/F, path to node binary),
   * @returns {String} absolute path to the downloaded interceptor bridge
   */
  downloadInterceptorBridge: function (callback, dependencies) {
    var fileName,
      filePath,
      macOSActualFilePath,
      file,
      errObj;

    // first checking for node as it's required to execute InterceptorBridge in case of macOS
    if (!dependencies.nodeInstalledStatus.installed && currentOS === 'MACOS') {
      errObj = new Error('Node is required to execute Interceptor Bridge');
      errObj.type = 'nodeRequired';
      return callback(errObj);
    }

    fileName = self.getInterceptorBridgeFileName();
    if (!fileName) {
      return callback(new Error('Current OS is not supported'));
    }

    // absolute path to the Interceptor Bridge
    filePath = dependencies.interceptorBridgeDirectoryPath + '/' + fileName;

    if (currentOS === 'MACOS') {
      // the bridge is a .js file
      // we're creating a template to which the shebang line needs to be prepended

      // this is where the new file needs to be saved (after adding the shebang line)
      macOSActualFilePath = filePath;

      // this is where the template file is saved
      filePath += '.template';
    }

    // checking if the Interceptor Bridge already exists
    if (fs.existsSync(filePath)) {
      try {
        // in windows, unable to overwrite the existing bridge
        fs.unlinkSync(filePath);
      }
      catch (err) {
        // close chrome, process is already opened, these errors are added troubleshooting doc
        console.log('InterceptorBridge already exists. Please delete ' + filePath);
        pm.logger.error('Interceptor ~ Bridge: Unable to delete existing Interceptor Bridge', err);
        errObj = new Error(err);
        errObj.type = 'installation';
        errObj.subType = errorSubTypes.permissionRequired;
        return callback(errObj);
      }
    }

    try {
      file = fs.createWriteStream(filePath);
    }
    catch (err) {
      console.log('Error occurred in creating write stream to ' + filePath);
      pm.logger.error('Interceptor ~ Bridge: Unable to create write stream', err);
      errObj = new Error('Error occurred in creating write stream to ' + filePath);
      errObj.type = 'installation';
      errObj.subType = errorSubTypes.permissionRequired;
      return callback(errObj);
    }

    // downloading interceptor bridge from given download url
    var req = https.get(dependencies.interceptorDependencies.interceptorBridge.downloadURL, function (res) {
      console.log('Downloading Interceptor Bridge...');
      if (res.statusCode === 200) {
        res.pipe(file);
        file.on('finish', function () {
          file.end();

          // checking for integrity of downloaded Interceptor Bridge
          self.compareSHA256Hash(dependencies.interceptorDependencies.interceptorBridge.sha256hash, filePath, (err, integrityCheckResult) => {
            if (err) {
              pm.logger.error('Interceptor ~ Bridge: Integrity check failed', err);
              err.type = 'download';
              return callback(err);
            }
            if (integrityCheckResult) {
              console.log('Integrity checks for InterceptorBridge have passed successfully');
              if (currentOS === 'MACOS') {
                // adding shebang line is required only in case of MACOS
                self.addShebangLineToInterceptorBridge(dependencies.nodeInstalledStatus, filePath, macOSActualFilePath, (err, res) => {
                  if (err) {
                    return callback(err);
                  }

                  try {
                    // making it an executable
                    fs.chmodSync(macOSActualFilePath, 0o755);

                    // emitting `downloadFinished` event to the renderer
                    windowManager.sendInternalMessage({
                      'event': 'interceptorBridgeInstallationStatusUpdate',
                      'object': {
                        status: 'downloadFinished'
                      }
                    });
                    return callback(null, macOSActualFilePath);
                  }
                  catch (error) {
                    console.log('Something went wrong while modifying the permission of InterceptorBridge');
                    pm.logger.error('Interceptor ~ Bridge: Unable to modify the permission of Interceptor Bridge', error);
                    error.type = 'installation';
                    error.subType = errorSubTypes.permissionRequired;
                    return callback(error);
                  }

                });
              }
              else {
                try {
                  // making it an executable
                  fs.chmodSync(filePath, 0o755);

                  windowManager.sendInternalMessage({
                    'event': 'interceptorBridgeInstallationStatusUpdate',
                    'object': {
                      status: 'downloadFinished'
                    }
                  });
                  console.log('Interceptor Bridge is downloaded at location: ', filePath);
                  return callback(null, filePath);
                }
                catch (err) {
                  console.log('Something went wrong while modifying the permission of InterceptorBridge');
                  pm.logger.error('Interceptor ~ Bridge: Unable to modify the permission of Interceptor Bridge', err);
                  errObj = new Error('Something went wrong while modifying the permission of InterceptorBridge');
                  errObj.type = 'installation';
                  errObj.subType = errorSubTypes.permissionRequired;
                  return callback(errObj);
                }
              }
            }
            else {
              console.log('Integrity check for Interceptor Bridge failed');
              pm.logger.error('Interceptor ~ Bridge: Integrity check failed');
              errObj = new Error('Integrity check for Interceptor Bridge failed');
              errObj.type = 'download';
              return self.removeCorruptedDependency(errObj, filePath, callback);
            }
          });
        });
      }
      else {
        pm.logger.error('Interceptor ~ Bridge: Download failed', res.statusCode);
        errObj = new Error('Error occurred while downloading InterceptorBridge');
        errObj.type = 'download';
        errObj.subType = errorSubTypes.internetConnectivity;
        return callback(errObj);
      }
    });
    req.on('error', function (err) {
      console.log('Error occurred while downloading InterceptorBridge from given URL');
      pm.logger.error('Interceptor ~ Bridge: Download failed', err);
      errObj = new Error('Error occurred while downloading InterceptorBridge from given URL');
      errObj.type = 'download';
      errObj.subType = errorSubTypes.internetConnectivity;
      return callback(errObj);
    });
  },

  /**
   * adds shebang line (path to node binary) in the beginning of Interceptor Bridge JS file
   * required only in case of macOS as the Interceptor Bridge uses machine's node to execute itself
   * See this at: https://postmanlabs.atlassian.net/wiki/spaces/PRODOPS/pages/1651216733/Notarization+of+Interceptor+Bridge
   *
   * @param {Object} nodeInstalledStatus contains node path, installed: T/F
   * @param {String} interceptorBridgeTemplatePath path to the Interceptor Bridge executable template (without the shebang)
   * @param {String} interceptorBridgePath path where the Interceptor Bridge executable is to be saved
   * @param {Function} callback
   * @returns {Boolean} true if shebang line is added successfully otherwise returns an installation error
   */
  addShebangLineToInterceptorBridge: function (nodeInstalledStatus, interceptorBridgeTemplatePath, interceptorBridgePath, callback) {
    if (nodeInstalledStatus.installed) {
      var shebangLine = '#!' + nodeInstalledStatus.path,
        readStream,
        writeStream,
        errObj;

      try {
        if (fs.existsSync(interceptorBridgePath)) {
          fs.unlinkSync(interceptorBridgePath);
        }
        readStream = fs.createReadStream(interceptorBridgeTemplatePath);
        writeStream = fs.createWriteStream(interceptorBridgePath);
      }
      catch (err) {
        console.log('Error occurred while creating streams');
        pm.logger.error('Interceptor ~ Bridge: Unable to add shebang line', err);
        errObj = new Error('Error occurred while creating streams');
        errObj.type = 'installation';
        errObj.subType = errorSubTypes.permissionRequired;
        return callback(errObj);
      }

      // adding shebang line at the beginning of file
      writeStream.write(shebangLine + '\n');

      readStream.on('data', (chunk) => {
        writeStream.write(chunk);
      });
      readStream.on('end', () => {
        readStream.destroy();
        writeStream.end();
        console.log('Interceptor Bridge is downloaded at location: ', interceptorBridgePath);
        return callback(null, true);
      });
      readStream.on('error', function (err) {
        console.log('Error occurred while reading stream', err);
        pm.logger.error('Interceptor ~ Bridge: Unable to add shebang line', err);
        errObj = new Error('Something went wrong while reading stream');
        errObj.type = 'installation';
        errObj.subType = errorSubTypes.permissionRequired;
        return callback(errObj);
      });
    }
    else {
      errObj = new Error('Node is required to execute Interceptor Bridge');
      errObj.type = 'nodeRequired';
      return callback(errObj);
    }
  },

  /**
   * creates manifest with Interceptor chrome extension Id
   * and path to Interceptor Bridge.
   * Learn more: https://developer.chrome.com/apps/nativeMessaging
   *
   * @param {Function} callback
   * @param {Object} manifestDependencies contains path to Interceptor Bridge executable
   */
  createManifest: function (callback, manifestDependencies) {
    var manifest = {
      'name': getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__'),
      'description': 'Native Messaging Host for Postman Native App <> Interceptor Integration',
      'path': manifestDependencies.interceptorBridgeFilePath,
      'type': 'stdio',
      'allowed_origins': ['chrome-extension://' + getConfig('__WP_INTERCEPTOR_APP_ID__') + '/']
    };
    console.log('Interceptor manifest being installed: ' + JSON.stringify(manifest, null, 2));
    return callback(null, manifest);
  },

  /**
   * adds manifest at os-specific location:
   * MACOS: `~/Library/Application Support/Google/Chrome/NativeMessagingHosts/`,
   * LINUX: `~/.config/google-chrome/NativeMessagingHosts/`,
   * WINDOWS: `%USERPOFILE%\\.postman\\InterceptorBridge\\`
   *
   * Learn more: https://developer.chrome.com/apps/nativeMessaging
   *
   * @param {Function} callback
   * @param {Object} dependencies contains manifest dependencies
   * @returns {Boolean} true if installed else error
   */
  installManifest: function (callback, dependencies) {
    console.log('Installing manifest for Native App ~ Interceptor Integration');
    if (!currentOS) {
      return callback(new Error('Current OS not supported'));
    }

    var path = self.getUserHome();
    if (currentOS === 'MACOS') {
      path += nativeMessagingHosts.MACOS;
    }
    else if (currentOS === 'LINUX') {
      path += nativeMessagingHosts.LINUX;
    }
    else if (currentOS === 'WINDOWS') {
      path += '\\.postman\\InterceptorBridge\\';
    }
    else {
      return callback(new Error('Current OS: ' + currentOS + ' is not supported'));
    }

    path += dependencies.manifest.name + '.json';

    windowManager.sendInternalMessage({
      'event': 'interceptorBridgeInstallationStatusUpdate',
      'object': {
        status: 'installationStarted'
      }
    });

    try {
      fs.writeFileSync(path, JSON.stringify(dependencies.manifest, null, 2));
    }
    catch (err) {
      console.log(err);
      pm.logger.error('Interceptor ~ Bridge: Unable to add manifest', err);
      err.message = 'Error occurred while writing manifest';
      err.type = 'installation';
      if (err.code === 'ENOENT') {
        // NativeMessagingHosts folder is absent, chrome might not be installed
        err.subType = errorSubTypes.chromeNotInstalled;
      }
      else {
        // doesn't have required permission to add manifest
        err.subType = errorSubTypes.permissionRequired;
      }
      return callback(err);
    }
    windowManager.sendInternalMessage({
      'event': 'interceptorBridgeInstallationStatusUpdate',
      'object': {
        status: 'manifestAdded'
      }
    });
    console.log('Manifest installed to ' + path);
    return callback(null, true);
  },

  /**
   * adds registry key (only in case of windows) at `HKCU\\Software\\Google\\Chrome\\NativeMessagingHosts\\`
   * Learn more: https://developer.chrome.com/apps/nativeMessaging
   *
   * @param {Function} callback
   */
  addRegistryKey: function (callback) {

    // Adding registry key is only required for Windows
    if (currentOS === 'WINDOWS') {

      sh.exec('REG ADD "' + nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '" /ve /t REG_SZ /d "%USERPROFILE%\\.postman\\InterceptorBridge\\' + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '.json" /f', function (code, stdout, stderr) {
        if (code !== 0) {
          pm.logger.error('Interceptor ~ Bridge: Unable to add registry key', stderr);
          var errObj = new Error('Error occurred while adding registry key: ', stderr);
          errObj.type = 'installation';
          errObj.subType = errorSubTypes.registryAccessNeeded;
          return callback(errObj);
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'interceptorBridgeInstallationStatusUpdate',
            'object': {
              status: 'registryKeyAdded'
            }
          });
          console.log('Registry key is added successfully');
          return callback(null);
        }
      });
    }
    else {
      return callback(null);
    }
  },

  /**
   * Checks for the existence of the manifest
   * @returns {boolean} T/F
   */
  checkManifestInstallation: function () {
    // path to manifest
    var path = self.getUserHome(),
      filename = getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '.json';
      path += nativeMessagingHosts[currentOS];

    if (fs.existsSync(path + filename)) {
      return true;
    }
    else {
      return false;
    }
  },

  /**
   * Checks for the presence of Interceptor bridge
   * by reading the path from the manifest
   *
   * @param {boolean} isManifestInstalled T/F
   * @param {Function} callback
   * @returns {Object} contains bridge, manifest installation status
   */
  checkInterceptorBridgeInstallation: function (isManifestInstalled, callback) {
    var path = self.getUserHome(),
      manifest,
      hostPath,
      installationStatus = {},
      filename = getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '.json';

    if (currentOS === 'WINDOWS') {
      path += '/.postman/InterceptorBridge/'; // manifest's location for Windows
    }
    else {
      path += nativeMessagingHosts[currentOS]; // manifest's location for macOS, Linux
    }

    if (isManifestInstalled) {
      fs.readFile(path + filename, 'utf8', function (err, data) {
        if (err) {
          installationStatus.isManifestInstalled = false;
          installationStatus.isBridgeInstalled = false;
        }
        else {
          try {
            manifest = JSON.parse(data);
            installationStatus.isManifestInstalled = true;
            hostPath = manifest.path;

            if (fs.existsSync(hostPath)) {
              installationStatus.isBridgeInstalled = true;
            }
            else {
              installationStatus.isBridgeInstalled = false;
            }
          }
          catch (err) {
            installationStatus.isManifestInstalled = false;
            installationStatus.isBridgeInstalled = false;
            return callback(err);
          }
        }
        return callback(null, installationStatus);
      });
    }
    else {
      installationStatus.isBridgeInstalled = false;
      installationStatus.isManifestInstalled = false;
      return callback(null, installationStatus);
    }
  },


  /**
   * checks installation status for Linux:
   * 1. manifest at location : `~/.config/google-chrome/NativeMessagingHosts/`
   * 2. interceptor bridge at `~/.postman/InterceptorBridge`
   */
  checkInstallationStatusForLinux: function () {
    var installationStatus = {},
    isManifestInstalled = self.checkManifestInstallation;

    self.checkInterceptorBridgeInstallation(isManifestInstalled, (err, res) => {
      if (err) {
        console.log('Error while checking the installation status', err);
      }
      else {
        installationStatus = {
          platformSpecific: {
            os: 'LINUX'
          },
          manifestAdded: res.isManifestInstalled,
          interceptorBridgeInstalled: res.isBridgeInstalled
        };

        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeInstallationStatusResponse',
          'object': {
            'status': installationStatus
          }
        });
      }
    });
  },

  /**
   * checks installation status for macOS:
   * 1. presence of node
   * 2. manifest at location : `~/Library/Application Support/Google/Chrome/NativeMessagingHosts`
   * 3. interceptor bridge at `~/.postman/InterceptorBridge`
   *
   */
  checkInstallationStatusForMacOS: function () {
    var installationStatus = {},
      isManifestInstalled = self.checkManifestInstallation();

    async.auto({
      nodeInstallation: self.checkNodeInstallationStatus,
      status: async.apply(self.checkInterceptorBridgeInstallation, isManifestInstalled)
    }, (err, res) => {
      if (err) {
        console.log('Error while checking the installation status:', err);
      }
      else {
        installationStatus = {
          platformSpecific: {
            nodeInstalled: res.nodeInstallation.installed,
            nodePath: res.nodeInstallation.path,
            os: 'MACOS'
          },
          manifestAdded: res.status.isManifestInstalled,
          interceptorBridgeInstalled: res.status.isBridgeInstalled
        };

        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeInstallationStatusResponse',
          'object': {
            'status': installationStatus
          }
        });
      }
    });
  },

  /**
   * checks installation status for Windows:
   * 1. registry key : `HKCU\\Software\\Google\\Chrome\\NativeMessagingHosts\\`
   * 2. manifest at location : `%USERPROFILE%\\.postman\\InterceptorBridge\\`
   * 3. interceptor bridge at `%USERPROFILE%\\.postman\\InterceptorBridge\\`
   *
   */
  checkInstallationStatusForWindows: function () {
    var installationStatus = {};

    sh.exec('REG QUERY ' + nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__'), function (code, stdout, stderr) {
      if (code !== 0) {
        installationStatus.platformSpecific = {
          os: 'WINDOWS',
          registryKeyAdded: false
        };
        console.log('Error occurred while querying registry key: ', stderr);

        // we cannot check for presence of manifest and Interceptor Bridge
        installationStatus.manifestAdded = false;
        installationStatus.interceptorBridgeInstalled = false;
        windowManager.sendInternalMessage({
          'event': 'interceptorBridgeInstallationStatusResponse',
          'object': {
            'status': installationStatus
          }
        });
      }
      else {
        var regKey,
          pathToManifest;
        if (stdout) {

          /**
           * REG QUERY returns a string containing key and value(name, type, data) similar like below
           * so it's need to be sanitized
           *
           * HKEY_CURRENT_USER\Software\Google\Chrome\NativeMessagingHosts\com.postman.postmanapp
           * (Default)    REG_SZ    C:\Users\Postman\PostmanInterceptorBridge\com.postman.postmanapp.json
           *
           * Link : https://regex101.com/r/tX8vBa/1l
           *
           */

          var regKey = stdout.trim().split('REG_SZ');

          // removes new lines, carriage returns
          regKey = regKey.filter((key) => key.trim().replace('/\r?\n|\r/g', '').length !== 0);
          if (regKey.length >= 1) {
            try {
              pathToManifest = regKey[1].trim();
              installationStatus.platformSpecific = {
                os: 'WINDOWS',
                registryKeyAdded: true
              };
              console.log('Native App ~ Interceptor: Registry key exists');
            }
            catch (err) {
              // logging stdout to get better context of what went wrong
              console.log('Native App ~ Interceptor: Error occurred while querying registry key: ', err, stdout);
              installationStatus.platformSpecific = {
                os: 'WINDOWS',
                registryKeyAdded: false
              };
              console.log('Native App ~ Interceptor: Registry doesn\'t key exist: ', regKey);
            }
          }
          else {
            installationStatus.platformSpecific = {
              os: 'WINDOWS',
              registryKeyAdded: false
            };
            console.log('Native App ~ Interceptor: Registry doesn\'t key exist');
          }
        }
        else {
          installationStatus.platformSpecific = {
            os: 'WINDOWS',
            registryKeyAdded: false
          };
        }
        if (pathToManifest && fs.existsSync(pathToManifest)) {
          self.checkInterceptorBridgeInstallation(true, (err, res) => {
            if (err) {
              console.log('Error while reading manifest: ', err);
            }
            else {
              installationStatus.manifestAdded = res.isManifestInstalled;
              installationStatus.interceptorBridgeInstalled = res.isBridgeInstalled;

              windowManager.sendInternalMessage({
                'event': 'interceptorBridgeInstallationStatusResponse',
                'object': {
                  'status': installationStatus
                }
              });
            }
          });
        }
        else {
          installationStatus.manifestAdded = false;
          installationStatus.interceptorBridgeInstalled = false;

          windowManager.sendInternalMessage({
            'event': 'interceptorBridgeInstallationStatusResponse',
            'object': {
              'status': installationStatus
            }
          });
        }
      }
    });
  },

  /**
   * Recursively removes the files/folder inside `InterceptorBridge` directory.
   * 1. MacOS: `$HOME/.postman/InterceptorBridge`
   * 2. Linux: `$HOME/.postman/InterceptorBridge`
   * 3. Windows: `%USERPROFILE%/.postman/InterceptorBridge`
   *
   * `InterceptorBridge` folder should ideally contain:
   * 1. InterceptorBridge executable
   * 2. `logs/` folder
   * 3. InterceptorBridge.template (only in case of macOS)
   * 4. Manifest (only in case of Windows)
   *
   * @param {Function} callback
   *
   */
  removeInterceptorBridge: function (callback) {
    var interceptorBridgeDirectory = require('path').join(self.getUserHome(), '.postman', 'InterceptorBridge');
    sh.exec('rm -rf ' + interceptorBridgeDirectory, (code, stdout, stderr) => {
      if (code !== 0) {
        return callback(null, {
          error: true,
          message: `Could not remove "${interceptorBridgeDirectory}", please remove it manually`
        });
      }
      else {
        console.log(`${interceptorBridgeDirectory} is removed completely`);
        return callback(null, {
          error: false
        });
      }
    });
  },

  /**
   * removes channel specific manifest (say `com.postman.postmanapp.dev.json`) present at os-specific location:
   * 1. MacOS: `/Library/Application Support/Google/Chrome/NativeMessagingHosts/`
   * 2. Linux: `/.config/google-chrome/NativeMessagingHosts/`
   *
   * Note: Removal of manifest is part of removal of Interceptor Bridge folder
   * as it's present in the same folder i.e. `%USERPROFILE/.postman/InterceptorBridge`
   *
   * @param {Function} callback
   */
  removeManifest: function (callback) {
    var pathToManifest;
    if (currentOS === 'MACOS' || currentOS === 'LINUX') {
      pathToManifest = self.getUserHome() + nativeMessagingHosts[currentOS] + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '.json';
      fs.unlink(pathToManifest, (err) => {
        if (err && err.code !== 'ENOENT') { // ENOENT: no such file or directory
          console.log('Error occurred while removing manifest: ', err);
          return callback(null, {
            error: true,
            message: `Error occurred while removing manifest at "${pathToManifest}", please remove it manually`
          });
        }
        else {
          console.log('Manifest is removed successfully');
          return callback(null, {
            error: false
          });
        }
      });
    }
    else {
      // currentOS === 'WINDOWS'
      return callback(null, {
        error: false
      });
    }
  },

  /**
   * removes channel specific registry key (only in case of windows)
   * `HKCU\\Software\\Google\\Chrome\\NativeMessagingHosts\\com.postman.postmanapp.json`
   *
   * @param {Function} callback
   */
  removeRegistryKey: function (callback) {
    // Removing registry key is only required for Windows
    if (currentOS === 'WINDOWS') {
      sh.exec('REG DELETE "' + nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__') + '.json" /f', (code, stdout, stderr) => {
        if (code !== 0) {
          console.log(`Error occurred while removing ${nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__')} key`);
          return callback(null, {
            error: true,
            message: `Could not remove registry key "${nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__')}", please remove it manually`
          });
        }
        else {
          console.log(`Registry key ${nativeMessagingHosts.WINDOWS + getConfig('__WP_INTERCEPTOR_MANIFEST_FILENAME__')} is removed successfully`);
          return callback(null, {
            error: 'false'
          });
        }
      });
    }
    else {
      return callback(null, {
        error: false,
        message: 'The current OS does not support registry key'
      });
    }
  },

  /**
   * removes the file at given path
   * called when integrity check fails, it removes the corrupted download
   *
   * @param {Object} errObj errObj.type === 'download'
   * @param {String} filePath absolute path to the file to be removed
   * @param {Function} callback
   */
  removeCorruptedDependency (errObj, filePath, callback) {
    fs.unlink(filePath, (err) => {
      if (err) {
        console.log(`Error occurred while removing corrupted download at ${filePath} : ${err}`);
        return callback(errObj); // returning download error even if it's unable to remove
      }
      else {
        console.log(`Removed corrupted download at ${filePath}`);
        return callback(errObj);
      }
    });
  }
};
module.exports = {
  /**
   * @description It returns the value of the command line argument passed.
   * @returns {String | Boolean}
   */
  getValue: (argName) => {
    for (const arg of process.argv.slice(1)) {
      if (arg === `--${argName}`) {
        return true;
      } else if (arg.startsWith(`--${argName}=`)) {
        let argArr = arg.split('=');
        let value = '';
        if (argArr[1] !== '') {
          value = argArr.slice(1).join('=');
        }
        return value;
      }
    }
    return '';
  }
};
const electron = require('electron'),
  app = electron.app,
  { getConfig } = require('../../services/AppConfigService'),
  windowManager = require('../../services/windowManager').windowManager,
  sh = require('shelljs'),
  path = require('path'),
  sudo = require('sudo-prompt'),
  osTypes = { // allowed types of OS i.e. MACOS/LINUX/WINDOWS
    MACOS: 'MACOS',
    LINUX: 'LINUX',
    WINDOWS: 'WINDOWS'
  },
  PROMPT_OPTIONS = {
    name: 'Electron'
  },
  RELEASE_CHANNEL = getConfig('__WP_RELEASE_CHANNEL__'),
  proxyConstants = require('../../constants/ProxyConstants'),
  pathToLoginKeyChain = '~/Library/Keychains/login.keychain',
  winRegProxyAddr = 'HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings';

let currentOS,
  self,
  appFolder,
  pathToCertificate;

/**
 * returns the current OS where process is running.
 * returns null if the  current OS is not present in osTypes
 * @returns {string} returns either MACOS/LINUX/WINDOWS or null
 */
function getCurrentOS () {
  switch (process.platform) {
    case 'darwin':
      return osTypes.MACOS;
    case 'win32':
    case 'win64':
      return osTypes.WINDOWS;
    case 'linux':
      return osTypes.LINUX;
    default:
      return null;
  }
}

function getAppName () {
  return electron.app.getName();
}

/**
 * Returns the path to the proxy certificate
 */
function setPathToCertificate () {
  const rootCADir = path.resolve(app.getPath('userData'), 'proxy');

  pathToCertificate = path.resolve(rootCADir, `${proxyConstants.CA_SUFFIX_NAME}.crt`).replace(/ /g, '\\ ');
}

/**
 * fixed os-specific path to native messaging host location where manifest is added,
 * in case of windows, the manifest file can be located anywhere in the file system.
 * the native messaging host must create a registry key.
 *
 * Learn more: https://developer.chrome.com/apps/nativeMessaging
 */
const SYSTEM_APPDATA_DIRECTORY = {
  MACOS: `~/Library/Application\\ Support/${getAppName()}/`
},

/**
 * Categorizing the installation and download errors into four major sub types based on their resolution steps.
 *
 * Note: This will be used to map the manual resolution steps mentioned in troubleshooting doc
 * Link: https://go.pstmn.io/interceptor-installation-troubleshooting
 */
errorSubTypes = {
  chromeNotInstalled: 'CHROME_NOT_INSTALLED',
  internetConnectivity: 'INTERNET_CONNECTIVITY',
  registryAccessNeeded: 'REGISTRY_ACCESS_NEEDED',
  permissionRequired: 'FILE_PERMISSIONS_REQUIRED'
};

currentOS = getCurrentOS();

appFolder = getAppName();

setPathToCertificate();

self = exports.utils = {

  currentOS, // as it's used at other places

  /**
   * @returns {string} current user's home directory
   */
  getUserHome: function () {
    return process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'];
  },

  /**
   * Enables proxy on the client machine via localhost with provided port.
   * Depending upon the OS of machine, we use different method for setting the proxy settings
   *  as electron doesn't have any standard APIs to do so.
   *
   * @param {Function} callback
   */
  enableClientProxy: function (port, callback) {
    if (currentOS === osTypes.MACOS) {
      const setProxyCmd = `networksetup -setwebproxy wi-fi 127.0.0.1 ${port} && ` +
        `networksetup -setsecurewebproxy wi-fi 127.0.0.1 ${port}`;

      sh.exec(setProxyCmd, function (code, stdout, stderr) {
        if (code !== 0) {

          // In cases when elevated permission is needed to setup the proxy for users with non root permission setup
          sudo.exec(setProxyCmd, PROMPT_OPTIONS, function (error, stdout, stderr) {
            if (error || stderr) {
              pm.logger.info('ProxySession~enableClientProxy:', error || stderr);

              const errObj = new Error('Error occurred while enabling proxy settings', error || stderr);
              errObj.type = 'ProxySetup';
              errObj.subType = 'ProxySettingsEnable';
              return callback(errObj);
            }
            else {
              windowManager.sendInternalMessage({
                'event': 'proxySessionProxyEnabled',
                'object': {
                  status: 'ProxySettingsEnabled'
                }
              });
              pm.logger.info('ProxySession~enableClientProxy: Web proxy has been enabled with elevated permissions');
              return callback(null);
            }
          });
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'proxySessionProxyEnabled',
            'object': {
              status: 'ProxySettingsEnabled'
            }
          });
          pm.logger.info('ProxySession~enableClientProxy: Web proxy has been enabled');
          return callback(null);
        }
      });
    }
    else if (currentOS === osTypes.WINDOWS) {
      const setProxyCmd = `REG ADD "${winRegProxyAddr}" /v "ProxyServer" /t REG_SZ /d "127.0.0.1:${port}" /f && ` +
        `REG ADD "${winRegProxyAddr}" /v "ProxyEnable" /t REG_DWORD /d "1" /f`;

      sh.exec(setProxyCmd, function (code, stdout, stderr) {
        if (code !== 0) {
          pm.logger.info('ProxySession~enableClientProxy: Failed to enable proxy settings.');

          const errObj = new Error('Error occurred while enabling HTTPS proxy', stderr);
          errObj.type = 'ProxySetup';
          errObj.subType = 'HTTPSProxyEnable';
          return callback(errObj);
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'proxySessionHTTPSProxyEnabled',
            'object': {
              status: 'HTTPSProxyEnabled'
            }
          });
          pm.logger.info('ProxySession~enableClientProxy: Web proxy has been enabled');
          return callback(null);
        }
      });
    }
    else {
      return callback(null);
    }
  },

  /**
   * Disables proxy on the client machine.
   * Depending upon the OS of machine, we use different method for setting the proxy settings
   *  as electron doesn't have any standard APIs to do so.
   *
   * @param {Function} callback
   */
  disableClientProxy: function (callback) {
    if (currentOS === osTypes.MACOS) {
      const disableProxyCmd = 'networksetup -setsecurewebproxystate wi-fi off && ' +
        'networksetup -setwebproxystate wi-fi off';

      sh.exec(disableProxyCmd, function (code, stdout, stderr) {
        if (code !== 0) {
          // In cases when elevated permission is needed to setup the proxy for users with non root permission setup
          sudo.exec(disableProxyCmd, PROMPT_OPTIONS, function (error, stdout, stderr) {
            if (error || stderr) {
              pm.logger.error('ProxySession~disableClientProxy:', error || stderr);

              const errObj = new Error('Error occurred while disabling proxy settings', stderr);
              errObj.type = 'ProxySetup';
              errObj.subType = 'ProxySettingsDisable';
              return callback(errObj);
            }
            else {
              windowManager.sendInternalMessage({
                'event': 'proxySessionProxyDisabled',
                'object': {
                  status: 'ProxySettingsDisabled'
                }
              });
              pm.logger.error('ProxySession~disableClientProxy: Web proxy has been disabled with elevated permissions');
              return callback(null);
            }
          });
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'proxySessionProxyDisabled',
            'object': {
              status: 'ProxySettingsDisabled'
            }
          });
          pm.logger.error('ProxySession~disableClientProxy: Web proxy has been disabled');
          return callback(null);
        }
      });
    }
    else if (currentOS === osTypes.WINDOWS) {
      const disableProxyCmd = `REG ADD "${winRegProxyAddr}" /v "ProxyEnable" /t REG_DWORD /d "0" /f`;

      sh.exec(disableProxyCmd, function (code, stdout, stderr) {
        if (code !== 0) {
          pm.logger.info('ProxySession~disableClientProxy: Unable to disable HTTPS proxy with code: ', code,
            'and Error: ', stderr);

          const errObj = new Error('Error occurred while disabling proxy settings', stderr);
          errObj.type = 'ProxySetup';
          errObj.subType = 'ProxySettingsDisable';
          return callback(errObj);
        }
        else {
          windowManager.sendInternalMessage({
            'event': 'proxySessionProxyDisabled',
            'object': {
              status: 'ProxySettingsDisabled'
            }
          });
          pm.logger.error('ProxySession~disableClientProxy: Web proxy has been disabled');
          return callback(null);
        }
      });
    }
    else {
      return callback(null);
    }
  },

  /**
   * Removes redundant *.sock file that gets created as part of child node process listening to traffic via proxy
   *
   * @param {String} proxyProcessIdentifier
   * @param {Function} callback
   * @returns
   */
  removeRedundantSockFile: function (proxyProcessIdentifier, callback) {
    if (currentOS === osTypes.MACOS) {
      sh.exec(`rm ${SYSTEM_APPDATA_DIRECTORY[currentOS]}${proxyProcessIdentifier}*`, function (code, stdout, stderr) {
        if (code !== 0) {
          return callback(null, {
            error: true,
            message: `Could not remove "${proxyProcessIdentifier}*", please remove it manually`
          });
        }
        else {
          pm.logger.info(`ProxySession~removeRedundantSockFile: ${proxyProcessIdentifier}.* has been removed.`);
          return callback(null, {
            error: false
          });
        }
      });
    }
    else {
      return callback(null);
    }
  },

  /**
   * Checks if the SSL certificate is trusted on macOS.
   *
   * @returns {Promise<boolean>} - A Promise that resolves to a boolean indicating if the certificate is trusted.
   */
  isCertificateTrusted () {
    let isTrusted = false;

    return new Promise((resolve) => {
      if (currentOS === osTypes.MACOS) {
        const command = `security verify-cert -c ${pathToCertificate}`;

        sh.exec(command, (code, stdout, stderr) => {
          if (code !== 0 || stderr) {
            // Log and swallow the error
            pm.logger.error(`isCertificateTrusted~ Unable to verify certificate with code: "${code}" and error: "${stderr}"`);

            resolve(false);
          } else {
            const output = stdout.trim();

            // Check if the certificate is trusted based on the output of the command
            isTrusted = output.includes('certificate verification successful');

            resolve(isTrusted);
          }
        });
      } else {
        resolve(true);
      }
    });
  },

  /**
   * Checks if the SSL certificate is added to the keychain and trusted (if applicable) on macOS.
   *
   * @returns {Promise<boolean>} A Promise that resolves to a boolean indicating whether the certificate is added and trusted.
   */
  isCertificateAddedToKeyChain () {
    const proxyCertName = proxyConstants.COMMON_NAME[RELEASE_CHANNEL] || proxyConstants.COMMON_NAME.prod;

    let isAddedToKeyChain = false;

    return new Promise((resolve) => {
      if (currentOS === osTypes.MACOS) {
        const command = `security find-certificate -c "${proxyCertName}" -a ${pathToLoginKeyChain}`;

        sh.exec(command, (code, stdout, stderr) => {
          if (code !== 0 || stderr) {
            // Log and swallow the error
            pm.logger.info('proxy/utils~isCertificateAddedToKeyChain~ Unable to find certificate.' +
              ` code: "${code}" and error: "${stderr}"`);

            resolve(false);
          } else {
            const output = stdout.trim();

            // Check if the certificate is added to the key chain already based on the output of the command
            isAddedToKeyChain = output.includes(proxyCertName);

            // To handle the case when user clicks on install but cancels the password prompt
            // A certificate is said to be setup if it is added to the key chain and trusted as well
            if (isAddedToKeyChain) {
              this.isCertificateTrusted()
                .then((value) => {
                  return resolve(value);
                });
            } else {
              return resolve(false);
            }
          }
        });
      }
      else if (currentOS === osTypes.WINDOWS) {
        /**
         * This command will check existence of the certificate in store and
         * verify that it's not expired hence extra verification is not needed.
         */
        const command = `certutil -user -verifystore Root "${proxyCertName}"`;

        sh.exec(command, (code, stdout, stderr) => {
          if (code !== 0 || stderr) {
            // Log and swallow the error
            pm.logger.info('proxy/utils~isCertificateAddedToKeyChain~ Unable to find certificate.' +
              ` code: "${code}" and error: "${stderr}"`);

            resolve(false);
          } else {
            const output = stdout.trim();

            // Check if the certificate is added to the key chain already based on the output of the command
            isAddedToKeyChain = output.includes(proxyCertName);

            // To handle the case when user clicks on install but cancels the password prompt
            // A certificate is said to be setup if it is added to the key chain and trusted as well
            return resolve(isAddedToKeyChain);
          }
        });
      }
      else {
        return resolve(isAddedToKeyChain);
      }
    });
  },

  /**
   * Installs and trusts the specified SSL certificate in the system's keychain (macOS only).
   *
   * @returns {void}
   */
  installAndTrustCertificate () {
    pm.logger.info('proxy/utils~installAndTrustCertificate: Installing and trusting certificate ~ path to certificate: ' +
      `"${pathToCertificate}"`);

    if (currentOS === osTypes.MACOS) {
      const command = `security add-trusted-cert -r trustRoot -k ${pathToLoginKeyChain} ` + pathToCertificate;

      sh.exec(command, (code, stdout, stderr) => {
        if (code !== 0 || stderr) {
          pm.logger.info('proxy/utils~installAndTrustCertificate: Error while trusting proxy certificate.' +
            ` code: "${code}" and error: "${stderr}"`);

          /**
           * SecTrustSettingsSetTrustSettings: The authorization was canceled by the user.
           * We check if the user has canceled the operation and send an event to track the same
           */
          const stdErrOutput = stderr.trim(),
            didUserCancelAuth = stdErrOutput.includes('canceled');

          windowManager.sendInternalMessage({
            event: 'certAdditionStatus',
            'object': {
              value: false,
              didUserCancelAuth: didUserCancelAuth,
              isUserTriggered: true,
              result: { code, stderr, stdout }
            }
          });

          return;
        }

        pm.logger.info('proxy/utils~installAndTrustCertificate: Successfully added the cert to login key chain.');

        windowManager.sendInternalMessage({
          event: 'certAdditionStatus',
          'object': {
            value: true,
            didUserCancelAuth: false,
            isUserTriggered: true
          }
        });
      });
    } else if (currentOS === osTypes.WINDOWS) {
      const addCertCommandWindows = `certutil -user -addstore Root ${pathToCertificate}`;

        sh.exec(addCertCommandWindows, function (code, stdout, stderr) {
          if (code !== 0 || stderr) {
            pm.logger.info('proxy/utils~installAndTrustCertificate~ Error while adding cert to trust authorities.' +
              ` code: "${code}" and error: "${stderr}"`);

            /**
             * In case when the authorization was canceled by the user.
             * We check if the user has canceled the operation and send an event to track the same
             */
            const stdOutput = stdout.trim(),
              didUserCancelAuth = stdOutput.includes('canceled');

            windowManager.sendInternalMessage({
              event: 'certAdditionStatus',
              'object': {
                value: false,
                didUserCancelAuth: didUserCancelAuth,
                isUserTriggered: true,
                result: { code, stderr, stdout }
              }
            });

            return;
          }

          pm.logger.info('proxy/utils~installAndTrustCertificate~ Successfully added the cert to the Trust Root Certification Authorities');

          windowManager.sendInternalMessage({
            event: 'certAdditionStatus',
            'object': {
              value: true,
              didUserCancelAuth: false,
              isUserTriggered: true
            }
          });

          return;
        });
    }
  }
};
/*
* Check if a value is a string or not.
*
* @param {*} value The value to check.
* @return {boolean} Returns `true` if `value` is a string, else `false`.
*
* @example
*
*   isString('a'); // return true
*   isString([]);  // return false
*/
const isString = (value) => {
  return typeof value === 'string';
};

/**
* Check if a value is an object or not
*
* @param {*} value The value to check.
* @return {boolean} Returns `true` if `value` is a string, else `false`.
*
* @example
*
*   isObject(null); // return false
*   isObject({});  // return true
 */
const isObject = (value) => {
  return typeof value === 'object' && !Array.isArray(value) && value !== null;
};

module.exports = {
  isString,
  isObject
};
# This file is generated by running "yarn install" inside your project.
# Manual changes might be lost - proceed with caution!

__metadata:
  version: 8
  cacheKey: 10c0

"@1password/sdk-core@npm:0.1.0-beta.15":
  version: 0.1.0-beta.15
  resolution: "@1password/sdk-core@npm:0.1.0-beta.15"
  checksum: 10c0/bd2e7510dce3945506d40cdd1a7978a6e6269f3d28d8d3b8c4ca94502dd9a83ebbdb5561a6a46fe0666fd08b342af9ea924d38cc0bf10976c2acdbb096bb1de7
  languageName: node
  linkType: hard

"@1password/sdk@npm:0.1.1":
  version: 0.1.1
  resolution: "@1password/sdk@npm:0.1.1"
  dependencies:
    "@1password/sdk-core": "npm:0.1.0-beta.15"
  checksum: 10c0/de1448b1cd69d80f3e1396cfdd9354b28f772f8ecc00b663c2b3b6fb252c480a4a58348466414fb6d298e6209902e51dfbf17ecec2004bc35c68b29477adcfa8
  languageName: node
  linkType: hard

"@arr/every@npm:^1.0.0":
  version: 1.0.1
  resolution: "@arr/every@npm:1.0.1"
  checksum: 10c0/f9769bc97eca37d1c0dedfda4c17506c0e1269d95c15a7478a49c4d84d43512a3f350b71c95e045cf4113d3398ebd6d298f2eea09196a1ed61c311bc4e6964e7
  languageName: node
  linkType: hard

"@azure/msal-common@npm:14.7.1":
  version: 14.7.1
  resolution: "@azure/msal-common@npm:14.7.1"
  checksum: 10c0/e37cd3ef03de1d921cd06621f40b378dc655ed87e2e7cbee6529ca02c3fb9c88cbd7bbe2a199f7e96e98edcd0cbf3d094432aaafa51f27e83a432e8247dc3ea2
  languageName: node
  linkType: hard

"@azure/msal-node@npm:^2.6.4":
  version: 2.6.4
  resolution: "@azure/msal-node@npm:2.6.4"
  dependencies:
    "@azure/msal-common": "npm:14.7.1"
    jsonwebtoken: "npm:^9.0.0"
    uuid: "npm:^8.3.0"
  checksum: 10c0/45e88223498cd53163bb23ea92c5368b4101ba78c89da6c684ba0dd7d649733c7145db9ac5a9e964691802b09880c461f4ace0316cb2f357d66c56dde45c9820
  languageName: node
  linkType: hard

"@babel/runtime@npm:^7.18.3, @babel/runtime@npm:^7.22.5":
  version: 7.25.4
  resolution: "@babel/runtime@npm:7.25.4"
  dependencies:
    regenerator-runtime: "npm:^0.14.0"
  checksum: 10c0/33e937e685f0bfc2d40c219261e2e50d0df7381a6e7cbf56b770e0c5d77cb0c21bf4d97da566cf0164317ed7508e992082c7b6cce7aaa3b17da5794f93fbfb46
  languageName: node
  linkType: hard

"@colors/colors@npm:1.5.0":
  version: 1.5.0
  resolution: "@colors/colors@npm:1.5.0"
  checksum: 10c0/eb42729851adca56d19a08e48d5a1e95efd2a32c55ae0323de8119052be0510d4b7a1611f2abcbf28c044a6c11e6b7d38f99fccdad7429300c37a8ea5fb95b44
  languageName: node
  linkType: hard

"@electron/remote@npm:^2.0.1":
  version: 2.1.2
  resolution: "@electron/remote@npm:2.1.2"
  peerDependencies:
    electron: ">= 13.0.0"
  checksum: 10c0/a40fa7d8fa7f90a80c3c54eae0ef3ef25c5add839bf37cf4f65b1f9bce6809bd449652ef88804b88bfae10e7d54743318cc11e7485a6b2c5171a55f68773533f
  languageName: node
  linkType: hard

"@faker-js/faker@npm:5.5.3":
  version: 5.5.3
  resolution: "@faker-js/faker@npm:5.5.3"
  checksum: 10c0/3f7fbf0b0cfe23c7750ab79b123be8f845e5f376ec28bf43b7b017983b6fc3a9dc22543c4eea52e30cc119699c0f47f62a2c02e9eae9b6a20b75955e9c3eb887
  languageName: node
  linkType: hard

"@isaacs/cliui@npm:^8.0.2":
  version: 8.0.2
  resolution: "@isaacs/cliui@npm:8.0.2"
  dependencies:
    string-width: "npm:^5.1.2"
    string-width-cjs: "npm:string-width@^4.2.0"
    strip-ansi: "npm:^7.0.1"
    strip-ansi-cjs: "npm:strip-ansi@^6.0.1"
    wrap-ansi: "npm:^8.1.0"
    wrap-ansi-cjs: "npm:wrap-ansi@^7.0.0"
  checksum: 10c0/b1bf42535d49f11dc137f18d5e4e63a28c5569de438a221c369483731e9dac9fb797af554e8bf02b6192d1e5eba6e6402cf93900c3d0ac86391d00d04876789e
  languageName: node
  linkType: hard

"@js-sdsl/ordered-map@npm:^4.4.2":
  version: 4.4.2
  resolution: "@js-sdsl/ordered-map@npm:4.4.2"
  checksum: 10c0/cc7e15dc4acf6d9ef663757279600bab70533d847dcc1ab01332e9e680bd30b77cdf9ad885cc774276f51d98b05a013571c940e5b360985af5eb798dc1a2ee2b
  languageName: node
  linkType: hard

"@n1ru4l/push-pull-async-iterable-iterator@npm:^3.1.0":
  version: 3.1.0
  resolution: "@n1ru4l/push-pull-async-iterable-iterator@npm:3.1.0"
  checksum: 10c0/48765622b936b24a636a2155cd92adb6582ef1ff491ef38994e9f48c02ea69755dd1ab32cc84622c5d64796d075eadf650a25d141e3b9807eb63626cb5f8e547
  languageName: node
  linkType: hard

"@npmcli/agent@npm:^2.0.0":
  version: 2.2.2
  resolution: "@npmcli/agent@npm:2.2.2"
  dependencies:
    agent-base: "npm:^7.1.0"
    http-proxy-agent: "npm:^7.0.0"
    https-proxy-agent: "npm:^7.0.1"
    lru-cache: "npm:^10.0.1"
    socks-proxy-agent: "npm:^8.0.3"
  checksum: 10c0/325e0db7b287d4154ecd164c0815c08007abfb07653cc57bceded17bb7fd240998a3cbdbe87d700e30bef494885eccc725ab73b668020811d56623d145b524ae
  languageName: node
  linkType: hard

"@npmcli/fs@npm:^3.1.0":
  version: 3.1.1
  resolution: "@npmcli/fs@npm:3.1.1"
  dependencies:
    semver: "npm:^7.3.5"
  checksum: 10c0/c37a5b4842bfdece3d14dfdb054f73fe15ed2d3da61b34ff76629fb5b1731647c49166fd2a8bf8b56fcfa51200382385ea8909a3cbecdad612310c114d3f6c99
  languageName: node
  linkType: hard

"@pkgjs/parseargs@npm:^0.11.0":
  version: 0.11.0
  resolution: "@pkgjs/parseargs@npm:0.11.0"
  checksum: 10c0/5bd7576bb1b38a47a7fc7b51ac9f38748e772beebc56200450c4a817d712232b8f1d3ef70532c80840243c657d491cf6a6be1e3a214cff907645819fdc34aadd
  languageName: node
  linkType: hard

"@polka/send@npm:^0.4.0":
  version: 0.4.0
  resolution: "@polka/send@npm:0.4.0"
  checksum: 10c0/0348fad17832bcb399ca2c40ee3e52d4aa05b633c95f6aa368084f7daa0d5486b3995a5cb9c7aba63f8bf8b4c5145e4ab23c7469ca750cb9cc4211f070440545
  languageName: node
  linkType: hard

"@polka/url@npm:^0.5.0":
  version: 0.5.0
  resolution: "@polka/url@npm:0.5.0"
  checksum: 10c0/76324126e1608f4cdc5c6b11b618ca67612c37d45401f3fbcce4967294093761b7568cc6ae74ade8afbe744547e72e9d50bc38f690ddea0904a1d66a6b8a0093
  languageName: node
  linkType: hard

"@postman/app-logger@npm:^2.0.0":
  version: 2.1.0
  resolution: "@postman/app-logger@npm:2.1.0"
  dependencies:
    circular-json: "npm:0.5.9"
    serialize-error: "npm:2.1.0"
    winston: "npm:3.1.0"
  checksum: 10c0/571fef8c1586c97117d40d0b21c791c83fd24fd5a6f81a51d5451916e5c7bb6dc1a41addae2ec28b374db0e13507c5579147e6a1608ba1f5c84e94f8f4e8c21a
  languageName: node
  linkType: hard

"@postman/form-data@npm:~3.1.1":
  version: 3.1.1
  resolution: "@postman/form-data@npm:3.1.1"
  dependencies:
    asynckit: "npm:^0.4.0"
    combined-stream: "npm:^1.0.8"
    mime-types: "npm:^2.1.12"
  checksum: 10c0/cf049e0f40e3c26d233ea82813baeb10ec48aa8b0e9ae92c245b92317fa0259b7bf2ba589ea0f9fdee1fef2d0b4614dc9d7a069ebdda52299e28bb4900c9a66f
  languageName: node
  linkType: hard

"@postman/grpc-js@npm:1.11.0-postman.1, @postman/grpc-js@npm:^1.11.0-postman.1":
  version: 1.11.0-postman.1
  resolution: "@postman/grpc-js@npm:1.11.0-postman.1"
  dependencies:
    "@js-sdsl/ordered-map": "npm:^4.4.2"
    "@postman/proto-loader": "npm:^0.7.13-postman.3"
  checksum: 10c0/ac3fa98dcfccc2621517b65f0428d8a5b762818b8df12af4a77ffeaf3b64b5b5b5f31635d71a22abd1d84aea58e91cb877f455e0599163e539fdf321c7fff819
  languageName: node
  linkType: hard

"@postman/grpc-reflection-js@npm:0.1.2-postman.6":
  version: 0.1.2-postman.6
  resolution: "@postman/grpc-reflection-js@npm:0.1.2-postman.6"
  dependencies:
    "@postman/protobufjs": "npm:^7.3.2-postman.3"
    "@types/google-protobuf": "npm:^3.7.2"
    "@types/lodash.set": "npm:^4.3.6"
    google-protobuf: "npm:^3.12.2"
    lodash.set: "npm:^4.3.2"
  peerDependencies:
    "@postman/grpc-js": 1.11.0-postman.1
  checksum: 10c0/ef7783c1ea5f419cb78ace3fd9fa433e14bf350601263b4cd8c80bab9f710afad5e158574812a6623d72c3fca7f9fc5efc1df876f925de1b32188970a14b04dc
  languageName: node
  linkType: hard

"@postman/hermes@npm:1.1.4":
  version: 1.1.4
  resolution: "@postman/hermes@npm:1.1.4"
  dependencies:
    rimraf: "npm:2.6.3"
  checksum: 10c0/e85e4629bcdd083fbaf05efa4a4a2b6af30be64f1fc241420834729ec6c17160aacbee56e58ce2b91aa9874ac4197df73c8a6fc0f9f19b74c82ac07dca12f8a2
  languageName: node
  linkType: hard

"@postman/pem@npm:^1.14.6":
  version: 1.14.6
  resolution: "@postman/pem@npm:1.14.6"
  dependencies:
    es6-promisify: "npm:^7.0.0"
    md5: "npm:^2.3.0"
    os-tmpdir: "npm:^1.0.2"
    which: "npm:^2.0.2"
  checksum: 10c0/f5f2363ef3503821a50209f0408de4e057204efd258f4b85a42b03abd9dd86d81c1f618dfb8f1fafd32310825f43efc8ff1ef8a436853e19bb5990efc07fd0f4
  languageName: node
  linkType: hard

"@postman/proto-loader@npm:^0.7.13-postman.3":
  version: 0.7.13-postman.3
  resolution: "@postman/proto-loader@npm:0.7.13-postman.3"
  dependencies:
    "@postman/protobufjs": "npm:^7.3.2-postman.3"
    lodash.camelcase: "npm:^4.3.0"
    long: "npm:^5.0.0"
    yargs: "npm:^17.7.2"
  bin:
    proto-loader-gen-types: build/bin/proto-loader-gen-types.js
  checksum: 10c0/bef7217ff7f1da8ae97299ee8d7713042d922572b5561f94ffe0939a772427563f718ec0da18112749fd1009b9a66de503ac18174f1cb110f2d1e0f3cb37951e
  languageName: node
  linkType: hard

"@postman/protobufjs@npm:^7.3.2-postman.3":
  version: 7.3.2-postman.3
  resolution: "@postman/protobufjs@npm:7.3.2-postman.3"
  dependencies:
    "@protobufjs/aspromise": "npm:^1.1.2"
    "@protobufjs/base64": "npm:^1.1.2"
    "@protobufjs/codegen": "npm:^2.0.4"
    "@protobufjs/eventemitter": "npm:^1.1.0"
    "@protobufjs/fetch": "npm:^1.1.0"
    "@protobufjs/float": "npm:^1.0.2"
    "@protobufjs/inquire": "npm:^1.1.0"
    "@protobufjs/path": "npm:^1.1.2"
    "@protobufjs/pool": "npm:^1.1.0"
    "@protobufjs/utf8": "npm:^1.1.0"
    "@types/node": "npm:>=13.7.0"
    long: "npm:^5.0.0"
  checksum: 10c0/9046f8f191046f36128f0cd7e3b8ab534e34d536a717e44883e5231b0137e16374800c52774cc29f2e86b72229c88efdc0be706fe4d8443aec42db76c998811b
  languageName: node
  linkType: hard

"@postman/runtime.auth@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.auth@npm:0.1.13"
  dependencies:
    create-hash: "npm:^1.2.0"
    create-hmac: "npm:^1.1.7"
    js-base64: "npm:^3.7.5"
    json-schema-to-ts: "npm:~2.7.2"
    postman-url-encoder: "npm:^3.0.5"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
  checksum: 10c0/44fac769126c2a74e84df72608cdf4f0674bc196e72a9c392c0593a08e08c805a8eb097e64a8c9cb590a8f2b05d45cd6cdb922da1c39243821aa90ceed86de7c
  languageName: node
  linkType: hard

"@postman/runtime.collection@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.collection@npm:0.1.13"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
    "@postman/runtime.documentation": ^0.1.13
  checksum: 10c0/40b1ed06bd0d06308cc608f914573094017c293fd3d672d98412e06c7f8e0729601149938c9906cbe61b9985cd29047ccb0b755acf87f002510d3617d7235461
  languageName: node
  linkType: hard

"@postman/runtime.core@npm:^0.4.0":
  version: 0.4.0
  resolution: "@postman/runtime.core@npm:0.4.0"
  dependencies:
    "@postman/runtime.event-channel": "npm:^0.2.0"
    "@postman/runtime.variable-scope": "npm:^0.2.0"
    ajv: "npm:^8.12.0"
    ajv-formats: "npm:^2.1.1"
    zod: "npm:^3.21.4"
  checksum: 10c0/8b32ca92f4806038f8133bcc771a17687bc8c92f80d1b9cb0cccdd069610ae03a7df521234195f0cabb2ea2d6a57e874f602d7df109570d54806efc82ce80564
  languageName: node
  linkType: hard

"@postman/runtime.documentation@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.documentation@npm:0.1.13"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
  checksum: 10c0/028aad5ff08ddc9ed502a4c9dfa2ab2eb32e323ff35ea8af1a626f40efa42cece7170060b16ec146207bc9eeddc035653bf60ecb5c9ecbee8e8e1a889b1036b4
  languageName: node
  linkType: hard

"@postman/runtime.event-channel@npm:^0.2.0":
  version: 0.2.0
  resolution: "@postman/runtime.event-channel@npm:0.2.0"
  checksum: 10c0/e3b5a5e2bd7fdfc52c34ddc9461c270342ca9c6768c85aeb7778cf9ec19be1d33d4621d529e6565704d68bb20684e1d69a044b616f13f20f689b57c7d874e139
  languageName: node
  linkType: hard

"@postman/runtime.events@npm:^0.2.0":
  version: 0.2.0
  resolution: "@postman/runtime.events@npm:0.2.0"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
    postman-sandbox: "npm:6.0.0"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
    "@postman/runtime.event-channel": ^0.2.0
  checksum: 10c0/b98023bd92b692ecf051f56d6f907e3ad5e9436639e2b668d7dfff000f35c519b090b244d5494f31c5911e94c03417879b7eeaac1e92bfd6efb8ca1407993cb2
  languageName: node
  linkType: hard

"@postman/runtime.folder@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.folder@npm:0.1.13"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
    "@postman/runtime.documentation": ^0.1.13
  checksum: 10c0/4c8c22d48f0b5ca6a08dfb6400f7ad24363d9434de6089da27f88e648cf3ce0573ff93d2bceda562da3c01755180e1c11911717daea26b8386a2d17d826d8ccf
  languageName: node
  linkType: hard

"@postman/runtime.grpc-client@npm:^0.2.5":
  version: 0.2.5
  resolution: "@postman/runtime.grpc-client@npm:0.2.5"
  dependencies:
    "@postman/grpc-js": "npm:^1.11.0-postman.1"
    "@postman/proto-loader": "npm:^0.7.13-postman.3"
    "@postman/runtime.grpc-utils": "npm:^0.2.3"
    json-bigint-string: "npm:^1.0.0"
    lodash: "npm:^4.17.21"
  checksum: 10c0/4d495b2bb9f0d6ecf1df70fdef921feab753a184040afc0b1d713fe749a1ca4f9fe9bb1424a2b5bb50ac49c967003fa9c0fd121a6c42a976e4688fcf61c60805
  languageName: node
  linkType: hard

"@postman/runtime.grpc-request@npm:^0.2.10":
  version: 0.2.10
  resolution: "@postman/runtime.grpc-request@npm:0.2.10"
  dependencies:
    "@postman/runtime.grpc-utils": "npm:^0.2.3"
    js-base64: "npm:^3.7.5"
    json-bigint-string: "npm:^1.0.0"
    json-schema-to-ts: "npm:~2.7.2"
    strip-json-comments: "npm:^3.1.1"
  peerDependencies:
    "@postman/runtime.auth": ^0.1.13
    "@postman/runtime.core": ^0.4.0
    "@postman/runtime.documentation": ^0.1.13
    "@postman/runtime.events": ^0.2.0
    "@postman/runtime.schema": ^0.1.13
    "@postman/runtime.variables": ^0.1.13
  checksum: 10c0/97317102607d72cadf529b9f12ef06c5a547773887f22355e119247dbf9b6f51598272d99e6c4dd6497444c1f9e34266731b7ce5f19ba69376607a58fdbd29ac
  languageName: node
  linkType: hard

"@postman/runtime.grpc-utils@npm:^0.2.3":
  version: 0.2.3
  resolution: "@postman/runtime.grpc-utils@npm:0.2.3"
  dependencies:
    "@postman/protobufjs": "npm:^7.3.2-postman.3"
    ajv: "npm:^8.12.0"
    js-base64: "npm:^3.7.5"
    long: "npm:^5.2.3"
  checksum: 10c0/d3e1df47c9e7e190bf1384d243e71ca8884a7011a2e2b632b520abd2bb22249bede1290dd4528decc2a9f279b1176f4e74ddb490636e7b379d041886f762134b
  languageName: node
  linkType: hard

"@postman/runtime.mqtt-client@npm:^0.3.1":
  version: 0.3.1
  resolution: "@postman/runtime.mqtt-client@npm:0.3.1"
  dependencies:
    "@postman/runtime.mqtt-utils": "npm:0.2.3"
    mqtt: "npm:5.1.4"
    postman-ws: "npm:7.4.5-postman.1"
  peerDependencies:
    "@postman/runtime.core": ^*
  checksum: 10c0/6c7c38be441b15f3be7bc82437e085f6b1ec1622ca285f567517b964394f7eee1ded99dd09674ffc37298b7e5cc9abe18cc7855fcf46148b2aac25ad21a93c60
  languageName: node
  linkType: hard

"@postman/runtime.mqtt-request@npm:^0.4.1":
  version: 0.4.1
  resolution: "@postman/runtime.mqtt-request@npm:0.4.1"
  dependencies:
    js-base64: "npm:^3.7.5"
    json-schema-to-ts: "npm:~2.7.2"
    strip-json-comments: "npm:^3.1.1"
    ws: "npm:^8.16.0"
  peerDependencies:
    "@postman/runtime.auth": ^*
    "@postman/runtime.core": ^*
    "@postman/runtime.documentation": ^*
    "@postman/runtime.mqtt-utils": ^*
    "@postman/runtime.protocol-utils": ^*
    "@postman/runtime.schema": ^*
    "@postman/runtime.variables": ^*
  checksum: 10c0/0d617882f4f7fbb0e8236a2e6d00dcf9d07487812120c11f59ffb869ea028160577edf416a62e0c1b90af460447db58215af9384ae36bf26a9f0262f46c10b05
  languageName: node
  linkType: hard

"@postman/runtime.mqtt-utils@npm:0.2.3":
  version: 0.2.3
  resolution: "@postman/runtime.mqtt-utils@npm:0.2.3"
  dependencies:
    file-type: "npm:^16.5.4"
    lodash: "npm:^4.17.21"
  checksum: 10c0/cf012a20f10355239751dddb4a6656d3d0bb16ab9d2d84138dff79f5bb8c9b51eb35c71c1078a2ce156056b0f471ed87b4bb4343bfeba7cf7ba47ef8466a38d0
  languageName: node
  linkType: hard

"@postman/runtime.protocol-utils@npm:^0.0.1":
  version: 0.0.1
  resolution: "@postman/runtime.protocol-utils@npm:0.0.1"
  checksum: 10c0/f64d8aeb037b1f9002bc2c78b811a6eb7e8c9c4fe0008faaa7b7841ab1c8c02261cff001654712ca95bd66963bca9374e5752e20a63e8e82968acd9df513d463
  languageName: node
  linkType: hard

"@postman/runtime.runtime-rpc-electron@npm:^0.2.0":
  version: 0.2.0
  resolution: "@postman/runtime.runtime-rpc-electron@npm:0.2.0"
  dependencies:
    "@postman/runtime.runtime-rpc": "npm:^0.2.0"
  peerDependencies:
    electron: ">=18.0.0"
  checksum: 10c0/dee8eb42a2c796ba6c6c6c381b8f4a49356be9844335f7069677fa5eb00a8a72e35d3f5aa23608e66dbdd5b676fbbac07b2cb903536ffba7689253882cd6793c
  languageName: node
  linkType: hard

"@postman/runtime.runtime-rpc@npm:^0.2.0":
  version: 0.2.0
  resolution: "@postman/runtime.runtime-rpc@npm:0.2.0"
  dependencies:
    tiny-msgpack: "npm:^2.2.0"
  checksum: 10c0/0219c35696217c2b0752c31a57ad7feb8294e4cf66153c9c2af07b527c72481d10395a149352076fc44b01693041c64eb30c275cc5f766ba73c8166e0f8cd9bf
  languageName: node
  linkType: hard

"@postman/runtime.schema@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.schema@npm:0.1.13"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
  checksum: 10c0/2326ba80d1841dc992f86889afa9721449b61dc0cd7f2864a194b68d0e6840184f003cd8f395f566d847f6bcc85b53c0f7e4ff3bfdcc80b7e876be04793a3452
  languageName: node
  linkType: hard

"@postman/runtime.socket.io-client@npm:^0.1.3":
  version: 0.1.3
  resolution: "@postman/runtime.socket.io-client@npm:0.1.3"
  dependencies:
    socket.io-client-v2: "npm:socket.io-client@2.5.0"
    socket.io-client-v4: "npm:socket.io-client@4.7.5"
  peerDependencies:
    "@postman/runtime.core": ^*
  checksum: 10c0/f24b89f4db4865bb60ce49ca0cb56e97cf07d0cc4404eb74604154e2a69ee176e6c2ccb623980c33f7b23aac91556cdcbcd5e67e63b636181ca5f60f330d7c1f
  languageName: node
  linkType: hard

"@postman/runtime.socket.io-request@npm:^0.1.6":
  version: 0.1.6
  resolution: "@postman/runtime.socket.io-request@npm:0.1.6"
  dependencies:
    file-type: "npm:^16.5.4"
    json-schema-to-ts: "npm:~2.7.2"
    strip-json-comments: "npm:^3.1.1"
    uuid: "npm:8.3.2"
  peerDependencies:
    "@postman/runtime.core": ^*
    "@postman/runtime.documentation": ^*
    "@postman/runtime.protocol-utils": ^*
    "@postman/runtime.variables": ^*
  checksum: 10c0/f08782d9f0fefed3a38bce37a3c3efd03e2b5d06ba1abc3202609fc220d589fb4b696b5bb34c181d1e5e275e670c585cdfac4e6ce1feaddb360c8d5748725866
  languageName: node
  linkType: hard

"@postman/runtime.variable-scope@npm:^0.2.0":
  version: 0.2.0
  resolution: "@postman/runtime.variable-scope@npm:0.2.0"
  dependencies:
    lodash: "npm:^4.17.21"
  checksum: 10c0/e061d2af818bc37c233babe3d28e629a4154873bbd9020ab1c98524c69af5b337b67c808fdf28e9980f36a749f5e2fad1a625341bef56afeb55a156a544b8595
  languageName: node
  linkType: hard

"@postman/runtime.variables@npm:^0.1.13":
  version: 0.1.13
  resolution: "@postman/runtime.variables@npm:0.1.13"
  dependencies:
    json-schema-to-ts: "npm:~2.7.2"
  peerDependencies:
    "@postman/runtime.core": ^0.4.0
  checksum: 10c0/6fa90a28fe2937954cc3b99c8576579b7dede97e0d8346934ba0391fcd5778280961b34090ad81dfe078c17d0fd238c2f1acec3e04eb5ed04497e1d781d44143
  languageName: node
  linkType: hard

"@postman/runtime.websocket-client@npm:^0.1.0":
  version: 0.1.0
  resolution: "@postman/runtime.websocket-client@npm:0.1.0"
  dependencies:
    postman-ws: "npm:7.4.5-postman.1"
  checksum: 10c0/d9fdad26b13c9f2941b5b55b93a56e8e717e4c899aac8cb4d67df94bd9d20e61927c86346165830708e5aca2904145f3ec60d57b5b805c49f7280637e0a0e4de
  languageName: node
  linkType: hard

"@postman/runtime.websocket-request@npm:^0.1.6":
  version: 0.1.6
  resolution: "@postman/runtime.websocket-request@npm:0.1.6"
  dependencies:
    file-type: "npm:^16.5.4"
    js-base64: "npm:^3.7.5"
    json-schema-to-ts: "npm:~2.7.2"
    strip-json-comments: "npm:^3.1.1"
  peerDependencies:
    "@postman/runtime.core": ^*
    "@postman/runtime.documentation": ^*
    "@postman/runtime.protocol-utils": ^*
    "@postman/runtime.variables": ^*
  checksum: 10c0/47dcd6c6558c08a7b4dc5cf89616dcdc0ccbc5670f1758853959f10a296ce43126d4a6976c9b335ad54c43552f6280025d2e10f5224e2bfb36e1ee514c94475a
  languageName: node
  linkType: hard

"@postman/runtime@npm:^0.4.14":
  version: 0.4.14
  resolution: "@postman/runtime@npm:0.4.14"
  dependencies:
    "@postman/runtime.auth": "npm:^0.1.13"
    "@postman/runtime.collection": "npm:^0.1.13"
    "@postman/runtime.core": "npm:^0.4.0"
    "@postman/runtime.documentation": "npm:^0.1.13"
    "@postman/runtime.events": "npm:^0.2.0"
    "@postman/runtime.folder": "npm:^0.1.13"
    "@postman/runtime.grpc-client": "npm:^0.2.5"
    "@postman/runtime.grpc-request": "npm:^0.2.10"
    "@postman/runtime.mqtt-client": "npm:^0.3.1"
    "@postman/runtime.mqtt-request": "npm:^0.4.1"
    "@postman/runtime.protocol-utils": "npm:^0.0.1"
    "@postman/runtime.runtime-rpc": "npm:^0.2.0"
    "@postman/runtime.schema": "npm:^0.1.13"
    "@postman/runtime.socket.io-client": "npm:^0.1.3"
    "@postman/runtime.socket.io-request": "npm:^0.1.6"
    "@postman/runtime.variables": "npm:^0.1.13"
    "@postman/runtime.websocket-client": "npm:^0.1.0"
    "@postman/runtime.websocket-request": "npm:^0.1.6"
  checksum: 10c0/27ba86689dd5810f706329d41ecc0a218b8df05a2c2327b469f0164750ee2f5e5b4fdefaab868431f38ae883913520f24fdc6795da2488801ca5b531c98ceeaf
  languageName: node
  linkType: hard

"@postman/tough-cookie@npm:4.1.3-postman.1, @postman/tough-cookie@npm:^4.1.3-postman.1, @postman/tough-cookie@npm:~4.1.3-postman.1":
  version: 4.1.3-postman.1
  resolution: "@postman/tough-cookie@npm:4.1.3-postman.1"
  dependencies:
    psl: "npm:^1.1.33"
    punycode: "npm:^2.1.1"
    universalify: "npm:^0.2.0"
    url-parse: "npm:^1.5.3"
  checksum: 10c0/7f1b1c9dd9d9947d9046cb5f7e805ffca31cac3e8a8c7b887bb14d118f49a7faa95854cabd2a6e05043eb9ec319bece5177d110633edbaf68f8058942888903c
  languageName: node
  linkType: hard

"@postman/tunnel-agent@npm:^0.6.4":
  version: 0.6.4
  resolution: "@postman/tunnel-agent@npm:0.6.4"
  dependencies:
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/8a4ad751e6371c0c61d3e98a2171c2c1c6eb488d282ca8a17882e9fe9fe5cdc4c70c91350eb456439cb7dcb830f55a620925319d209af851c25e243b6cbc289d
  languageName: node
  linkType: hard

"@protobufjs/aspromise@npm:^1.1.1, @protobufjs/aspromise@npm:^1.1.2":
  version: 1.1.2
  resolution: "@protobufjs/aspromise@npm:1.1.2"
  checksum: 10c0/a83343a468ff5b5ec6bff36fd788a64c839e48a07ff9f4f813564f58caf44d011cd6504ed2147bf34835bd7a7dd2107052af755961c6b098fd8902b4f6500d0f
  languageName: node
  linkType: hard

"@protobufjs/base64@npm:^1.1.2":
  version: 1.1.2
  resolution: "@protobufjs/base64@npm:1.1.2"
  checksum: 10c0/eec925e681081af190b8ee231f9bad3101e189abbc182ff279da6b531e7dbd2a56f1f306f37a80b1be9e00aa2d271690d08dcc5f326f71c9eed8546675c8caf6
  languageName: node
  linkType: hard

"@protobufjs/codegen@npm:^2.0.4":
  version: 2.0.4
  resolution: "@protobufjs/codegen@npm:2.0.4"
  checksum: 10c0/26ae337c5659e41f091606d16465bbcc1df1f37cc1ed462438b1f67be0c1e28dfb2ca9f294f39100c52161aef82edf758c95d6d75650a1ddf31f7ddee1440b43
  languageName: node
  linkType: hard

"@protobufjs/eventemitter@npm:^1.1.0":
  version: 1.1.0
  resolution: "@protobufjs/eventemitter@npm:1.1.0"
  checksum: 10c0/1eb0a75180e5206d1033e4138212a8c7089a3d418c6dfa5a6ce42e593a4ae2e5892c4ef7421f38092badba4040ea6a45f0928869989411001d8c1018ea9a6e70
  languageName: node
  linkType: hard

"@protobufjs/fetch@npm:^1.1.0":
  version: 1.1.0
  resolution: "@protobufjs/fetch@npm:1.1.0"
  dependencies:
    "@protobufjs/aspromise": "npm:^1.1.1"
    "@protobufjs/inquire": "npm:^1.1.0"
  checksum: 10c0/cda6a3dc2d50a182c5865b160f72077aac197046600091dbb005dd0a66db9cce3c5eaed6d470ac8ed49d7bcbeef6ee5f0bc288db5ff9a70cbd003e5909065233
  languageName: node
  linkType: hard

"@protobufjs/float@npm:^1.0.2":
  version: 1.0.2
  resolution: "@protobufjs/float@npm:1.0.2"
  checksum: 10c0/18f2bdede76ffcf0170708af15c9c9db6259b771e6b84c51b06df34a9c339dbbeec267d14ce0bddd20acc142b1d980d983d31434398df7f98eb0c94a0eb79069
  languageName: node
  linkType: hard

"@protobufjs/inquire@npm:^1.1.0":
  version: 1.1.0
  resolution: "@protobufjs/inquire@npm:1.1.0"
  checksum: 10c0/64372482efcba1fb4d166a2664a6395fa978b557803857c9c03500e0ac1013eb4b1aacc9ed851dd5fc22f81583670b4f4431bae186f3373fedcfde863ef5921a
  languageName: node
  linkType: hard

"@protobufjs/path@npm:^1.1.2":
  version: 1.1.2
  resolution: "@protobufjs/path@npm:1.1.2"
  checksum: 10c0/cece0a938e7f5dfd2fa03f8c14f2f1cf8b0d6e13ac7326ff4c96ea311effd5fb7ae0bba754fbf505312af2e38500250c90e68506b97c02360a43793d88a0d8b4
  languageName: node
  linkType: hard

"@protobufjs/pool@npm:^1.1.0":
  version: 1.1.0
  resolution: "@protobufjs/pool@npm:1.1.0"
  checksum: 10c0/eda2718b7f222ac6e6ad36f758a92ef90d26526026a19f4f17f668f45e0306a5bd734def3f48f51f8134ae0978b6262a5c517c08b115a551756d1a3aadfcf038
  languageName: node
  linkType: hard

"@protobufjs/utf8@npm:^1.1.0":
  version: 1.1.0
  resolution: "@protobufjs/utf8@npm:1.1.0"
  checksum: 10c0/a3fe31fe3fa29aa3349e2e04ee13dc170cc6af7c23d92ad49e3eeaf79b9766264544d3da824dba93b7855bd6a2982fb40032ef40693da98a136d835752beb487
  languageName: node
  linkType: hard

"@raisinten/aes-crypto-js@npm:^0.0.2":
  version: 0.0.2
  resolution: "@raisinten/aes-crypto-js@npm:0.0.2"
  checksum: 10c0/e4b2996eebc59e3580e54e52b7309796eccbc7b6fee75ad2876a8465f656200d6c79496e154123a9753be2510c89c8466cd7bdbacd73789f5b8078ad74cec205
  languageName: node
  linkType: hard

"@sentry/core@npm:6.19.7":
  version: 6.19.7
  resolution: "@sentry/core@npm:6.19.7"
  dependencies:
    "@sentry/hub": "npm:6.19.7"
    "@sentry/minimal": "npm:6.19.7"
    "@sentry/types": "npm:6.19.7"
    "@sentry/utils": "npm:6.19.7"
    tslib: "npm:^1.9.3"
  checksum: 10c0/65dc0b21859ec8e31e4091c2e0516bad3073de7c2518d239906ff875a0542490688cb76441c462c84189cd0f19176f5af6d6e56dbb5e157c9d03906791259411
  languageName: node
  linkType: hard

"@sentry/hub@npm:6.19.7":
  version: 6.19.7
  resolution: "@sentry/hub@npm:6.19.7"
  dependencies:
    "@sentry/types": "npm:6.19.7"
    "@sentry/utils": "npm:6.19.7"
    tslib: "npm:^1.9.3"
  checksum: 10c0/586ac17c01c4ae4d4202adc0d0cfe861ee1087b637ad8692f01c265408b5792f4c14e0dd73506aa266be310665e461d785d083285d63e0ef6c1a1ae43c3d6d50
  languageName: node
  linkType: hard

"@sentry/minimal@npm:6.19.7":
  version: 6.19.7
  resolution: "@sentry/minimal@npm:6.19.7"
  dependencies:
    "@sentry/hub": "npm:6.19.7"
    "@sentry/types": "npm:6.19.7"
    tslib: "npm:^1.9.3"
  checksum: 10c0/86f77d62d8ab5364cc1d14088b557045f24543f2354a959840fbc170c2fc38f9406c2d1be2ae33cad501398c0cc066a7f02b6c8f0155e844e70372c77c56f860
  languageName: node
  linkType: hard

"@sentry/node@npm:^6.19.7":
  version: 6.19.7
  resolution: "@sentry/node@npm:6.19.7"
  dependencies:
    "@sentry/core": "npm:6.19.7"
    "@sentry/hub": "npm:6.19.7"
    "@sentry/types": "npm:6.19.7"
    "@sentry/utils": "npm:6.19.7"
    cookie: "npm:^0.4.1"
    https-proxy-agent: "npm:^5.0.0"
    lru_map: "npm:^0.3.3"
    tslib: "npm:^1.9.3"
  checksum: 10c0/4a25dfa4a5278375e7644a3c642abb4a90be70c99fdf633536bf1194f246aa3d11edc8efb3487ed8aeecc01c6ea9204660a9162c019337459da92837b969cfa5
  languageName: node
  linkType: hard

"@sentry/types@npm:6.19.7":
  version: 6.19.7
  resolution: "@sentry/types@npm:6.19.7"
  checksum: 10c0/b428ee58ca5f1587a5bdcf5ae19de0116f5c73eba056872b3a54ff2221d0f5166f3ef28867a8563f00d3da08e55ed3e24baad207b4d1d918596867f99c0ec705
  languageName: node
  linkType: hard

"@sentry/utils@npm:6.19.7":
  version: 6.19.7
  resolution: "@sentry/utils@npm:6.19.7"
  dependencies:
    "@sentry/types": "npm:6.19.7"
    tslib: "npm:^1.9.3"
  checksum: 10c0/3c15e6bc75800124924da5b180137007e74d39e605c01bd28d2cfd63ee97fac1ea0c3ec8be712a1ef70802730184b71d0f3b6d50c41da9947fef348f1fd68e12
  languageName: node
  linkType: hard

"@socket.io/component-emitter@npm:~3.1.0":
  version: 3.1.1
  resolution: "@socket.io/component-emitter@npm:3.1.1"
  checksum: 10c0/e5e00cffd617c6cad1d7557c9ae5a96503cd8935f131c9708b5b665847bf9f9cd49ad4f365ffaab4ef161164d60069d529591ced5d2e3f5e74ac53a82c1c872f
  languageName: node
  linkType: hard

"@tokenizer/token@npm:^0.3.0":
  version: 0.3.0
  resolution: "@tokenizer/token@npm:0.3.0"
  checksum: 10c0/7ab9a822d4b5ff3f5bca7f7d14d46bdd8432528e028db4a52be7fbf90c7f495cc1af1324691dda2813c6af8dc4b8eb29de3107d4508165f9aa5b53e7d501f155
  languageName: node
  linkType: hard

"@types/google-protobuf@npm:^3.7.2":
  version: 3.15.6
  resolution: "@types/google-protobuf@npm:3.15.6"
  checksum: 10c0/d9401d3308863cfc7579158cf065ddc808cdb223f5b5b861b4bb38157a5ad9691e2a7ad07cc9ba0602922c1cd82b8ed4f500bd552338c08809479655907eee81
  languageName: node
  linkType: hard

"@types/json-schema@npm:^7.0.9":
  version: 7.0.15
  resolution: "@types/json-schema@npm:7.0.15"
  checksum: 10c0/a996a745e6c5d60292f36731dd41341339d4eeed8180bb09226e5c8d23759067692b1d88e5d91d72ee83dfc00d3aca8e7bd43ea120516c17922cbcb7c3e252db
  languageName: node
  linkType: hard

"@types/lodash.set@npm:^4.3.6":
  version: 4.3.7
  resolution: "@types/lodash.set@npm:4.3.7"
  dependencies:
    "@types/lodash": "npm:*"
  checksum: 10c0/ca498395ef26a8baca7aab9fb651fd281f858a952a1998119845627b6ea29334bc7279b74eb428839d66480496b348d6b297e2aa5413ec32927d9cf9a9458361
  languageName: node
  linkType: hard

"@types/lodash@npm:*":
  version: 4.17.7
  resolution: "@types/lodash@npm:4.17.7"
  checksum: 10c0/40c965b5ffdcf7ff5c9105307ee08b782da228c01b5c0529122c554c64f6b7168fc8f11dc79aa7bae4e67e17efafaba685dc3a47e294dbf52a65ed2b67100561
  languageName: node
  linkType: hard

"@types/node@npm:*, @types/node@npm:>=13.7.0":
  version: 22.5.5
  resolution: "@types/node@npm:22.5.5"
  dependencies:
    undici-types: "npm:~6.19.2"
  checksum: 10c0/ead9495cfc6b1da5e7025856dcce2591e9bae635357410c0d2dd619fce797d2a1d402887580ca4b336cb78168b195224869967de370a23f61663cf1e4836121c
  languageName: node
  linkType: hard

"@types/readable-stream@npm:^4.0.4":
  version: 4.0.10
  resolution: "@types/readable-stream@npm:4.0.10"
  dependencies:
    "@types/node": "npm:*"
    safe-buffer: "npm:~5.1.1"
  checksum: 10c0/a219a161ff691377e6057bb9fb37245b6d9b006e19537d8baf6fd3778bfe50db60f8cf9f6812910712bac3c2ab5d27a0d1ddc33917012287bff1fe44509bffd4
  languageName: node
  linkType: hard

"@types/ws@npm:^8.5.8":
  version: 8.5.10
  resolution: "@types/ws@npm:8.5.10"
  dependencies:
    "@types/node": "npm:*"
  checksum: 10c0/e9af279b984c4a04ab53295a40aa95c3e9685f04888df5c6920860d1dd073fcc57c7bd33578a04b285b2c655a0b52258d34bee0a20569dca8defb8393e1e5d29
  languageName: node
  linkType: hard

"Postman@workspace:.":
  version: 0.0.0-use.local
  resolution: "Postman@workspace:."
  dependencies:
    "@1password/sdk": "npm:0.1.1"
    "@azure/msal-node": "npm:^2.6.4"
    "@electron/remote": "npm:^2.0.1"
    "@n1ru4l/push-pull-async-iterable-iterator": "npm:^3.1.0"
    "@polka/send": "npm:^0.4.0"
    "@postman/app-logger": "npm:^2.0.0"
    "@postman/grpc-js": "npm:1.11.0-postman.1"
    "@postman/grpc-reflection-js": "npm:0.1.2-postman.6"
    "@postman/hermes": "npm:1.1.4"
    "@postman/pem": "npm:^1.14.6"
    "@postman/proto-loader": "npm:^0.7.13-postman.3"
    "@postman/protobufjs": "npm:^7.3.2-postman.3"
    "@postman/runtime": "npm:^0.4.14"
    "@postman/runtime.runtime-rpc-electron": "npm:^0.2.0"
    "@postman/tough-cookie": "npm:^4.1.3-postman.1"
    "@raisinten/aes-crypto-js": "npm:^0.0.2"
    "@sentry/node": "npm:^6.19.7"
    async: "npm:^1.5.2"
    aws4: "npm:^1.12.0"
    bufferhelper: "npm:^0.2.1"
    chardet: "npm:^1.2.1"
    circular-json: "npm:^0.3.0"
    concat-stream: "npm:^2.0.0"
    cors: "npm:^2.8.5"
    electron-json-storage: "npm:^4.5.0"
    fast-xml-parser: "npm:^4.0.3"
    file-type: "npm:^16.3.0"
    get-port: "npm:^5.1.1"
    graphql: "npm:^15.8.0"
    graphql-ws: "npm:^5.11.2"
    heap-js: "npm:^2.3.0"
    http-proxy: "npm:^1.11.1"
    i18next: "npm:^23.5.1"
    keytar: "npm:^7.9.0"
    lodash: "npm:^4.17.21"
    lru-cache: "npm:^6.0.0"
    mqtt: "npm:^4.3.7"
    nedb: "npm:^1.8.0"
    node-fetch: "npm:^2.7.0"
    node-forge: "npm:^0.10.0"
    node-ipc: "npm:^9.1.1"
    openid-client: "npm:^5.4.2"
    perftrace: "npm:1.3.0"
    polka: "npm:^0.5.2"
    postman-collection: "npm:^5.0.0"
    postman-request: "npm:^2.88.1-postman.40"
    postman-runtime: "npm:^7.43.2"
    postman-ws: "npm:^7.4.5-postman.1"
    request: "npm:^2.88.0"
    sanitize-filename: "npm:^1.6.3"
    semver: "npm:^5.5.1"
    serialised-error: "npm:^1.1.3"
    shelljs: "npm:^0.8.4"
    shortid: "npm:^2.2.15"
    socket.io: "npm:^2.3.0"
    socket.io-client-v2: "npm:socket.io-client@2.5.0"
    socket.io-client-v4: "npm:socket.io-client@4.7.5"
    subscriptions-transport-ws: "npm:^0.11.0"
    sudo-prompt: "npm:^9.2.1"
    systeminformation: "npm:^5.17.12"
    unzip-crx-3: "npm:^0.2.0"
    uuid: "npm:^3.3.2"
    which: "npm:^2.0.2"
    ws: "npm:^8.9.0"
  languageName: unknown
  linkType: soft

"abbrev@npm:^2.0.0":
  version: 2.0.0
  resolution: "abbrev@npm:2.0.0"
  checksum: 10c0/f742a5a107473946f426c691c08daba61a1d15942616f300b5d32fd735be88fef5cba24201757b6c407fd564555fb48c751cfa33519b2605c8a7aadd22baf372
  languageName: node
  linkType: hard

"abort-controller@npm:^3.0.0":
  version: 3.0.0
  resolution: "abort-controller@npm:3.0.0"
  dependencies:
    event-target-shim: "npm:^5.0.0"
  checksum: 10c0/90ccc50f010250152509a344eb2e71977fbf8db0ab8f1061197e3275ddf6c61a41a6edfd7b9409c664513131dd96e962065415325ef23efa5db931b382d24ca5
  languageName: node
  linkType: hard

"accepts@npm:~1.3.4":
  version: 1.3.8
  resolution: "accepts@npm:1.3.8"
  dependencies:
    mime-types: "npm:~2.1.34"
    negotiator: "npm:0.6.3"
  checksum: 10c0/3a35c5f5586cfb9a21163ca47a5f77ac34fa8ceb5d17d2fa2c0d81f41cbd7f8c6fa52c77e2c039acc0f4d09e71abdc51144246900f6bef5e3c4b333f77d89362
  languageName: node
  linkType: hard

"after@npm:0.8.2":
  version: 0.8.2
  resolution: "after@npm:0.8.2"
  checksum: 10c0/b7ac8c7936eadfcb7cd6714150f04977745f3555db0d2183fd219d1f69a0d2dba95c1db16f372b45aef6670bda74c674a49a74100310080676b7ec308842a9c3
  languageName: node
  linkType: hard

"agent-base@npm:6":
  version: 6.0.2
  resolution: "agent-base@npm:6.0.2"
  dependencies:
    debug: "npm:4"
  checksum: 10c0/dc4f757e40b5f3e3d674bc9beb4f1048f4ee83af189bae39be99f57bf1f48dde166a8b0a5342a84b5944ee8e6ed1e5a9d801858f4ad44764e84957122fe46261
  languageName: node
  linkType: hard

"agent-base@npm:^7.0.2, agent-base@npm:^7.1.0, agent-base@npm:^7.1.1":
  version: 7.1.1
  resolution: "agent-base@npm:7.1.1"
  dependencies:
    debug: "npm:^4.3.4"
  checksum: 10c0/e59ce7bed9c63bf071a30cc471f2933862044c97fd9958967bfe22521d7a0f601ce4ed5a8c011799d0c726ca70312142ae193bbebb60f576b52be19d4a363b50
  languageName: node
  linkType: hard

"aggregate-error@npm:^3.0.0":
  version: 3.1.0
  resolution: "aggregate-error@npm:3.1.0"
  dependencies:
    clean-stack: "npm:^2.0.0"
    indent-string: "npm:^4.0.0"
  checksum: 10c0/a42f67faa79e3e6687a4923050e7c9807db3848a037076f791d10e092677d65c1d2d863b7848560699f40fc0502c19f40963fb1cd1fb3d338a7423df8e45e039
  languageName: node
  linkType: hard

"ajv-formats@npm:^2.1.1":
  version: 2.1.1
  resolution: "ajv-formats@npm:2.1.1"
  dependencies:
    ajv: "npm:^8.0.0"
  peerDependencies:
    ajv: ^8.0.0
  peerDependenciesMeta:
    ajv:
      optional: true
  checksum: 10c0/e43ba22e91b6a48d96224b83d260d3a3a561b42d391f8d3c6d2c1559f9aa5b253bfb306bc94bbeca1d967c014e15a6efe9a207309e95b3eaae07fcbcdc2af662
  languageName: node
  linkType: hard

"ajv@npm:^6.12.3":
  version: 6.12.6
  resolution: "ajv@npm:6.12.6"
  dependencies:
    fast-deep-equal: "npm:^3.1.1"
    fast-json-stable-stringify: "npm:^2.0.0"
    json-schema-traverse: "npm:^0.4.1"
    uri-js: "npm:^4.2.2"
  checksum: 10c0/41e23642cbe545889245b9d2a45854ebba51cda6c778ebced9649420d9205f2efb39cb43dbc41e358409223b1ea43303ae4839db682c848b891e4811da1a5a71
  languageName: node
  linkType: hard

"ajv@npm:^8.0.0, ajv@npm:^8.12.0":
  version: 8.12.0
  resolution: "ajv@npm:8.12.0"
  dependencies:
    fast-deep-equal: "npm:^3.1.1"
    json-schema-traverse: "npm:^1.0.0"
    require-from-string: "npm:^2.0.2"
    uri-js: "npm:^4.2.2"
  checksum: 10c0/ac4f72adf727ee425e049bc9d8b31d4a57e1c90da8d28bcd23d60781b12fcd6fc3d68db5df16994c57b78b94eed7988f5a6b482fd376dc5b084125e20a0a622e
  languageName: node
  linkType: hard

"ansi-regex@npm:^5.0.1":
  version: 5.0.1
  resolution: "ansi-regex@npm:5.0.1"
  checksum: 10c0/9a64bb8627b434ba9327b60c027742e5d17ac69277960d041898596271d992d4d52ba7267a63ca10232e29f6107fc8a835f6ce8d719b88c5f8493f8254813737
  languageName: node
  linkType: hard

"ansi-regex@npm:^6.0.1":
  version: 6.1.0
  resolution: "ansi-regex@npm:6.1.0"
  checksum: 10c0/a91daeddd54746338478eef88af3439a7edf30f8e23196e2d6ed182da9add559c601266dbef01c2efa46a958ad6f1f8b176799657616c702b5b02e799e7fd8dc
  languageName: node
  linkType: hard

"ansi-styles@npm:^4.0.0":
  version: 4.3.0
  resolution: "ansi-styles@npm:4.3.0"
  dependencies:
    color-convert: "npm:^2.0.1"
  checksum: 10c0/895a23929da416f2bd3de7e9cb4eabd340949328ab85ddd6e484a637d8f6820d485f53933446f5291c3b760cbc488beb8e88573dd0f9c7daf83dccc8fe81b041
  languageName: node
  linkType: hard

"ansi-styles@npm:^6.1.0":
  version: 6.2.1
  resolution: "ansi-styles@npm:6.2.1"
  checksum: 10c0/5d1ec38c123984bcedd996eac680d548f31828bd679a66db2bdf11844634dde55fec3efa9c6bb1d89056a5e79c1ac540c4c784d592ea1d25028a92227d2f2d5c
  languageName: node
  linkType: hard

"arraybuffer.slice@npm:~0.0.7":
  version: 0.0.7
  resolution: "arraybuffer.slice@npm:0.0.7"
  checksum: 10c0/64bbc32b9501f5c1c7bcfca38fcfd976650a91ffbff342cdff532bef7e2fa67e3b43a9242ca6f3e10715b5d1ed8243b0850cd506a84f7bbad5905a04a92b4b9a
  languageName: node
  linkType: hard

"asn1@npm:~0.2.3":
  version: 0.2.6
  resolution: "asn1@npm:0.2.6"
  dependencies:
    safer-buffer: "npm:~2.1.0"
  checksum: 10c0/00c8a06c37e548762306bcb1488388d2f76c74c36f70c803f0c081a01d3bdf26090fc088cd812afc5e56a6d49e33765d451a5f8a68ab9c2b087eba65d2e980e0
  languageName: node
  linkType: hard

"assert-plus@npm:1.0.0, assert-plus@npm:^1.0.0":
  version: 1.0.0
  resolution: "assert-plus@npm:1.0.0"
  checksum: 10c0/b194b9d50c3a8f872ee85ab110784911e696a4d49f7ee6fc5fb63216dedbefd2c55999c70cb2eaeb4cf4a0e0338b44e9ace3627117b5bf0d42460e9132f21b91
  languageName: node
  linkType: hard

"async-limiter@npm:~1.0.0":
  version: 1.0.1
  resolution: "async-limiter@npm:1.0.1"
  checksum: 10c0/0693d378cfe86842a70d4c849595a0bb50dc44c11649640ca982fa90cbfc74e3cc4753b5a0847e51933f2e9c65ce8e05576e75e5e1fd963a086e673735b35969
  languageName: node
  linkType: hard

"async@npm:0.2.10":
  version: 0.2.10
  resolution: "async@npm:0.2.10"
  checksum: 10c0/714d284dc6c3ae59f3e8b347083e32c7657ba4ffc4ff945eb152ad4fb08def27e768992fcd4d9fd3b411c6b42f1541862ac917446bf2a1acfa0f302d1001f7d2
  languageName: node
  linkType: hard

"async@npm:3.2.6":
  version: 3.2.6
  resolution: "async@npm:3.2.6"
  checksum: 10c0/36484bb15ceddf07078688d95e27076379cc2f87b10c03b6dd8a83e89475a3c8df5848859dd06a4c95af1e4c16fc973de0171a77f18ea00be899aca2a4f85e70
  languageName: node
  linkType: hard

"async@npm:^1.5.2":
  version: 1.5.2
  resolution: "async@npm:1.5.2"
  checksum: 10c0/9ee84592c393aad1047d1223004317ecc65a9a3f76101e0f4614a0818eac962e666510353400a3c9ea158df540579a293f486f3578e918c5e90a0f5ed52e8aea
  languageName: node
  linkType: hard

"async@npm:^2.0.0, async@npm:^2.6.0":
  version: 2.6.4
  resolution: "async@npm:2.6.4"
  dependencies:
    lodash: "npm:^4.17.14"
  checksum: 10c0/0ebb3273ef96513389520adc88e0d3c45e523d03653cc9b66f5c46f4239444294899bfd13d2b569e7dbfde7da2235c35cf5fd3ece9524f935d41bbe4efccdad0
  languageName: node
  linkType: hard

"asynckit@npm:^0.4.0":
  version: 0.4.0
  resolution: "asynckit@npm:0.4.0"
  checksum: 10c0/d73e2ddf20c4eb9337e1b3df1a0f6159481050a5de457c55b14ea2e5cb6d90bb69e004c9af54737a5ee0917fcf2c9e25de67777bbe58261847846066ba75bc9d
  languageName: node
  linkType: hard

"aws-sign2@npm:~0.7.0":
  version: 0.7.0
  resolution: "aws-sign2@npm:0.7.0"
  checksum: 10c0/021d2cc5547d4d9ef1633e0332e746a6f447997758b8b68d6fb33f290986872d2bff5f0c37d5832f41a7229361f093cd81c40898d96ed153493c0fb5cd8575d2
  languageName: node
  linkType: hard

"aws4@npm:1.13.2":
  version: 1.13.2
  resolution: "aws4@npm:1.13.2"
  checksum: 10c0/c993d0d186d699f685d73113733695d648ec7d4b301aba2e2a559d0cd9c1c902308cc52f4095e1396b23fddbc35113644e7f0a6a32753636306e41e3ed6f1e79
  languageName: node
  linkType: hard

"aws4@npm:^1.12.0, aws4@npm:^1.8.0":
  version: 1.13.1
  resolution: "aws4@npm:1.13.1"
  checksum: 10c0/c40a90b998853b92f9d0198e9992f4a94c81f29b02ca02b75952efaef07ff0660e756c7ebd04ff674edfa36c29406abaa8aad84f23dbc8b362d31979a631d3fe
  languageName: node
  linkType: hard

"backo2@npm:1.0.2, backo2@npm:^1.0.2":
  version: 1.0.2
  resolution: "backo2@npm:1.0.2"
  checksum: 10c0/a9e825a6a38a6d1c4a94476eabc13d6127dfaafb0967baf104affbb67806ae26abbb58dab8d572d2cd21ef06634ff57c3ad48dff14b904e18de1474cc2f22bf3
  languageName: node
  linkType: hard

"balanced-match@npm:^1.0.0":
  version: 1.0.2
  resolution: "balanced-match@npm:1.0.2"
  checksum: 10c0/9308baf0a7e4838a82bbfd11e01b1cb0f0cf2893bc1676c27c2a8c0e70cbae1c59120c3268517a8ae7fb6376b4639ef81ca22582611dbee4ed28df945134aaee
  languageName: node
  linkType: hard

"base64-arraybuffer@npm:0.1.4":
  version: 0.1.4
  resolution: "base64-arraybuffer@npm:0.1.4"
  checksum: 10c0/7876324c1457f25707d83ac74f640ef116acdf39a8c8c195eb6d7c90e0588421904a7e7f064b5a0b29a1a52dd5cd488c30595df7c5f69663cfc6438512409d1c
  languageName: node
  linkType: hard

"base64-arraybuffer@npm:0.1.5":
  version: 0.1.5
  resolution: "base64-arraybuffer@npm:0.1.5"
  checksum: 10c0/90afdff8ecae0ea96709f8d65037585bcabddfb222bc8b46408b74b982a8322f36fe1f97468d84e6e18e01ac165ee1c6570bde6c8f9b4f64a3e9374885237a76
  languageName: node
  linkType: hard

"base64-js@npm:^1.1.2, base64-js@npm:^1.3.1":
  version: 1.5.1
  resolution: "base64-js@npm:1.5.1"
  checksum: 10c0/f23823513b63173a001030fae4f2dabe283b99a9d324ade3ad3d148e218134676f1ee8568c877cd79ec1c53158dcf2d2ba527a97c606618928ba99dd930102bf
  languageName: node
  linkType: hard

"base64id@npm:2.0.0":
  version: 2.0.0
  resolution: "base64id@npm:2.0.0"
  checksum: 10c0/6919efd237ed44b9988cbfc33eca6f173a10e810ce50292b271a1a421aac7748ef232a64d1e6032b08f19aae48dce6ee8f66c5ae2c9e5066c82b884861d4d453
  languageName: node
  linkType: hard

"bcrypt-pbkdf@npm:^1.0.0":
  version: 1.0.2
  resolution: "bcrypt-pbkdf@npm:1.0.2"
  dependencies:
    tweetnacl: "npm:^0.14.3"
  checksum: 10c0/ddfe85230b32df25aeebfdccfbc61d3bc493ace49c884c9c68575de1f5dcf733a5d7de9def3b0f318b786616b8d85bad50a28b1da1750c43e0012c93badcc148
  languageName: node
  linkType: hard

"better-assert@npm:~1.0.0":
  version: 1.0.2
  resolution: "better-assert@npm:1.0.2"
  dependencies:
    callsite: "npm:1.0.0"
  checksum: 10c0/9bba805b3472e05b2d2d2bf2b33d53c9d066c60ea0f015a587c1ad450a409f2018df2d61596ad27d8aaeed5ff786c567bbaf648649e122dbea7d9ca0b41c32fe
  languageName: node
  linkType: hard

"binary-search-tree@npm:0.2.5":
  version: 0.2.5
  resolution: "binary-search-tree@npm:0.2.5"
  dependencies:
    underscore: "npm:~1.4.4"
  checksum: 10c0/a51b36318caa588a66f7f435f17bbf5e25a4f63f3e98757518ec4cee71016e085012556a54dbd01e0d40d94df5ebb0c42b6444fd99bb9682d71a74262a8cc95b
  languageName: node
  linkType: hard

"bl@npm:^4.0.2, bl@npm:^4.0.3":
  version: 4.1.0
  resolution: "bl@npm:4.1.0"
  dependencies:
    buffer: "npm:^5.5.0"
    inherits: "npm:^2.0.4"
    readable-stream: "npm:^3.4.0"
  checksum: 10c0/02847e1d2cb089c9dc6958add42e3cdeaf07d13f575973963335ac0fdece563a50ac770ac4c8fa06492d2dd276f6cc3b7f08c7cd9c7a7ad0f8d388b2a28def5f
  languageName: node
  linkType: hard

"bl@npm:^5.0.0":
  version: 5.1.0
  resolution: "bl@npm:5.1.0"
  dependencies:
    buffer: "npm:^6.0.3"
    inherits: "npm:^2.0.4"
    readable-stream: "npm:^3.4.0"
  checksum: 10c0/528a9c3d7d6b87af98c46f10a887654d027c28c503c7f7de87440e643f0056d7a2319a967762b8ec18150c64799d2825a277147a752a0570a7407c0b705b0d01
  languageName: node
  linkType: hard

"blob@npm:0.0.5":
  version: 0.0.5
  resolution: "blob@npm:0.0.5"
  checksum: 10c0/56adf88c6da42bb17a7ec5f8ed2506e8e83626b2a1094548cb21aaa2355018c82529c56f065ed7fa8e109199149953c33c0039aa609a79c4948a60e1f92a84db
  languageName: node
  linkType: hard

"bluebird@npm:^2.6.2":
  version: 2.11.0
  resolution: "bluebird@npm:2.11.0"
  checksum: 10c0/d0c55c4c5f56522ee53e1762908c73ad97e403ce24d80ae99af3bf8902764530df0f7c88f35a1de809aa4b62d474c17f6bd83c8bc4f8cb539c50fddec1896c20
  languageName: node
  linkType: hard

"brace-expansion@npm:^1.1.7":
  version: 1.1.11
  resolution: "brace-expansion@npm:1.1.11"
  dependencies:
    balanced-match: "npm:^1.0.0"
    concat-map: "npm:0.0.1"
  checksum: 10c0/695a56cd058096a7cb71fb09d9d6a7070113c7be516699ed361317aca2ec169f618e28b8af352e02ab4233fb54eb0168460a40dc320bab0034b36ab59aaad668
  languageName: node
  linkType: hard

"brace-expansion@npm:^2.0.1":
  version: 2.0.1
  resolution: "brace-expansion@npm:2.0.1"
  dependencies:
    balanced-match: "npm:^1.0.0"
  checksum: 10c0/b358f2fe060e2d7a87aa015979ecea07f3c37d4018f8d6deb5bd4c229ad3a0384fe6029bb76cd8be63c81e516ee52d1a0673edbe2023d53a5191732ae3c3e49f
  languageName: node
  linkType: hard

"brotli@npm:^1.3.3":
  version: 1.3.3
  resolution: "brotli@npm:1.3.3"
  dependencies:
    base64-js: "npm:^1.1.2"
  checksum: 10c0/9d24e24f8b7eabf44af034ed5f7d5530008b835f09a107a84ac060723e86dd43c6aa68958691fe5df524f59473b35f5ce2e0854aa1152c0a254d1010f51bcf22
  languageName: node
  linkType: hard

"buffer-equal-constant-time@npm:1.0.1":
  version: 1.0.1
  resolution: "buffer-equal-constant-time@npm:1.0.1"
  checksum: 10c0/fb2294e64d23c573d0dd1f1e7a466c3e978fe94a4e0f8183937912ca374619773bef8e2aceb854129d2efecbbc515bbd0cc78d2734a3e3031edb0888531bbc8e
  languageName: node
  linkType: hard

"buffer-from@npm:^1.0.0":
  version: 1.1.2
  resolution: "buffer-from@npm:1.1.2"
  checksum: 10c0/124fff9d66d691a86d3b062eff4663fe437a9d9ee4b47b1b9e97f5a5d14f6d5399345db80f796827be7c95e70a8e765dd404b7c3ff3b3324f98e9b0c8826cc34
  languageName: node
  linkType: hard

"buffer@npm:^5.5.0":
  version: 5.7.1
  resolution: "buffer@npm:5.7.1"
  dependencies:
    base64-js: "npm:^1.3.1"
    ieee754: "npm:^1.1.13"
  checksum: 10c0/27cac81cff434ed2876058d72e7c4789d11ff1120ef32c9de48f59eab58179b66710c488987d295ae89a228f835fc66d088652dffeb8e3ba8659f80eb091d55e
  languageName: node
  linkType: hard

"buffer@npm:^6.0.3":
  version: 6.0.3
  resolution: "buffer@npm:6.0.3"
  dependencies:
    base64-js: "npm:^1.3.1"
    ieee754: "npm:^1.2.1"
  checksum: 10c0/2a905fbbcde73cc5d8bd18d1caa23715d5f83a5935867c2329f0ac06104204ba7947be098fe1317fbd8830e26090ff8e764f08cd14fefc977bb248c3487bcbd0
  languageName: node
  linkType: hard

"bufferhelper@npm:^0.2.1":
  version: 0.2.1
  resolution: "bufferhelper@npm:0.2.1"
  checksum: 10c0/b41e488f8f1f62a5f1dac32b138e07a4a878eff09afeb8961d95107a5a0eb6115c450353cec33b62ef6bdcbc5428bf623ae0190f20fee79b4b33c8681bffb90d
  languageName: node
  linkType: hard

"cacache@npm:^18.0.0":
  version: 18.0.4
  resolution: "cacache@npm:18.0.4"
  dependencies:
    "@npmcli/fs": "npm:^3.1.0"
    fs-minipass: "npm:^3.0.0"
    glob: "npm:^10.2.2"
    lru-cache: "npm:^10.0.1"
    minipass: "npm:^7.0.3"
    minipass-collect: "npm:^2.0.1"
    minipass-flush: "npm:^1.0.5"
    minipass-pipeline: "npm:^1.2.4"
    p-map: "npm:^4.0.0"
    ssri: "npm:^10.0.0"
    tar: "npm:^6.1.11"
    unique-filename: "npm:^3.0.0"
  checksum: 10c0/6c055bafed9de4f3dcc64ac3dc7dd24e863210902b7c470eb9ce55a806309b3efff78033e3d8b4f7dcc5d467f2db43c6a2857aaaf26f0094b8a351d44c42179f
  languageName: node
  linkType: hard

"callsite@npm:1.0.0":
  version: 1.0.0
  resolution: "callsite@npm:1.0.0"
  checksum: 10c0/8b23d5ed879984b66fe3da381994d6c4b741e561226abc48b40c99c4896f7125db395ea4aa989071a7eb0712c3f83bc32fb1e798fdf54967acdf4af176e48572
  languageName: node
  linkType: hard

"caseless@npm:~0.12.0":
  version: 0.12.0
  resolution: "caseless@npm:0.12.0"
  checksum: 10c0/ccf64bcb6c0232cdc5b7bd91ddd06e23a4b541f138336d4725233ac538041fb2f29c2e86c3c4a7a61ef990b665348db23a047060b9414c3a6603e9fa61ad4626
  languageName: node
  linkType: hard

"chardet@npm:^1.2.1":
  version: 1.2.1
  resolution: "chardet@npm:1.2.1"
  checksum: 10c0/e5d0c9b66aa3882df0d54d8962fe119d9de00754517615c4a20503b43ffb9259316de708d9848d730a16de9af550b986146b1e55f4abd966c3652dfb48f24d02
  languageName: node
  linkType: hard

"charenc@npm:0.0.2":
  version: 0.0.2
  resolution: "charenc@npm:0.0.2"
  checksum: 10c0/a45ec39363a16799d0f9365c8dd0c78e711415113c6f14787a22462ef451f5013efae8a28f1c058f81fc01f2a6a16955f7a5fd0cd56247ce94a45349c89877d8
  languageName: node
  linkType: hard

"charset@npm:^1.0.0":
  version: 1.0.1
  resolution: "charset@npm:1.0.1"
  checksum: 10c0/20575230d85e940dcf4694ce488881207fb2a3c916f1c62b9e105c4e42f9ff7f3a52cd6c473ca0342dcef61272c6c6e533fcee62a08d101deeff0793a547a6ea
  languageName: node
  linkType: hard

"chownr@npm:^1.1.1":
  version: 1.1.4
  resolution: "chownr@npm:1.1.4"
  checksum: 10c0/ed57952a84cc0c802af900cf7136de643d3aba2eecb59d29344bc2f3f9bf703a301b9d84cdc71f82c3ffc9ccde831b0d92f5b45f91727d6c9da62f23aef9d9db
  languageName: node
  linkType: hard

"chownr@npm:^2.0.0":
  version: 2.0.0
  resolution: "chownr@npm:2.0.0"
  checksum: 10c0/594754e1303672171cc04e50f6c398ae16128eb134a88f801bf5354fd96f205320f23536a045d9abd8b51024a149696e51231565891d4efdab8846021ecf88e6
  languageName: node
  linkType: hard

"cipher-base@npm:^1.0.1, cipher-base@npm:^1.0.3":
  version: 1.0.4
  resolution: "cipher-base@npm:1.0.4"
  dependencies:
    inherits: "npm:^2.0.1"
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/d8d005f8b64d8a77b3d3ce531301ae7b45902c9cab4ec8b66bdbd2bf2a1d9fceb9a2133c293eb3c060b2d964da0f14c47fb740366081338aa3795dd1faa8984b
  languageName: node
  linkType: hard

"circular-json@npm:0.5.9":
  version: 0.5.9
  resolution: "circular-json@npm:0.5.9"
  checksum: 10c0/6e495de324ef5fef91d66b88a9ac2c20f25a983dd28215b790f87e1a92a03b7cdc0a30ee2a68b49e109ce53a97f088d7c1efc9da89974b8246d8615005ef8b33
  languageName: node
  linkType: hard

"circular-json@npm:^0.3.0":
  version: 0.3.0
  resolution: "circular-json@npm:0.3.0"
  checksum: 10c0/5d5c0d0fe9f8ba6363174ff92eb08fd19b6cca2059c3073913b837908df1cc35594491d8764e43da28e173ab905f724a866784708ff25e6066fd4c2dd767a773
  languageName: node
  linkType: hard

"clean-stack@npm:^2.0.0":
  version: 2.2.0
  resolution: "clean-stack@npm:2.2.0"
  checksum: 10c0/1f90262d5f6230a17e27d0c190b09d47ebe7efdd76a03b5a1127863f7b3c9aec4c3e6c8bb3a7bbf81d553d56a1fd35728f5a8ef4c63f867ac8d690109742a8c1
  languageName: node
  linkType: hard

"cliui@npm:^8.0.1":
  version: 8.0.1
  resolution: "cliui@npm:8.0.1"
  dependencies:
    string-width: "npm:^4.2.0"
    strip-ansi: "npm:^6.0.1"
    wrap-ansi: "npm:^7.0.0"
  checksum: 10c0/4bda0f09c340cbb6dfdc1ed508b3ca080f12992c18d68c6be4d9cf51756033d5266e61ec57529e610dacbf4da1c634423b0c1b11037709cc6b09045cbd815df5
  languageName: node
  linkType: hard

"color-convert@npm:^1.9.3":
  version: 1.9.3
  resolution: "color-convert@npm:1.9.3"
  dependencies:
    color-name: "npm:1.1.3"
  checksum: 10c0/5ad3c534949a8c68fca8fbc6f09068f435f0ad290ab8b2f76841b9e6af7e0bb57b98cb05b0e19fe33f5d91e5a8611ad457e5f69e0a484caad1f7487fd0e8253c
  languageName: node
  linkType: hard

"color-convert@npm:^2.0.1":
  version: 2.0.1
  resolution: "color-convert@npm:2.0.1"
  dependencies:
    color-name: "npm:~1.1.4"
  checksum: 10c0/37e1150172f2e311fe1b2df62c6293a342ee7380da7b9cfdba67ea539909afbd74da27033208d01d6d5cfc65ee7868a22e18d7e7648e004425441c0f8a15a7d7
  languageName: node
  linkType: hard

"color-name@npm:1.1.3":
  version: 1.1.3
  resolution: "color-name@npm:1.1.3"
  checksum: 10c0/566a3d42cca25b9b3cd5528cd7754b8e89c0eb646b7f214e8e2eaddb69994ac5f0557d9c175eb5d8f0ad73531140d9c47525085ee752a91a2ab15ab459caf6d6
  languageName: node
  linkType: hard

"color-name@npm:^1.0.0, color-name@npm:~1.1.4":
  version: 1.1.4
  resolution: "color-name@npm:1.1.4"
  checksum: 10c0/a1a3f914156960902f46f7f56bc62effc6c94e84b2cae157a526b1c1f74b677a47ec602bf68a61abfa2b42d15b7c5651c6dbe72a43af720bc588dff885b10f95
  languageName: node
  linkType: hard

"color-string@npm:^1.6.0":
  version: 1.9.0
  resolution: "color-string@npm:1.9.0"
  dependencies:
    color-name: "npm:^1.0.0"
    simple-swizzle: "npm:^0.2.2"
  checksum: 10c0/db3442bcc6f524845b546847d61781acd6f938b83d6eb75941000aa175a510f64d719ecc7913cd4e83e9dfdeda23c5e39c16045f3c4615ce94b89e1c634a375c
  languageName: node
  linkType: hard

"color@npm:^3.1.3":
  version: 3.2.1
  resolution: "color@npm:3.2.1"
  dependencies:
    color-convert: "npm:^1.9.3"
    color-string: "npm:^1.6.0"
  checksum: 10c0/39345d55825884c32a88b95127d417a2c24681d8b57069413596d9fcbb721459ef9d9ec24ce3e65527b5373ce171b73e38dbcd9c830a52a6487e7f37bf00e83c
  languageName: node
  linkType: hard

"colornames@npm:^1.1.1":
  version: 1.1.1
  resolution: "colornames@npm:1.1.1"
  checksum: 10c0/a17049f485ebf1a1de659f8fc0f5b2397b48885122c3b2e60cf078aabc5e1cf06d7b934ad4033eb161e7630d871b4b388385c67d5adb179e90ac5e7ca3c6fdf3
  languageName: node
  linkType: hard

"colors@npm:^1.2.1":
  version: 1.4.0
  resolution: "colors@npm:1.4.0"
  checksum: 10c0/9af357c019da3c5a098a301cf64e3799d27549d8f185d86f79af23069e4f4303110d115da98483519331f6fb71c8568d5688fa1c6523600044fd4a54e97c4efb
  languageName: node
  linkType: hard

"colorspace@npm:1.1.x":
  version: 1.1.4
  resolution: "colorspace@npm:1.1.4"
  dependencies:
    color: "npm:^3.1.3"
    text-hex: "npm:1.0.x"
  checksum: 10c0/af5f91ff7f8e146b96e439ac20ed79b197210193bde721b47380a75b21751d90fa56390c773bb67c0aedd34ff85091883a437ab56861c779bd507d639ba7e123
  languageName: node
  linkType: hard

"combined-stream@npm:^1.0.6, combined-stream@npm:^1.0.8, combined-stream@npm:~1.0.6":
  version: 1.0.8
  resolution: "combined-stream@npm:1.0.8"
  dependencies:
    delayed-stream: "npm:~1.0.0"
  checksum: 10c0/0dbb829577e1b1e839fa82b40c07ffaf7de8a09b935cadd355a73652ae70a88b4320db322f6634a4ad93424292fa80973ac6480986247f1734a1137debf271d5
  languageName: node
  linkType: hard

"commist@npm:^1.0.0":
  version: 1.1.0
  resolution: "commist@npm:1.1.0"
  dependencies:
    leven: "npm:^2.1.0"
    minimist: "npm:^1.1.0"
  checksum: 10c0/d21312ce6eb515776f956d5659c94dc956c09eb2f4f437b3a0b8b9dbadee54e22c1a9f27316c2cb3639953bdbb0551b54aaf0d8593d140f84cc65f07b8781d0c
  languageName: node
  linkType: hard

"commist@npm:^3.2.0":
  version: 3.2.0
  resolution: "commist@npm:3.2.0"
  checksum: 10c0/ab2d14921d30f649889adbec5dbf1712d45681bbc3f863ee5078e02465b2e8510d47a5643e137ffa0698b8199b5ce787d8be131982bcae4f294c8225d1046def
  languageName: node
  linkType: hard

"component-bind@npm:1.0.0":
  version: 1.0.0
  resolution: "component-bind@npm:1.0.0"
  checksum: 10c0/839485d60fdf21e1303cd739c76f5adac046f7b3d5d7b666ad1259ccff562c7e7afc8922b40e4a5c4665789a7fb6645e527214c80a922093f392d89685fda488
  languageName: node
  linkType: hard

"component-emitter@npm:1.2.1":
  version: 1.2.1
  resolution: "component-emitter@npm:1.2.1"
  checksum: 10c0/6c27bd7bba028776464cee6c1686c8e02cb9a576a11df93f1fc211ae3eb2de234ae90952d0b7fb3acc9c92c8baa389fa7389681b2e8689d2ca463e94f3ad30b2
  languageName: node
  linkType: hard

"component-emitter@npm:~1.3.0":
  version: 1.3.1
  resolution: "component-emitter@npm:1.3.1"
  checksum: 10c0/e4900b1b790b5e76b8d71b328da41482118c0f3523a516a41be598dc2785a07fd721098d9bf6e22d89b19f4fa4e1025160dc00317ea111633a3e4f75c2b86032
  languageName: node
  linkType: hard

"component-inherit@npm:0.0.3":
  version: 0.0.3
  resolution: "component-inherit@npm:0.0.3"
  checksum: 10c0/f9f7b0555aa4976e227b28e1cfc1a775941f053fb1c33be81ece31afd759807ff0f35a437fb61a08eb1039a3444a970f29e2808d0621df4eed9ff510849fba36
  languageName: node
  linkType: hard

"concat-map@npm:0.0.1":
  version: 0.0.1
  resolution: "concat-map@npm:0.0.1"
  checksum: 10c0/c996b1cfdf95b6c90fee4dae37e332c8b6eb7d106430c17d538034c0ad9a1630cb194d2ab37293b1bdd4d779494beee7786d586a50bd9376fd6f7bcc2bd4c98f
  languageName: node
  linkType: hard

"concat-stream@npm:^2.0.0":
  version: 2.0.0
  resolution: "concat-stream@npm:2.0.0"
  dependencies:
    buffer-from: "npm:^1.0.0"
    inherits: "npm:^2.0.3"
    readable-stream: "npm:^3.0.2"
    typedarray: "npm:^0.0.6"
  checksum: 10c0/29565dd9198fe1d8cf57f6cc71527dbc6ad67e12e4ac9401feb389c53042b2dceedf47034cbe702dfc4fd8df3ae7e6bfeeebe732cc4fa2674e484c13f04c219a
  languageName: node
  linkType: hard

"cookie@npm:0.3.1":
  version: 0.3.1
  resolution: "cookie@npm:0.3.1"
  checksum: 10c0/0d73c4d605b234c4d04de335aefa4988157f03265845f4a89ea311e3ba1ce73ab42b52d33652ed1c9671342eb77742a58f61753f3e90f31711284fb6031b2962
  languageName: node
  linkType: hard

"cookie@npm:^0.4.1":
  version: 0.4.2
  resolution: "cookie@npm:0.4.2"
  checksum: 10c0/beab41fbd7c20175e3a2799ba948c1dcc71ef69f23fe14eeeff59fc09f50c517b0f77098db87dbb4c55da802f9d86ee86cdc1cd3efd87760341551838d53fca2
  languageName: node
  linkType: hard

"core-util-is@npm:1.0.2":
  version: 1.0.2
  resolution: "core-util-is@npm:1.0.2"
  checksum: 10c0/980a37a93956d0de8a828ce508f9b9e3317039d68922ca79995421944146700e4aaf490a6dbfebcb1c5292a7184600c7710b957d724be1e37b8254c6bc0fe246
  languageName: node
  linkType: hard

"core-util-is@npm:~1.0.0":
  version: 1.0.3
  resolution: "core-util-is@npm:1.0.3"
  checksum: 10c0/90a0e40abbddfd7618f8ccd63a74d88deea94e77d0e8dbbea059fa7ebebb8fbb4e2909667fe26f3a467073de1a542ebe6ae4c73a73745ac5833786759cd906c9
  languageName: node
  linkType: hard

"cors@npm:^2.8.5":
  version: 2.8.5
  resolution: "cors@npm:2.8.5"
  dependencies:
    object-assign: "npm:^4"
    vary: "npm:^1"
  checksum: 10c0/373702b7999409922da80de4a61938aabba6929aea5b6fd9096fefb9e8342f626c0ebd7507b0e8b0b311380744cc985f27edebc0a26e0ddb784b54e1085de761
  languageName: node
  linkType: hard

"create-hash@npm:^1.1.0, create-hash@npm:^1.2.0":
  version: 1.2.0
  resolution: "create-hash@npm:1.2.0"
  dependencies:
    cipher-base: "npm:^1.0.1"
    inherits: "npm:^2.0.1"
    md5.js: "npm:^1.3.4"
    ripemd160: "npm:^2.0.1"
    sha.js: "npm:^2.4.0"
  checksum: 10c0/d402e60e65e70e5083cb57af96d89567954d0669e90550d7cec58b56d49c4b193d35c43cec8338bc72358198b8cbf2f0cac14775b651e99238e1cf411490f915
  languageName: node
  linkType: hard

"create-hmac@npm:^1.1.7":
  version: 1.1.7
  resolution: "create-hmac@npm:1.1.7"
  dependencies:
    cipher-base: "npm:^1.0.3"
    create-hash: "npm:^1.1.0"
    inherits: "npm:^2.0.1"
    ripemd160: "npm:^2.0.0"
    safe-buffer: "npm:^5.0.1"
    sha.js: "npm:^2.4.8"
  checksum: 10c0/24332bab51011652a9a0a6d160eed1e8caa091b802335324ae056b0dcb5acbc9fcf173cf10d128eba8548c3ce98dfa4eadaa01bd02f44a34414baee26b651835
  languageName: node
  linkType: hard

"cross-spawn@npm:^7.0.0":
  version: 7.0.3
  resolution: "cross-spawn@npm:7.0.3"
  dependencies:
    path-key: "npm:^3.1.0"
    shebang-command: "npm:^2.0.0"
    which: "npm:^2.0.1"
  checksum: 10c0/5738c312387081c98d69c98e105b6327b069197f864a60593245d64c8089c8a0a744e16349281210d56835bb9274130d825a78b2ad6853ca13cfbeffc0c31750
  languageName: node
  linkType: hard

"crypt@npm:0.0.2":
  version: 0.0.2
  resolution: "crypt@npm:0.0.2"
  checksum: 10c0/adbf263441dd801665d5425f044647533f39f4612544071b1471962209d235042fb703c27eea2795c7c53e1dfc242405173003f83cf4f4761a633d11f9653f18
  languageName: node
  linkType: hard

"dashdash@npm:^1.12.0":
  version: 1.14.1
  resolution: "dashdash@npm:1.14.1"
  dependencies:
    assert-plus: "npm:^1.0.0"
  checksum: 10c0/64589a15c5bd01fa41ff7007e0f2c6552c5ef2028075daa16b188a3721f4ba001841bf306dfc2eee6e2e6e7f76b38f5f17fb21fa847504192290ffa9e150118a
  languageName: node
  linkType: hard

"debug@npm:4, debug@npm:^4.1.1, debug@npm:^4.3.1, debug@npm:^4.3.4, debug@npm:~4.3.1, debug@npm:~4.3.2":
  version: 4.3.6
  resolution: "debug@npm:4.3.6"
  dependencies:
    ms: "npm:2.1.2"
  peerDependenciesMeta:
    supports-color:
      optional: true
  checksum: 10c0/3293416bff072389c101697d4611c402a6bacd1900ac20c0492f61a9cdd6b3b29750fc7f5e299f8058469ef60ff8fb79b86395a30374fbd2490113c1c7112285
  languageName: node
  linkType: hard

"debug@npm:~3.1.0":
  version: 3.1.0
  resolution: "debug@npm:3.1.0"
  dependencies:
    ms: "npm:2.0.0"
  checksum: 10c0/5bff34a352d7b2eaa31886eeaf2ee534b5461ec0548315b2f9f80bd1d2533cab7df1fa52e130ce27bc31c3945fbffb0fc72baacdceb274b95ce853db89254ea4
  languageName: node
  linkType: hard

"debug@npm:~4.1.0":
  version: 4.1.1
  resolution: "debug@npm:4.1.1"
  dependencies:
    ms: "npm:^2.1.1"
  checksum: 10c0/399e98c779ba4e71537497f10caf6390646b69330ff8a455427acce04f1ce8d8cd018e1804fdcca772177666fdcd888dd3672bb8f9986c1d785a6c2b9805f370
  languageName: node
  linkType: hard

"decompress-response@npm:^6.0.0":
  version: 6.0.0
  resolution: "decompress-response@npm:6.0.0"
  dependencies:
    mimic-response: "npm:^3.1.0"
  checksum: 10c0/bd89d23141b96d80577e70c54fb226b2f40e74a6817652b80a116d7befb8758261ad073a8895648a29cc0a5947021ab66705cb542fa9c143c82022b27c5b175e
  languageName: node
  linkType: hard

"deep-extend@npm:^0.6.0":
  version: 0.6.0
  resolution: "deep-extend@npm:0.6.0"
  checksum: 10c0/1c6b0abcdb901e13a44c7d699116d3d4279fdb261983122a3783e7273844d5f2537dc2e1c454a23fcf645917f93fbf8d07101c1d03c015a87faa662755212566
  languageName: node
  linkType: hard

"delayed-stream@npm:~1.0.0":
  version: 1.0.0
  resolution: "delayed-stream@npm:1.0.0"
  checksum: 10c0/d758899da03392e6712f042bec80aa293bbe9e9ff1b2634baae6a360113e708b91326594c8a486d475c69d6259afb7efacdc3537bfcda1c6c648e390ce601b19
  languageName: node
  linkType: hard

"des.js@npm:^1.0.1":
  version: 1.1.0
  resolution: "des.js@npm:1.1.0"
  dependencies:
    inherits: "npm:^2.0.1"
    minimalistic-assert: "npm:^1.0.0"
  checksum: 10c0/671354943ad67493e49eb4c555480ab153edd7cee3a51c658082fcde539d2690ed2a4a0b5d1f401f9cde822edf3939a6afb2585f32c091f2d3a1b1665cd45236
  languageName: node
  linkType: hard

"detect-libc@npm:^2.0.0":
  version: 2.0.1
  resolution: "detect-libc@npm:2.0.1"
  checksum: 10c0/153009d0ce4073ea885a97641aa1cc0327ff168b971fa3c770958345ad3ead4618f3747334435dc8edff32c0f56d8ba16dcf5271543c99b24af532b1cf84a61d
  languageName: node
  linkType: hard

"diagnostics@npm:^1.1.1":
  version: 1.1.1
  resolution: "diagnostics@npm:1.1.1"
  dependencies:
    colorspace: "npm:1.1.x"
    enabled: "npm:1.0.x"
    kuler: "npm:1.0.x"
  checksum: 10c0/4e53175c12ad28238ee7eef608a8433daa7ce412c4780e3259c89c21337f5249bad241c7eb32af2a8ae19363e06456f88a0a926b3ce80c46d062c8a44f888049
  languageName: node
  linkType: hard

"duplexify@npm:^4.1.1, duplexify@npm:^4.1.2":
  version: 4.1.2
  resolution: "duplexify@npm:4.1.2"
  dependencies:
    end-of-stream: "npm:^1.4.1"
    inherits: "npm:^2.0.3"
    readable-stream: "npm:^3.1.1"
    stream-shift: "npm:^1.0.0"
  checksum: 10c0/cacd09d8f1c58f92f83e17dffc14ece50415b32753446ed92046236a27a9e73cb914cda495d955ea12e0e615381082a511f20e219f48a06e84675c9d6950675b
  languageName: node
  linkType: hard

"eastasianwidth@npm:^0.2.0":
  version: 0.2.0
  resolution: "eastasianwidth@npm:0.2.0"
  checksum: 10c0/26f364ebcdb6395f95124fda411f63137a4bfb5d3a06453f7f23dfe52502905bd84e0488172e0f9ec295fdc45f05c23d5d91baf16bd26f0fe9acd777a188dc39
  languageName: node
  linkType: hard

"easy-stack@npm:^1.0.0":
  version: 1.0.1
  resolution: "easy-stack@npm:1.0.1"
  checksum: 10c0/1eaf066169a20f6cc3cafd2bb36b00baacd60b6414c8d8bf51bfd50bc6f1c487140c8af86bbb8e1ff9ded2faea5e138c55a37867fc79cbbc985bf5a5ebe4b109
  languageName: node
  linkType: hard

"ecc-jsbn@npm:~0.1.1":
  version: 0.1.2
  resolution: "ecc-jsbn@npm:0.1.2"
  dependencies:
    jsbn: "npm:~0.1.0"
    safer-buffer: "npm:^2.1.0"
  checksum: 10c0/6cf168bae1e2dad2e46561d9af9cbabfbf5ff592176ad4e9f0f41eaaf5fe5e10bb58147fe0a804de62b1ee9dad42c28810c88d652b21b6013c47ba8efa274ca1
  languageName: node
  linkType: hard

"ecdsa-sig-formatter@npm:1.0.11":
  version: 1.0.11
  resolution: "ecdsa-sig-formatter@npm:1.0.11"
  dependencies:
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/ebfbf19d4b8be938f4dd4a83b8788385da353d63307ede301a9252f9f7f88672e76f2191618fd8edfc2f24679236064176fab0b78131b161ee73daa37125408c
  languageName: node
  linkType: hard

"electron-json-storage@npm:^4.5.0":
  version: 4.5.0
  resolution: "electron-json-storage@npm:4.5.0"
  dependencies:
    async: "npm:^2.0.0"
    lockfile: "npm:^1.0.4"
    lodash: "npm:^4.0.1"
    mkdirp: "npm:^0.5.1"
    rimraf: "npm:^2.5.1"
    write-file-atomic: "npm:^2.4.2"
  checksum: 10c0/1b59b5b13f0a997a102998430bde681c6db43e9ac0f01d0c62ec2ce6081183597ddea8e25e737a917fc8368471b56e60a4ec54a6f94c0ed1d0ea2c3654c6d4a6
  languageName: node
  linkType: hard

"emoji-regex@npm:^8.0.0":
  version: 8.0.0
  resolution: "emoji-regex@npm:8.0.0"
  checksum: 10c0/b6053ad39951c4cf338f9092d7bfba448cdfd46fe6a2a034700b149ac9ffbc137e361cbd3c442297f86bed2e5f7576c1b54cc0a6bf8ef5106cc62f496af35010
  languageName: node
  linkType: hard

"emoji-regex@npm:^9.2.2":
  version: 9.2.2
  resolution: "emoji-regex@npm:9.2.2"
  checksum: 10c0/af014e759a72064cf66e6e694a7fc6b0ed3d8db680427b021a89727689671cefe9d04151b2cad51dbaf85d5ba790d061cd167f1cf32eb7b281f6368b3c181639
  languageName: node
  linkType: hard

"enabled@npm:1.0.x":
  version: 1.0.2
  resolution: "enabled@npm:1.0.2"
  dependencies:
    env-variable: "npm:0.0.x"
  checksum: 10c0/df69ab6f60b9789d6f6b6d57191bbe509b675ce15cc91250293e314fc5b9ed5a1265c471bc7482e92648b8b42a3e436c7f5f616f97cf872106fe2ef714740513
  languageName: node
  linkType: hard

"encoding@npm:^0.1.13":
  version: 0.1.13
  resolution: "encoding@npm:0.1.13"
  dependencies:
    iconv-lite: "npm:^0.6.2"
  checksum: 10c0/36d938712ff00fe1f4bac88b43bcffb5930c1efa57bbcdca9d67e1d9d6c57cfb1200fb01efe0f3109b2ce99b231f90779532814a81370a1bd3274a0f58585039
  languageName: node
  linkType: hard

"end-of-stream@npm:^1.1.0, end-of-stream@npm:^1.4.1":
  version: 1.4.4
  resolution: "end-of-stream@npm:1.4.4"
  dependencies:
    once: "npm:^1.4.0"
  checksum: 10c0/870b423afb2d54bb8d243c63e07c170409d41e20b47eeef0727547aea5740bd6717aca45597a9f2745525667a6b804c1e7bede41f856818faee5806dd9ff3975
  languageName: node
  linkType: hard

"engine.io-client@npm:~3.4.0":
  version: 3.4.4
  resolution: "engine.io-client@npm:3.4.4"
  dependencies:
    component-emitter: "npm:~1.3.0"
    component-inherit: "npm:0.0.3"
    debug: "npm:~3.1.0"
    engine.io-parser: "npm:~2.2.0"
    has-cors: "npm:1.1.0"
    indexof: "npm:0.0.1"
    parseqs: "npm:0.0.6"
    parseuri: "npm:0.0.6"
    ws: "npm:~6.1.0"
    xmlhttprequest-ssl: "npm:~1.5.4"
    yeast: "npm:0.1.2"
  checksum: 10c0/a28db3e425de693aab80754d4d6a04f2f22d30d5c74127558035e665a7f5a9dcbb0139816089502e3d1be752d9af4cd480a87cf4623ccd47944db25810e83624
  languageName: node
  linkType: hard

"engine.io-client@npm:~3.5.0":
  version: 3.5.3
  resolution: "engine.io-client@npm:3.5.3"
  dependencies:
    component-emitter: "npm:~1.3.0"
    component-inherit: "npm:0.0.3"
    debug: "npm:~3.1.0"
    engine.io-parser: "npm:~2.2.0"
    has-cors: "npm:1.1.0"
    indexof: "npm:0.0.1"
    parseqs: "npm:0.0.6"
    parseuri: "npm:0.0.6"
    ws: "npm:~7.4.2"
    xmlhttprequest-ssl: "npm:~1.6.2"
    yeast: "npm:0.1.2"
  checksum: 10c0/cc7f95567076cf4ecd9f81961628eddca22e97a7091f047a0a598ffac163e6aba0c1b35ded6b81b6781c43348de5ace71835748adc8ea62ac53f1191312c366d
  languageName: node
  linkType: hard

"engine.io-client@npm:~6.5.2":
  version: 6.5.3
  resolution: "engine.io-client@npm:6.5.3"
  dependencies:
    "@socket.io/component-emitter": "npm:~3.1.0"
    debug: "npm:~4.3.1"
    engine.io-parser: "npm:~5.2.1"
    ws: "npm:~8.11.0"
    xmlhttprequest-ssl: "npm:~2.0.0"
  checksum: 10c0/15d2136655972984012fe5c92446ff9939c08d872262bbb23cd54be1b66a00d489da93321cd01a8ad72eaf4022cfd73bdc8bccf32fa51c097a96c0b4c679cd7b
  languageName: node
  linkType: hard

"engine.io-parser@npm:~2.2.0":
  version: 2.2.1
  resolution: "engine.io-parser@npm:2.2.1"
  dependencies:
    after: "npm:0.8.2"
    arraybuffer.slice: "npm:~0.0.7"
    base64-arraybuffer: "npm:0.1.4"
    blob: "npm:0.0.5"
    has-binary2: "npm:~1.0.2"
  checksum: 10c0/b604d52b031d4ba350ae61228fa834b9502e3721ddcf79c0333aaedd604595d7cb8e90240e2b1206512ed9611950e3e3d1d1fae59f18ed0dbb5ff3c70b105306
  languageName: node
  linkType: hard

"engine.io-parser@npm:~5.2.1":
  version: 5.2.2
  resolution: "engine.io-parser@npm:5.2.2"
  checksum: 10c0/38e71a92ed75e2873d4d9cfab7f889e4a3cfc939b689abd1045e1b2ef9f1a50d0350a2bef69f33d313c1aa626232702da5a9043a1038d76f5ecc0be440c648ab
  languageName: node
  linkType: hard

"engine.io@npm:~3.4.0":
  version: 3.4.2
  resolution: "engine.io@npm:3.4.2"
  dependencies:
    accepts: "npm:~1.3.4"
    base64id: "npm:2.0.0"
    cookie: "npm:0.3.1"
    debug: "npm:~4.1.0"
    engine.io-parser: "npm:~2.2.0"
    ws: "npm:^7.1.2"
  checksum: 10c0/f91de1030ead820bf155e53515fbceff25ca0e1426e1cf53b4bc349d49d28de6811be8ac10e9562f822543cd808c8c93af6640ee0ef5f92297af11367ba2d358
  languageName: node
  linkType: hard

"env-paths@npm:^2.2.0":
  version: 2.2.1
  resolution: "env-paths@npm:2.2.1"
  checksum: 10c0/285325677bf00e30845e330eec32894f5105529db97496ee3f598478e50f008c5352a41a30e5e72ec9de8a542b5a570b85699cd63bd2bc646dbcb9f311d83bc4
  languageName: node
  linkType: hard

"env-variable@npm:0.0.x":
  version: 0.0.6
  resolution: "env-variable@npm:0.0.6"
  checksum: 10c0/809ecea606f40eaf2ebd080ea826e2e9214c285a78168f0091bd2250c15c32de6f3d338d7f7ea0343c89f16c333c9e86224c334fe8535f9e744ebfae8023b982
  languageName: node
  linkType: hard

"err-code@npm:^2.0.2":
  version: 2.0.3
  resolution: "err-code@npm:2.0.3"
  checksum: 10c0/b642f7b4dd4a376e954947550a3065a9ece6733ab8e51ad80db727aaae0817c2e99b02a97a3d6cecc648a97848305e728289cf312d09af395403a90c9d4d8a66
  languageName: node
  linkType: hard

"es6-promisify@npm:^7.0.0":
  version: 7.0.0
  resolution: "es6-promisify@npm:7.0.0"
  checksum: 10c0/2d71b098a9bff9802cdb5cd9f4079d13d31236a2ed4753230c3099edff2c0f34b280fcf7ce814e0ff30713dfb25dd888d1eb2ac50a8f1e26ceae04d66d51c4f4
  languageName: node
  linkType: hard

"escalade@npm:^3.1.1":
  version: 3.1.2
  resolution: "escalade@npm:3.1.2"
  checksum: 10c0/6b4adafecd0682f3aa1cd1106b8fff30e492c7015b178bc81b2d2f75106dabea6c6d6e8508fc491bd58e597c74abb0e8e2368f943ecb9393d4162e3c2f3cf287
  languageName: node
  linkType: hard

"event-pubsub@npm:4.3.0":
  version: 4.3.0
  resolution: "event-pubsub@npm:4.3.0"
  checksum: 10c0/47fa4fb5b55b3ed08b912862cc913e03603fa063cd3ec5cf3dfeb39a19314d3ca327e938a2cf70685254ab3a71af8178969963c705a030c6081d625bec835114
  languageName: node
  linkType: hard

"event-target-shim@npm:^5.0.0":
  version: 5.0.1
  resolution: "event-target-shim@npm:5.0.1"
  checksum: 10c0/0255d9f936215fd206156fd4caa9e8d35e62075d720dc7d847e89b417e5e62cf1ce6c9b4e0a1633a9256de0efefaf9f8d26924b1f3c8620cffb9db78e7d3076b
  languageName: node
  linkType: hard

"eventemitter3@npm:^3.1.0":
  version: 3.1.2
  resolution: "eventemitter3@npm:3.1.2"
  checksum: 10c0/c67262eccbf85848b7cc6d4abb6c6e34155e15686db2a01c57669fd0d44441a574a19d44d25948b442929e065774cbe5003d8e77eed47674fbf876ac77887793
  languageName: node
  linkType: hard

"eventemitter3@npm:^4.0.0":
  version: 4.0.7
  resolution: "eventemitter3@npm:4.0.7"
  checksum: 10c0/5f6d97cbcbac47be798e6355e3a7639a84ee1f7d9b199a07017f1d2f1e2fe236004d14fa5dfaeba661f94ea57805385e326236a6debbc7145c8877fbc0297c6b
  languageName: node
  linkType: hard

"events@npm:^3.3.0":
  version: 3.3.0
  resolution: "events@npm:3.3.0"
  checksum: 10c0/d6b6f2adbccbcda74ddbab52ed07db727ef52e31a61ed26db9feb7dc62af7fc8e060defa65e5f8af9449b86b52cc1a1f6a79f2eafcf4e62add2b7a1fa4a432f6
  languageName: node
  linkType: hard

"expand-template@npm:^2.0.3":
  version: 2.0.3
  resolution: "expand-template@npm:2.0.3"
  checksum: 10c0/1c9e7afe9acadf9d373301d27f6a47b34e89b3391b1ef38b7471d381812537ef2457e620ae7f819d2642ce9c43b189b3583813ec395e2938319abe356a9b2f51
  languageName: node
  linkType: hard

"exponential-backoff@npm:^3.1.1":
  version: 3.1.1
  resolution: "exponential-backoff@npm:3.1.1"
  checksum: 10c0/160456d2d647e6019640bd07111634d8c353038d9fa40176afb7cd49b0548bdae83b56d05e907c2cce2300b81cae35d800ef92fefb9d0208e190fa3b7d6bb579
  languageName: node
  linkType: hard

"extend@npm:~3.0.2":
  version: 3.0.2
  resolution: "extend@npm:3.0.2"
  checksum: 10c0/73bf6e27406e80aa3e85b0d1c4fd987261e628064e170ca781125c0b635a3dabad5e05adbf07595ea0cf1e6c5396cacb214af933da7cbaf24fe75ff14818e8f9
  languageName: node
  linkType: hard

"extsprintf@npm:1.3.0":
  version: 1.3.0
  resolution: "extsprintf@npm:1.3.0"
  checksum: 10c0/f75114a8388f0cbce68e277b6495dc3930db4dde1611072e4a140c24e204affd77320d004b947a132e9a3b97b8253017b2b62dce661975fb0adced707abf1ab5
  languageName: node
  linkType: hard

"extsprintf@npm:^1.2.0":
  version: 1.4.1
  resolution: "extsprintf@npm:1.4.1"
  checksum: 10c0/e10e2769985d0e9b6c7199b053a9957589d02e84de42832c295798cb422a025e6d4a92e0259c1fb4d07090f5bfde6b55fd9f880ac5855bd61d775f8ab75a7ab0
  languageName: node
  linkType: hard

"fast-deep-equal@npm:^3.1.1":
  version: 3.1.3
  resolution: "fast-deep-equal@npm:3.1.3"
  checksum: 10c0/40dedc862eb8992c54579c66d914635afbec43350afbbe991235fdcb4e3a8d5af1b23ae7e79bef7d4882d0ecee06c3197488026998fb19f72dc95acff1d1b1d0
  languageName: node
  linkType: hard

"fast-json-stable-stringify@npm:^2.0.0":
  version: 2.1.0
  resolution: "fast-json-stable-stringify@npm:2.1.0"
  checksum: 10c0/7f081eb0b8a64e0057b3bb03f974b3ef00135fbf36c1c710895cd9300f13c94ba809bb3a81cf4e1b03f6e5285610a61abbd7602d0652de423144dfee5a389c9b
  languageName: node
  linkType: hard

"fast-safe-stringify@npm:^2.0.4":
  version: 2.1.1
  resolution: "fast-safe-stringify@npm:2.1.1"
  checksum: 10c0/d90ec1c963394919828872f21edaa3ad6f1dddd288d2bd4e977027afff09f5db40f94e39536d4646f7e01761d704d72d51dce5af1b93717f3489ef808f5f4e4d
  languageName: node
  linkType: hard

"fast-xml-parser@npm:^4.0.3":
  version: 4.3.2
  resolution: "fast-xml-parser@npm:4.3.2"
  dependencies:
    strnum: "npm:^1.0.5"
  bin:
    fxparser: src/cli/cli.js
  checksum: 10c0/7c1611349384656ec4faa9802fbc8cf8c01206a1b79193d5cd54586307801562509007f6cf16e5da7d43da4fa4639770f38959a285b9466aa98dab0a9b8ca171
  languageName: node
  linkType: hard

"fecha@npm:^2.3.3":
  version: 2.3.3
  resolution: "fecha@npm:2.3.3"
  checksum: 10c0/1e3d7f504633f46cec48af11ab1768205c11ee63c02a10de9412a3836d85b5aaffc53655eaac0fc1ca7276104080c5661fe4f4177f9cd3daacc897032f819dd2
  languageName: node
  linkType: hard

"fecha@npm:^4.2.0":
  version: 4.2.3
  resolution: "fecha@npm:4.2.3"
  checksum: 10c0/0e895965959cf6a22bb7b00f0bf546f2783836310f510ddf63f463e1518d4c96dec61ab33fdfd8e79a71b4856a7c865478ce2ee8498d560fe125947703c9b1cf
  languageName: node
  linkType: hard

"file-type@npm:3.9.0":
  version: 3.9.0
  resolution: "file-type@npm:3.9.0"
  checksum: 10c0/7ae074b350c2300807a99d428600a8ee6b2ace901400898706a20ddc2c43c9abb7e05177ff55ed67a2fd26dfa9b91857b21ec9c0ab3202b9cabebc7e65900240
  languageName: node
  linkType: hard

"file-type@npm:^16.3.0, file-type@npm:^16.5.4":
  version: 16.5.4
  resolution: "file-type@npm:16.5.4"
  dependencies:
    readable-web-to-node-stream: "npm:^3.0.0"
    strtok3: "npm:^6.2.4"
    token-types: "npm:^4.1.1"
  checksum: 10c0/a6c9ab8bc05bc9c212bec239fb0d5bf59ddc9b3912f00c4ef44622e67ae4e553a1cc8372e9e595e14859035188eb305d05d488fa3c5c2a2ad90bb7745b3004ef
  languageName: node
  linkType: hard

"flatted@npm:3.3.1":
  version: 3.3.1
  resolution: "flatted@npm:3.3.1"
  checksum: 10c0/324166b125ee07d4ca9bcf3a5f98d915d5db4f39d711fba640a3178b959919aae1f7cfd8aabcfef5826ed8aa8a2aa14cc85b2d7d18ff638ddf4ae3df39573eaf
  languageName: node
  linkType: hard

"follow-redirects@npm:^1.0.0":
  version: 1.15.6
  resolution: "follow-redirects@npm:1.15.6"
  peerDependenciesMeta:
    debug:
      optional: true
  checksum: 10c0/9ff767f0d7be6aa6870c82ac79cf0368cd73e01bbc00e9eb1c2a16fbb198ec105e3c9b6628bb98e9f3ac66fe29a957b9645bcb9a490bb7aa0d35f908b6b85071
  languageName: node
  linkType: hard

"foreground-child@npm:^3.1.0":
  version: 3.3.0
  resolution: "foreground-child@npm:3.3.0"
  dependencies:
    cross-spawn: "npm:^7.0.0"
    signal-exit: "npm:^4.0.1"
  checksum: 10c0/028f1d41000553fcfa6c4bb5c372963bf3d9bf0b1f25a87d1a6253014343fb69dfb1b42d9625d7cf44c8ba429940f3d0ff718b62105d4d4a4f6ef8ca0a53faa2
  languageName: node
  linkType: hard

"forever-agent@npm:~0.6.1":
  version: 0.6.1
  resolution: "forever-agent@npm:0.6.1"
  checksum: 10c0/364f7f5f7d93ab661455351ce116a67877b66f59aca199559a999bd39e3cfadbfbfacc10415a915255e2210b30c23febe9aec3ca16bf2d1ff11c935a1000e24c
  languageName: node
  linkType: hard

"form-data@npm:~2.3.2":
  version: 2.3.3
  resolution: "form-data@npm:2.3.3"
  dependencies:
    asynckit: "npm:^0.4.0"
    combined-stream: "npm:^1.0.6"
    mime-types: "npm:^2.1.12"
  checksum: 10c0/706ef1e5649286b6a61e5bb87993a9842807fd8f149cd2548ee807ea4fb882247bdf7f6e64ac4720029c0cd5c80343de0e22eee1dc9e9882e12db9cc7bc016a4
  languageName: node
  linkType: hard

"fs-constants@npm:^1.0.0":
  version: 1.0.0
  resolution: "fs-constants@npm:1.0.0"
  checksum: 10c0/a0cde99085f0872f4d244e83e03a46aa387b74f5a5af750896c6b05e9077fac00e9932fdf5aef84f2f16634cd473c63037d7a512576da7d5c2b9163d1909f3a8
  languageName: node
  linkType: hard

"fs-minipass@npm:^2.0.0":
  version: 2.1.0
  resolution: "fs-minipass@npm:2.1.0"
  dependencies:
    minipass: "npm:^3.0.0"
  checksum: 10c0/703d16522b8282d7299337539c3ed6edddd1afe82435e4f5b76e34a79cd74e488a8a0e26a636afc2440e1a23b03878e2122e3a2cfe375a5cf63c37d92b86a004
  languageName: node
  linkType: hard

"fs-minipass@npm:^3.0.0":
  version: 3.0.3
  resolution: "fs-minipass@npm:3.0.3"
  dependencies:
    minipass: "npm:^7.0.3"
  checksum: 10c0/63e80da2ff9b621e2cb1596abcb9207f1cf82b968b116ccd7b959e3323144cce7fb141462200971c38bbf2ecca51695069db45265705bed09a7cd93ae5b89f94
  languageName: node
  linkType: hard

"fs.realpath@npm:^1.0.0":
  version: 1.0.0
  resolution: "fs.realpath@npm:1.0.0"
  checksum: 10c0/444cf1291d997165dfd4c0d58b69f0e4782bfd9149fd72faa4fe299e68e0e93d6db941660b37dd29153bf7186672ececa3b50b7e7249477b03fdf850f287c948
  languageName: node
  linkType: hard

"function-bind@npm:^1.1.2":
  version: 1.1.2
  resolution: "function-bind@npm:1.1.2"
  checksum: 10c0/d8680ee1e5fcd4c197e4ac33b2b4dce03c71f4d91717292785703db200f5c21f977c568d28061226f9b5900cbcd2c84463646134fd5337e7925e0942bc3f46d5
  languageName: node
  linkType: hard

"get-caller-file@npm:^2.0.5":
  version: 2.0.5
  resolution: "get-caller-file@npm:2.0.5"
  checksum: 10c0/c6c7b60271931fa752aeb92f2b47e355eac1af3a2673f47c9589e8f8a41adc74d45551c1bc57b5e66a80609f10ffb72b6f575e4370d61cc3f7f3aaff01757cde
  languageName: node
  linkType: hard

"get-port@npm:^5.1.1":
  version: 5.1.1
  resolution: "get-port@npm:5.1.1"
  checksum: 10c0/2873877a469b24e6d5e0be490724a17edb39fafc795d1d662e7bea951ca649713b4a50117a473f9d162312cb0e946597bd0e049ed2f866e79e576e8e213d3d1c
  languageName: node
  linkType: hard

"getpass@npm:^0.1.1":
  version: 0.1.7
  resolution: "getpass@npm:0.1.7"
  dependencies:
    assert-plus: "npm:^1.0.0"
  checksum: 10c0/c13f8530ecf16fc509f3fa5cd8dd2129ffa5d0c7ccdf5728b6022d52954c2d24be3706b4cdf15333eec52f1fbb43feb70a01dabc639d1d10071e371da8aaa52f
  languageName: node
  linkType: hard

"github-from-package@npm:0.0.0":
  version: 0.0.0
  resolution: "github-from-package@npm:0.0.0"
  checksum: 10c0/737ee3f52d0a27e26332cde85b533c21fcdc0b09fb716c3f8e522cfaa9c600d4a631dec9fcde179ec9d47cca89017b7848ed4d6ae6b6b78f936c06825b1fcc12
  languageName: node
  linkType: hard

"glob@npm:^10.2.2, glob@npm:^10.3.10":
  version: 10.4.5
  resolution: "glob@npm:10.4.5"
  dependencies:
    foreground-child: "npm:^3.1.0"
    jackspeak: "npm:^3.1.2"
    minimatch: "npm:^9.0.4"
    minipass: "npm:^7.1.2"
    package-json-from-dist: "npm:^1.0.0"
    path-scurry: "npm:^1.11.1"
  bin:
    glob: dist/esm/bin.mjs
  checksum: 10c0/19a9759ea77b8e3ca0a43c2f07ecddc2ad46216b786bb8f993c445aee80d345925a21e5280c7b7c6c59e860a0154b84e4b2b60321fea92cd3c56b4a7489f160e
  languageName: node
  linkType: hard

"glob@npm:^7.0.0, glob@npm:^7.1.3, glob@npm:^7.1.6":
  version: 7.2.3
  resolution: "glob@npm:7.2.3"
  dependencies:
    fs.realpath: "npm:^1.0.0"
    inflight: "npm:^1.0.4"
    inherits: "npm:2"
    minimatch: "npm:^3.1.1"
    once: "npm:^1.3.0"
    path-is-absolute: "npm:^1.0.0"
  checksum: 10c0/65676153e2b0c9095100fe7f25a778bf45608eeb32c6048cf307f579649bcc30353277b3b898a3792602c65764e5baa4f643714dfbdfd64ea271d210c7a425fe
  languageName: node
  linkType: hard

"glob@npm:^8.0.0":
  version: 8.1.0
  resolution: "glob@npm:8.1.0"
  dependencies:
    fs.realpath: "npm:^1.0.0"
    inflight: "npm:^1.0.4"
    inherits: "npm:2"
    minimatch: "npm:^5.0.1"
    once: "npm:^1.3.0"
  checksum: 10c0/cb0b5cab17a59c57299376abe5646c7070f8acb89df5595b492dba3bfb43d301a46c01e5695f01154e6553168207cb60d4eaf07d3be4bc3eb9b0457c5c561d0f
  languageName: node
  linkType: hard

"google-protobuf@npm:^3.12.2":
  version: 3.21.0
  resolution: "google-protobuf@npm:3.21.0"
  checksum: 10c0/ca5776c75399b327d108c19f9349c09bd46e6dbbbaad852cf5268576075bec601f84319cb02a782ca0195027001c2877cecd16ef440fbcae4dcaed5d4788c340
  languageName: node
  linkType: hard

"graceful-fs@npm:^4.1.11, graceful-fs@npm:^4.2.6":
  version: 4.2.11
  resolution: "graceful-fs@npm:4.2.11"
  checksum: 10c0/386d011a553e02bc594ac2ca0bd6d9e4c22d7fa8cfbfc448a6d148c59ea881b092db9dbe3547ae4b88e55f1b01f7c4a2ecc53b310c042793e63aa44cf6c257f2
  languageName: node
  linkType: hard

"graphql-ws@npm:^5.11.2":
  version: 5.12.1
  resolution: "graphql-ws@npm:5.12.1"
  peerDependencies:
    graphql: ">=0.11 <=16"
  checksum: 10c0/17338de4783b76e01a41e73a740beb72f9bde46750867463e394679cecc557f2af4ba59af8196e14aed1711a9b7ce6cff0149abc4ff27ca92497b988d6ebbac3
  languageName: node
  linkType: hard

"graphql@npm:^15.8.0":
  version: 15.8.0
  resolution: "graphql@npm:15.8.0"
  checksum: 10c0/30cc09b77170a9d1ed68e4c017ec8c5265f69501c96e4f34f8f6613f39a886c96dd9853eac925f212566ed651736334c8fe24ceae6c44e8d7625c95c3009a801
  languageName: node
  linkType: hard

"handlebars@npm:4.7.8":
  version: 4.7.8
  resolution: "handlebars@npm:4.7.8"
  dependencies:
    minimist: "npm:^1.2.5"
    neo-async: "npm:^2.6.2"
    source-map: "npm:^0.6.1"
    uglify-js: "npm:^3.1.4"
    wordwrap: "npm:^1.0.0"
  dependenciesMeta:
    uglify-js:
      optional: true
  bin:
    handlebars: bin/handlebars
  checksum: 10c0/7aff423ea38a14bb379316f3857fe0df3c5d66119270944247f155ba1f08e07a92b340c58edaa00cfe985c21508870ee5183e0634dcb53dd405f35c93ef7f10d
  languageName: node
  linkType: hard

"har-schema@npm:^2.0.0":
  version: 2.0.0
  resolution: "har-schema@npm:2.0.0"
  checksum: 10c0/3856cb76152658e0002b9c2b45b4360bb26b3e832c823caed8fcf39a01096030bf09fa5685c0f7b0f2cb3ecba6e9dce17edaf28b64a423d6201092e6be56e592
  languageName: node
  linkType: hard

"har-validator@npm:~5.1.3":
  version: 5.1.5
  resolution: "har-validator@npm:5.1.5"
  dependencies:
    ajv: "npm:^6.12.3"
    har-schema: "npm:^2.0.0"
  checksum: 10c0/f1d606eb1021839e3a905be5ef7cca81c2256a6be0748efb8fefc14312214f9e6c15d7f2eaf37514104071207d84f627b68bb9f6178703da4e06fbd1a0649a5e
  languageName: node
  linkType: hard

"has-binary2@npm:~1.0.2":
  version: 1.0.3
  resolution: "has-binary2@npm:1.0.3"
  dependencies:
    isarray: "npm:2.0.1"
  checksum: 10c0/0ff135b01acfe219badc4b53d939fcec20683cdbe068bf91bfb4c949197eacc141be53c2d93a92c0515b29abc355dfac1e6f03103bfd6b876c8e2e5ca4108afb
  languageName: node
  linkType: hard

"has-cors@npm:1.1.0":
  version: 1.1.0
  resolution: "has-cors@npm:1.1.0"
  checksum: 10c0/5ca44b97681cb05c4fde04bf3d8d84d0b0a95d6134eb5821e057ea3b09f4c658c8b499bcdfc4d8ad669253b5249767062e2882eba40950eb73e4465748d4f3cf
  languageName: node
  linkType: hard

"hash-base@npm:^3.0.0":
  version: 3.1.0
  resolution: "hash-base@npm:3.1.0"
  dependencies:
    inherits: "npm:^2.0.4"
    readable-stream: "npm:^3.6.0"
    safe-buffer: "npm:^5.2.0"
  checksum: 10c0/663eabcf4173326fbb65a1918a509045590a26cc7e0964b754eef248d281305c6ec9f6b31cb508d02ffca383ab50028180ce5aefe013e942b44a903ac8dc80d0
  languageName: node
  linkType: hard

"hasown@npm:^2.0.2":
  version: 2.0.2
  resolution: "hasown@npm:2.0.2"
  dependencies:
    function-bind: "npm:^1.1.2"
  checksum: 10c0/3769d434703b8ac66b209a4cca0737519925bbdb61dd887f93a16372b14694c63ff4e797686d87c90f08168e81082248b9b028bad60d4da9e0d1148766f56eb9
  languageName: node
  linkType: hard

"heap-js@npm:^2.3.0":
  version: 2.3.0
  resolution: "heap-js@npm:2.3.0"
  checksum: 10c0/e8026e1725439eae8776b9bdd0252109495aac67c70845c24c2051c9d256a8a505e64af29a56e275c705ed4763cc48ff38589a48f434fc1569e4993cbb370805
  languageName: node
  linkType: hard

"help-me@npm:^3.0.0":
  version: 3.0.0
  resolution: "help-me@npm:3.0.0"
  dependencies:
    glob: "npm:^7.1.6"
    readable-stream: "npm:^3.6.0"
  checksum: 10c0/8e3f1fa5ec8442a95c7b3ea17bf58549bf36a946e5cbbc144edf549818c51533ec93f62a04cd78ecb34f00fb4424b082509ea5e342921011579f1bc53b7b4ec1
  languageName: node
  linkType: hard

"help-me@npm:^4.2.0":
  version: 4.2.0
  resolution: "help-me@npm:4.2.0"
  dependencies:
    glob: "npm:^8.0.0"
    readable-stream: "npm:^3.6.0"
  checksum: 10c0/e61ef2de21c550896f4df40f1456baf22077205f3753af481d4408fd57f191d630306175edd8c083100cb14f7986d5058ce977876eac48e71962451321455b7b
  languageName: node
  linkType: hard

"http-cache-semantics@npm:^4.1.1":
  version: 4.1.1
  resolution: "http-cache-semantics@npm:4.1.1"
  checksum: 10c0/ce1319b8a382eb3cbb4a37c19f6bfe14e5bb5be3d09079e885e8c513ab2d3cd9214902f8a31c9dc4e37022633ceabfc2d697405deeaf1b8f3552bb4ed996fdfc
  languageName: node
  linkType: hard

"http-proxy-agent@npm:^7.0.0":
  version: 7.0.2
  resolution: "http-proxy-agent@npm:7.0.2"
  dependencies:
    agent-base: "npm:^7.1.0"
    debug: "npm:^4.3.4"
  checksum: 10c0/4207b06a4580fb85dd6dff521f0abf6db517489e70863dca1a0291daa7f2d3d2d6015a57bd702af068ea5cf9f1f6ff72314f5f5b4228d299c0904135d2aef921
  languageName: node
  linkType: hard

"http-proxy@npm:^1.11.1":
  version: 1.18.1
  resolution: "http-proxy@npm:1.18.1"
  dependencies:
    eventemitter3: "npm:^4.0.0"
    follow-redirects: "npm:^1.0.0"
    requires-port: "npm:^1.0.0"
  checksum: 10c0/148dfa700a03fb421e383aaaf88ac1d94521dfc34072f6c59770528c65250983c2e4ec996f2f03aa9f3fe46cd1270a593126068319311e3e8d9e610a37533e94
  languageName: node
  linkType: hard

"http-reasons@npm:0.1.0":
  version: 0.1.0
  resolution: "http-reasons@npm:0.1.0"
  checksum: 10c0/1de8a3b4675eec6ed8730c3051a0e5bd63f930c5bec4df3f59878be2a04f4a9815fc614b1b6f0285f440912334b2b1b2b636d2fbbe38990754bfac5e720b2141
  languageName: node
  linkType: hard

"http-signature@npm:~1.2.0":
  version: 1.2.0
  resolution: "http-signature@npm:1.2.0"
  dependencies:
    assert-plus: "npm:^1.0.0"
    jsprim: "npm:^1.2.2"
    sshpk: "npm:^1.7.0"
  checksum: 10c0/582f7af7f354429e1fb19b3bbb9d35520843c69bb30a25b88ca3c5c2c10715f20ae7924e20cffbed220b1d3a726ef4fe8ccc48568d5744db87be9a79887d6733
  languageName: node
  linkType: hard

"http-signature@npm:~1.3.1":
  version: 1.3.6
  resolution: "http-signature@npm:1.3.6"
  dependencies:
    assert-plus: "npm:^1.0.0"
    jsprim: "npm:^2.0.2"
    sshpk: "npm:^1.14.1"
  checksum: 10c0/f8d15d8c91a5a80805530e2f401a3f83ed55162058651d86ad00df294b159a54e001b5d00e04983f7542a55865aee02d2d83d68c8499137ff2bc142553d8dfc2
  languageName: node
  linkType: hard

"http-signature@npm:~1.4.0":
  version: 1.4.0
  resolution: "http-signature@npm:1.4.0"
  dependencies:
    assert-plus: "npm:^1.0.0"
    jsprim: "npm:^2.0.2"
    sshpk: "npm:^1.18.0"
  checksum: 10c0/b9806f5a9ed82a146589837d175c43b596b1cc8c9431665e83d47c152aa8a4629dd1b1e050f8f56e7f17f62cf97b58e888775093310441ddee5f105f28646b2b
  languageName: node
  linkType: hard

"httpntlm@npm:1.8.13":
  version: 1.8.13
  resolution: "httpntlm@npm:1.8.13"
  dependencies:
    des.js: "npm:^1.0.1"
    httpreq: "npm:>=0.4.22"
    js-md4: "npm:^0.3.2"
    underscore: "npm:~1.12.1"
  checksum: 10c0/1ea2b3e92a4faec452792e2b7c6fdb9dd75a4ab266a5261270f67c704495f72888ac0eac55b9fb8229d541e97ded856a0b32a60fc186e11342a97837196bcc0b
  languageName: node
  linkType: hard

"httpreq@npm:>=0.4.22":
  version: 0.5.2
  resolution: "httpreq@npm:0.5.2"
  checksum: 10c0/fa698832a6b28da0b1921e1981287599b75e8d33e2e224bb5bb796fcf7cf4485ed46e2dc2a9525e9aaec324fddd3ec04ad1880796258e44f08ce87183db38c71
  languageName: node
  linkType: hard

"https-proxy-agent@npm:^5.0.0":
  version: 5.0.1
  resolution: "https-proxy-agent@npm:5.0.1"
  dependencies:
    agent-base: "npm:6"
    debug: "npm:4"
  checksum: 10c0/6dd639f03434003577c62b27cafdb864784ef19b2de430d8ae2a1d45e31c4fd60719e5637b44db1a88a046934307da7089e03d6089ec3ddacc1189d8de8897d1
  languageName: node
  linkType: hard

"https-proxy-agent@npm:^7.0.1":
  version: 7.0.5
  resolution: "https-proxy-agent@npm:7.0.5"
  dependencies:
    agent-base: "npm:^7.0.2"
    debug: "npm:4"
  checksum: 10c0/2490e3acec397abeb88807db52cac59102d5ed758feee6df6112ab3ccd8325e8a1ce8bce6f4b66e5470eca102d31e425ace904242e4fa28dbe0c59c4bafa7b2c
  languageName: node
  linkType: hard

"i18next@npm:^23.5.1":
  version: 23.5.1
  resolution: "i18next@npm:23.5.1"
  dependencies:
    "@babel/runtime": "npm:^7.22.5"
  checksum: 10c0/af49c399a90505ae26c1a022d06c4a11c4adcde6524b31c315dcaa43443c85892adef6de934b2af737abbdd2ffa66449d2854f135af8691223a8bb4ffaf6e1af
  languageName: node
  linkType: hard

"iconv-lite@npm:0.6.3, iconv-lite@npm:^0.6.2":
  version: 0.6.3
  resolution: "iconv-lite@npm:0.6.3"
  dependencies:
    safer-buffer: "npm:>= 2.1.2 < 3.0.0"
  checksum: 10c0/98102bc66b33fcf5ac044099d1257ba0b7ad5e3ccd3221f34dd508ab4070edff183276221684e1e0555b145fce0850c9f7d2b60a9fcac50fbb4ea0d6e845a3b1
  languageName: node
  linkType: hard

"ieee754@npm:^1.1.13, ieee754@npm:^1.2.1":
  version: 1.2.1
  resolution: "ieee754@npm:1.2.1"
  checksum: 10c0/b0782ef5e0935b9f12883a2e2aa37baa75da6e66ce6515c168697b42160807d9330de9a32ec1ed73149aea02e0d822e572bca6f1e22bdcbd2149e13b050b17bb
  languageName: node
  linkType: hard

"immediate@npm:~3.0.5":
  version: 3.0.6
  resolution: "immediate@npm:3.0.6"
  checksum: 10c0/f8ba7ede69bee9260241ad078d2d535848745ff5f6995c7c7cb41cfdc9ccc213f66e10fa5afb881f90298b24a3f7344b637b592beb4f54e582770cdce3f1f039
  languageName: node
  linkType: hard

"imurmurhash@npm:^0.1.4":
  version: 0.1.4
  resolution: "imurmurhash@npm:0.1.4"
  checksum: 10c0/8b51313850dd33605c6c9d3fd9638b714f4c4c40250cff658209f30d40da60f78992fb2df5dabee4acf589a6a82bbc79ad5486550754bd9ec4e3fc0d4a57d6a6
  languageName: node
  linkType: hard

"indent-string@npm:^4.0.0":
  version: 4.0.0
  resolution: "indent-string@npm:4.0.0"
  checksum: 10c0/1e1904ddb0cb3d6cce7cd09e27a90184908b7a5d5c21b92e232c93579d314f0b83c246ffb035493d0504b1e9147ba2c9b21df0030f48673fba0496ecd698161f
  languageName: node
  linkType: hard

"indexof@npm:0.0.1":
  version: 0.0.1
  resolution: "indexof@npm:0.0.1"
  checksum: 10c0/31f2b90def1d5429db21384a10d0ccc0d7bdbf0566d30d7fcabf99c7c2b7ffe420bb8fabadcce85e3d453b0e590c507de64401abe8c3eb238c878e78fcb98d33
  languageName: node
  linkType: hard

"inflight@npm:^1.0.4":
  version: 1.0.6
  resolution: "inflight@npm:1.0.6"
  dependencies:
    once: "npm:^1.3.0"
    wrappy: "npm:1"
  checksum: 10c0/7faca22584600a9dc5b9fca2cd5feb7135ac8c935449837b315676b4c90aa4f391ec4f42240178244b5a34e8bede1948627fda392ca3191522fc46b34e985ab2
  languageName: node
  linkType: hard

"inherits@npm:2, inherits@npm:^2.0.1, inherits@npm:^2.0.3, inherits@npm:^2.0.4, inherits@npm:~2.0.3":
  version: 2.0.4
  resolution: "inherits@npm:2.0.4"
  checksum: 10c0/4e531f648b29039fb7426fb94075e6545faa1eb9fe83c29f0b6d9e7263aceb4289d2d4557db0d428188eeb449cc7c5e77b0a0b2c4e248ff2a65933a0dee49ef2
  languageName: node
  linkType: hard

"ini@npm:~1.3.0":
  version: 1.3.8
  resolution: "ini@npm:1.3.8"
  checksum: 10c0/ec93838d2328b619532e4f1ff05df7909760b6f66d9c9e2ded11e5c1897d6f2f9980c54dd638f88654b00919ce31e827040631eab0a3969e4d1abefa0719516a
  languageName: node
  linkType: hard

"interpret@npm:^1.0.0":
  version: 1.4.0
  resolution: "interpret@npm:1.4.0"
  checksum: 10c0/08c5ad30032edeec638485bc3f6db7d0094d9b3e85e0f950866600af3c52e9fd69715416d29564731c479d9f4d43ff3e4d302a178196bdc0e6837ec147640450
  languageName: node
  linkType: hard

"ip-address@npm:^9.0.5":
  version: 9.0.5
  resolution: "ip-address@npm:9.0.5"
  dependencies:
    jsbn: "npm:1.1.0"
    sprintf-js: "npm:^1.1.3"
  checksum: 10c0/331cd07fafcb3b24100613e4b53e1a2b4feab11e671e655d46dc09ee233da5011284d09ca40c4ecbdfe1d0004f462958675c224a804259f2f78d2465a87824bc
  languageName: node
  linkType: hard

"is-arrayish@npm:^0.3.1":
  version: 0.3.2
  resolution: "is-arrayish@npm:0.3.2"
  checksum: 10c0/f59b43dc1d129edb6f0e282595e56477f98c40278a2acdc8b0a5c57097c9eff8fe55470493df5775478cf32a4dc8eaf6d3a749f07ceee5bc263a78b2434f6a54
  languageName: node
  linkType: hard

"is-buffer@npm:~1.1.6":
  version: 1.1.6
  resolution: "is-buffer@npm:1.1.6"
  checksum: 10c0/ae18aa0b6e113d6c490ad1db5e8df9bdb57758382b313f5a22c9c61084875c6396d50bbf49315f5b1926d142d74dfb8d31b40d993a383e0a158b15fea7a82234
  languageName: node
  linkType: hard

"is-core-module@npm:^2.13.0":
  version: 2.15.1
  resolution: "is-core-module@npm:2.15.1"
  dependencies:
    hasown: "npm:^2.0.2"
  checksum: 10c0/53432f10c69c40bfd2fa8914133a68709ff9498c86c3bf5fca3cdf3145a56fd2168cbf4a43b29843a6202a120a5f9c5ffba0a4322e1e3441739bc0b641682612
  languageName: node
  linkType: hard

"is-fullwidth-code-point@npm:^3.0.0":
  version: 3.0.0
  resolution: "is-fullwidth-code-point@npm:3.0.0"
  checksum: 10c0/bb11d825e049f38e04c06373a8d72782eee0205bda9d908cc550ccb3c59b99d750ff9537982e01733c1c94a58e35400661f57042158ff5e8f3e90cf936daf0fc
  languageName: node
  linkType: hard

"is-lambda@npm:^1.0.1":
  version: 1.0.1
  resolution: "is-lambda@npm:1.0.1"
  checksum: 10c0/85fee098ae62ba6f1e24cf22678805473c7afd0fb3978a3aa260e354cb7bcb3a5806cf0a98403188465efedec41ab4348e8e4e79305d409601323855b3839d4d
  languageName: node
  linkType: hard

"is-stream@npm:^1.1.0":
  version: 1.1.0
  resolution: "is-stream@npm:1.1.0"
  checksum: 10c0/b8ae7971e78d2e8488d15f804229c6eed7ed36a28f8807a1815938771f4adff0e705218b7dab968270433f67103e4fef98062a0beea55d64835f705ee72c7002
  languageName: node
  linkType: hard

"is-typedarray@npm:~1.0.0":
  version: 1.0.0
  resolution: "is-typedarray@npm:1.0.0"
  checksum: 10c0/4c096275ba041a17a13cca33ac21c16bc4fd2d7d7eb94525e7cd2c2f2c1a3ab956e37622290642501ff4310601e413b675cf399ad6db49855527d2163b3eeeec
  languageName: node
  linkType: hard

"isarray@npm:2.0.1":
  version: 2.0.1
  resolution: "isarray@npm:2.0.1"
  checksum: 10c0/ff43dc2ae104ca8c521db397f5c6cc3c8ba68ee33f186f92de72887be0c4ca1333df1386b20f376a520f41739d5a0f5f61fbb6826f10aa2d619ede603e477dc6
  languageName: node
  linkType: hard

"isarray@npm:~1.0.0":
  version: 1.0.0
  resolution: "isarray@npm:1.0.0"
  checksum: 10c0/18b5be6669be53425f0b84098732670ed4e727e3af33bc7f948aac01782110eb9a18b3b329c5323bcdd3acdaae547ee077d3951317e7f133bff7105264b3003d
  languageName: node
  linkType: hard

"isexe@npm:^2.0.0":
  version: 2.0.0
  resolution: "isexe@npm:2.0.0"
  checksum: 10c0/228cfa503fadc2c31596ab06ed6aa82c9976eec2bfd83397e7eaf06d0ccf42cd1dfd6743bf9aeb01aebd4156d009994c5f76ea898d2832c1fe342da923ca457d
  languageName: node
  linkType: hard

"isexe@npm:^3.1.1":
  version: 3.1.1
  resolution: "isexe@npm:3.1.1"
  checksum: 10c0/9ec257654093443eb0a528a9c8cbba9c0ca7616ccb40abd6dde7202734d96bb86e4ac0d764f0f8cd965856aacbff2f4ce23e730dc19dfb41e3b0d865ca6fdcc7
  languageName: node
  linkType: hard

"isstream@npm:~0.1.2":
  version: 0.1.2
  resolution: "isstream@npm:0.1.2"
  checksum: 10c0/a6686a878735ca0a48e0d674dd6d8ad31aedfaf70f07920da16ceadc7577b46d67179a60b313f2e6860cb097a2c2eb3cbd0b89e921ae89199a59a17c3273d66f
  languageName: node
  linkType: hard

"iterall@npm:^1.2.1":
  version: 1.3.0
  resolution: "iterall@npm:1.3.0"
  checksum: 10c0/40de624e5fe937c4c0e511981b91caea9ff2142bfc0316cccc8506eaa03aa253820cc17c5bc5f0a98706c7268a373e5ebee9af9a0c8a359730cf7c05938b57b5
  languageName: node
  linkType: hard

"jackspeak@npm:^3.1.2":
  version: 3.4.3
  resolution: "jackspeak@npm:3.4.3"
  dependencies:
    "@isaacs/cliui": "npm:^8.0.2"
    "@pkgjs/parseargs": "npm:^0.11.0"
  dependenciesMeta:
    "@pkgjs/parseargs":
      optional: true
  checksum: 10c0/6acc10d139eaefdbe04d2f679e6191b3abf073f111edf10b1de5302c97ec93fffeb2fdd8681ed17f16268aa9dd4f8c588ed9d1d3bffbbfa6e8bf897cbb3149b9
  languageName: node
  linkType: hard

"jose@npm:5.10.0":
  version: 5.10.0
  resolution: "jose@npm:5.10.0"
  checksum: 10c0/e20d9fc58d7e402f2e5f04e824b8897d5579aae60e64cb88ebdea1395311c24537bf4892f7de413fab1acf11e922797fb1b42269bc8fc65089a3749265ccb7b0
  languageName: node
  linkType: hard

"jose@npm:^4.15.4":
  version: 4.15.4
  resolution: "jose@npm:4.15.4"
  checksum: 10c0/ce8b29f84d6172a566b12b599dafa82f3bef0f16278bb76d562490ac1516fcc14017b05a39d20ffad25ed504f4996d4af4c9d3e0273d95b2d5559bf6d1112bc0
  languageName: node
  linkType: hard

"js-base64@npm:^3.7.5":
  version: 3.7.6
  resolution: "js-base64@npm:3.7.6"
  checksum: 10c0/d9ae30a04e28e5814c6c606d08ecf9aac16daea0fcbc549e3b971042a4d4ecc7cf60ea96e1c9e8a463ca75fcbfd13613b87bddb3a8fe92801271e7eedcd3e8d3
  languageName: node
  linkType: hard

"js-md4@npm:^0.3.2":
  version: 0.3.2
  resolution: "js-md4@npm:0.3.2"
  checksum: 10c0/8313e00c45f710a53bdadc199c095b48ebaf54ea7b8cdb67a3f1863c270a5e9d0f89f204436b73866002af8c7ac4cacc872fdf271fc70e26614e424c7685b577
  languageName: node
  linkType: hard

"js-message@npm:1.0.5":
  version: 1.0.5
  resolution: "js-message@npm:1.0.5"
  checksum: 10c0/149f062e942b70981b88595c957f6bb5568a303f6539cd33480c51bf81222ad0bbcb3c48282ab6377c17fd491f37ecb72e4cabc380e4202fab0e49b0690ed4b3
  languageName: node
  linkType: hard

"js-queue@npm:2.0.0":
  version: 2.0.0
  resolution: "js-queue@npm:2.0.0"
  dependencies:
    easy-stack: "npm:^1.0.0"
  checksum: 10c0/9c87b0344d8e4ed275ae153bb118c9712e9307c8721d2357177f5571ca4c89dd5e37f77a1ae0c3fdff970f2ac8f169e1fdec31722ba793c563cfb6541966771e
  languageName: node
  linkType: hard

"js-sdsl@npm:4.3.0":
  version: 4.3.0
  resolution: "js-sdsl@npm:4.3.0"
  checksum: 10c0/cd3c342d08ed646d271bc59e5da12d732fee4a6fa32a30f6552d66cdf5c744b1fc5b61cddaff80702c1c6bb92add3b17ce0b6ff8a2cc7f9188df4065183aa7fb
  languageName: node
  linkType: hard

"js-sha512@npm:0.9.0":
  version: 0.9.0
  resolution: "js-sha512@npm:0.9.0"
  checksum: 10c0/00b85acae8ffde790a703a5424ae03c97c623b008135388396db1bfb1ac0ebf7356c5ff0d5a17630b5ae25ac09fe35eed2abc66bc276e9dc86fcb3cabcfcdfa2
  languageName: node
  linkType: hard

"jsbn@npm:1.1.0":
  version: 1.1.0
  resolution: "jsbn@npm:1.1.0"
  checksum: 10c0/4f907fb78d7b712e11dea8c165fe0921f81a657d3443dde75359ed52eb2b5d33ce6773d97985a089f09a65edd80b11cb75c767b57ba47391fee4c969f7215c96
  languageName: node
  linkType: hard

"jsbn@npm:~0.1.0":
  version: 0.1.1
  resolution: "jsbn@npm:0.1.1"
  checksum: 10c0/e046e05c59ff880ee4ef68902dbdcb6d2f3c5d60c357d4d68647dc23add556c31c0e5f41bdb7e69e793dd63468bd9e085da3636341048ef577b18f5b713877c0
  languageName: node
  linkType: hard

"json-bigint-string@npm:^1.0.0":
  version: 1.0.0
  resolution: "json-bigint-string@npm:1.0.0"
  checksum: 10c0/8ebd4cd8b378f85979427129885f16fc1b90b0ddb8caed9a5d601bbda779dfea50cf33c83bc42676c0d138f1ee299d87ffee2dc43c9f30e7ac3ac5759cf8a1ba
  languageName: node
  linkType: hard

"json-schema-to-ts@npm:~2.7.2":
  version: 2.7.2
  resolution: "json-schema-to-ts@npm:2.7.2"
  dependencies:
    "@babel/runtime": "npm:^7.18.3"
    "@types/json-schema": "npm:^7.0.9"
    ts-algebra: "npm:^1.2.0"
  checksum: 10c0/e9d7841fead4f48913735ee8b047a78b2b90539b070ef2ba14cd379a2d653e46ffee136bdfe0396daef1e20f8fdfc5437d13c15ef6d8586d61fb78eb3322875a
  languageName: node
  linkType: hard

"json-schema-traverse@npm:^0.4.1":
  version: 0.4.1
  resolution: "json-schema-traverse@npm:0.4.1"
  checksum: 10c0/108fa90d4cc6f08243aedc6da16c408daf81793bf903e9fd5ab21983cda433d5d2da49e40711da016289465ec2e62e0324dcdfbc06275a607fe3233fde4942ce
  languageName: node
  linkType: hard

"json-schema-traverse@npm:^1.0.0":
  version: 1.0.0
  resolution: "json-schema-traverse@npm:1.0.0"
  checksum: 10c0/71e30015d7f3d6dc1c316d6298047c8ef98a06d31ad064919976583eb61e1018a60a0067338f0f79cabc00d84af3fcc489bd48ce8a46ea165d9541ba17fb30c6
  languageName: node
  linkType: hard

"json-schema@npm:0.4.0":
  version: 0.4.0
  resolution: "json-schema@npm:0.4.0"
  checksum: 10c0/d4a637ec1d83544857c1c163232f3da46912e971d5bf054ba44fdb88f07d8d359a462b4aec46f2745efbc57053365608d88bc1d7b1729f7b4fc3369765639ed3
  languageName: node
  linkType: hard

"json-stringify-safe@npm:~5.0.1":
  version: 5.0.1
  resolution: "json-stringify-safe@npm:5.0.1"
  checksum: 10c0/7dbf35cd0411d1d648dceb6d59ce5857ec939e52e4afc37601aa3da611f0987d5cee5b38d58329ceddf3ed48bd7215229c8d52059ab01f2444a338bf24ed0f37
  languageName: node
  linkType: hard

"jsonwebtoken@npm:^9.0.0":
  version: 9.0.0
  resolution: "jsonwebtoken@npm:9.0.0"
  dependencies:
    jws: "npm:^3.2.2"
    lodash: "npm:^4.17.21"
    ms: "npm:^2.1.1"
    semver: "npm:^7.3.8"
  checksum: 10c0/60c30d90d8a69b8e7148306e0c299ac120dbde9c032add48d26df928fe349e952cf4b09f12d7942257681a936e3374e4d49280ab20f8a4578688c7f08d87f9bc
  languageName: node
  linkType: hard

"jsprim@npm:^1.2.2":
  version: 1.4.2
  resolution: "jsprim@npm:1.4.2"
  dependencies:
    assert-plus: "npm:1.0.0"
    extsprintf: "npm:1.3.0"
    json-schema: "npm:0.4.0"
    verror: "npm:1.10.0"
  checksum: 10c0/5e4bca99e90727c2040eb4c2190d0ef1fe51798ed5714e87b841d304526190d960f9772acc7108fa1416b61e1122bcd60e4460c91793dce0835df5852aab55af
  languageName: node
  linkType: hard

"jsprim@npm:^2.0.2":
  version: 2.0.2
  resolution: "jsprim@npm:2.0.2"
  dependencies:
    assert-plus: "npm:1.0.0"
    extsprintf: "npm:1.3.0"
    json-schema: "npm:0.4.0"
    verror: "npm:1.10.0"
  checksum: 10c0/677be2d41df536c92c6d0114a492ef197084018cfbb1a3e10b1fa1aad889564b2e3a7baa6af7949cc2d73678f42368b0be165a26bd4e4de6883a30dd6a24e98d
  languageName: node
  linkType: hard

"jszip@npm:^3.1.0":
  version: 3.7.1
  resolution: "jszip@npm:3.7.1"
  dependencies:
    lie: "npm:~3.3.0"
    pako: "npm:~1.0.2"
    readable-stream: "npm:~2.3.6"
    set-immediate-shim: "npm:~1.0.1"
  checksum: 10c0/c43156811a3f6eb002b4e8d6d4be3191bd756191f63b1b01a38ecd860f3dd8cf451729bb3dcdae68003a93719ceed051a3de34356eabb3b7ec7d3ed834f42895
  languageName: node
  linkType: hard

"jwa@npm:^1.4.1":
  version: 1.4.1
  resolution: "jwa@npm:1.4.1"
  dependencies:
    buffer-equal-constant-time: "npm:1.0.1"
    ecdsa-sig-formatter: "npm:1.0.11"
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/5c533540bf38702e73cf14765805a94027c66a0aa8b16bc3e89d8d905e61a4ce2791e87e21be97d1293a5ee9d4f3e5e47737e671768265ca4f25706db551d5e9
  languageName: node
  linkType: hard

"jws@npm:^3.2.2":
  version: 3.2.2
  resolution: "jws@npm:3.2.2"
  dependencies:
    jwa: "npm:^1.4.1"
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/e770704533d92df358adad7d1261fdecad4d7b66fa153ba80d047e03ca0f1f73007ce5ed3fbc04d2eba09ba6e7e6e645f351e08e5ab51614df1b0aa4f384dfff
  languageName: node
  linkType: hard

"keytar@npm:^7.9.0":
  version: 7.9.0
  resolution: "keytar@npm:7.9.0"
  dependencies:
    node-addon-api: "npm:^4.3.0"
    node-gyp: "npm:latest"
    prebuild-install: "npm:^7.0.1"
  checksum: 10c0/a3f987ffc82b8c028c59451f9e50f71620b5455d9d356564d9c825df5bc36c47661caf21df0026795a5fbe0013c18c8e4bedff4da34bb20c9683ef20b685fee3
  languageName: node
  linkType: hard

"kuler@npm:1.0.x":
  version: 1.0.1
  resolution: "kuler@npm:1.0.1"
  dependencies:
    colornames: "npm:^1.1.1"
  checksum: 10c0/9af5f2b8b72cd93347e9a3c7544ff1699e2b60debf7f0fdb6c9a30806432cf521cc78a73503ff008a937ac2e2a49cd22ab55016c27d97c91bc483f25241a35b0
  languageName: node
  linkType: hard

"leven@npm:^2.1.0":
  version: 2.1.0
  resolution: "leven@npm:2.1.0"
  checksum: 10c0/e685243900aad7e854212001c9b7fe6d0806081e184d5077a561a91d07425852e8b7d1edf76b948f4be520b64e0015960be3a5f3e9acb0bec75a0e4134b422df
  languageName: node
  linkType: hard

"lie@npm:3.1.1":
  version: 3.1.1
  resolution: "lie@npm:3.1.1"
  dependencies:
    immediate: "npm:~3.0.5"
  checksum: 10c0/d62685786590351b8e407814acdd89efe1cb136f05cb9236c5a97b2efdca1f631d2997310ad2d565c753db7596799870140e4777c9c9b8c44a0f6bf42d1804a1
  languageName: node
  linkType: hard

"lie@npm:~3.3.0":
  version: 3.3.0
  resolution: "lie@npm:3.3.0"
  dependencies:
    immediate: "npm:~3.0.5"
  checksum: 10c0/56dd113091978f82f9dc5081769c6f3b947852ecf9feccaf83e14a123bc630c2301439ce6182521e5fbafbde88e88ac38314327a4e0493a1bea7e0699a7af808
  languageName: node
  linkType: hard

"liquid-json@npm:0.3.1":
  version: 0.3.1
  resolution: "liquid-json@npm:0.3.1"
  checksum: 10c0/ce222e9e14891d1153efb2c9d74cc3972cb86dc8cf82d58cbde77fb5f77b66045a3a63c1e89deff12a4d22696143667871d686d45e0db5a5d34f206131600549
  languageName: node
  linkType: hard

"localforage@npm:^1.3.0":
  version: 1.10.0
  resolution: "localforage@npm:1.10.0"
  dependencies:
    lie: "npm:3.1.1"
  checksum: 10c0/00f19f1f97002e6721587ed5017f502d58faf80dae567d5065d4d1ee0caf0762f40d2e2dba7f0ef7d3f14ee6203242daae9ecad97359bfc10ecff36df11d85a3
  languageName: node
  linkType: hard

"lockfile@npm:^1.0.4":
  version: 1.0.4
  resolution: "lockfile@npm:1.0.4"
  dependencies:
    signal-exit: "npm:^3.0.2"
  checksum: 10c0/80b7777ceb43105d9e588733c3efc2514653a5e3a0dae3e61347a1f5381da34dcaa2caaa60c39ed5d4ad31c1735a4831e5639a0ba1c508bfea8dbc9c89777b37
  languageName: node
  linkType: hard

"lodash.camelcase@npm:^4.3.0":
  version: 4.3.0
  resolution: "lodash.camelcase@npm:4.3.0"
  checksum: 10c0/fcba15d21a458076dd309fce6b1b4bf611d84a0ec252cb92447c948c533ac250b95d2e00955801ebc367e5af5ed288b996d75d37d2035260a937008e14eaf432
  languageName: node
  linkType: hard

"lodash.set@npm:^4.3.2":
  version: 4.3.2
  resolution: "lodash.set@npm:4.3.2"
  checksum: 10c0/c641d31905e51df43170dce8a1d11a1cff11356e2e2e75fe2615995408e9687d58c3e1d64c3c284c2df2bc519f79a98af737d2944d382ff82ffd244ff6075c29
  languageName: node
  linkType: hard

"lodash@npm:4.17.21, lodash@npm:^4.0.1, lodash@npm:^4.17.14, lodash@npm:^4.17.21":
  version: 4.17.21
  resolution: "lodash@npm:4.17.21"
  checksum: 10c0/d8cbea072bb08655bb4c989da418994b073a608dffa608b09ac04b43a791b12aeae7cd7ad919aa4c925f33b48490b5cfe6c1f71d827956071dae2e7bb3a6b74c
  languageName: node
  linkType: hard

"logform@npm:^1.9.1":
  version: 1.10.0
  resolution: "logform@npm:1.10.0"
  dependencies:
    colors: "npm:^1.2.1"
    fast-safe-stringify: "npm:^2.0.4"
    fecha: "npm:^2.3.3"
    ms: "npm:^2.1.1"
    triple-beam: "npm:^1.2.0"
  checksum: 10c0/19ffd87577fa0155f8ecca32da245449817d29748a3b102298ee613d8cd26a5d02789b7ef4f8d3b31e7f3254b5e282f904502efd3891b6a1f283be99d0085014
  languageName: node
  linkType: hard

"logform@npm:^2.3.2":
  version: 2.4.2
  resolution: "logform@npm:2.4.2"
  dependencies:
    "@colors/colors": "npm:1.5.0"
    fecha: "npm:^4.2.0"
    ms: "npm:^2.1.1"
    safe-stable-stringify: "npm:^2.3.1"
    triple-beam: "npm:^1.3.0"
  checksum: 10c0/a41337eea9d4a400c23e5c65bd8af7cc77eebd224f0b1d441e90ec6a7c0ec60ca9f6408797428c835ee56dc30863e4aef0a4f30c5592b06dfd415eacf7e06144
  languageName: node
  linkType: hard

"long@npm:^5.0.0, long@npm:^5.2.3":
  version: 5.2.3
  resolution: "long@npm:5.2.3"
  checksum: 10c0/6a0da658f5ef683b90330b1af76f06790c623e148222da9d75b60e266bbf88f803232dd21464575681638894a84091616e7f89557aa087fd14116c0f4e0e43d9
  languageName: node
  linkType: hard

"lru-cache@npm:^10.0.1, lru-cache@npm:^10.2.0":
  version: 10.4.3
  resolution: "lru-cache@npm:10.4.3"
  checksum: 10c0/ebd04fbca961e6c1d6c0af3799adcc966a1babe798f685bb84e6599266599cd95d94630b10262f5424539bc4640107e8a33aa28585374abf561d30d16f4b39fb
  languageName: node
  linkType: hard

"lru-cache@npm:^6.0.0":
  version: 6.0.0
  resolution: "lru-cache@npm:6.0.0"
  dependencies:
    yallist: "npm:^4.0.0"
  checksum: 10c0/cb53e582785c48187d7a188d3379c181b5ca2a9c78d2bce3e7dee36f32761d1c42983da3fe12b55cb74e1779fa94cdc2e5367c028a9b35317184ede0c07a30a9
  languageName: node
  linkType: hard

"lru-cache@npm:^7.18.3":
  version: 7.18.3
  resolution: "lru-cache@npm:7.18.3"
  checksum: 10c0/b3a452b491433db885beed95041eb104c157ef7794b9c9b4d647be503be91769d11206bb573849a16b4cc0d03cbd15ffd22df7960997788b74c1d399ac7a4fed
  languageName: node
  linkType: hard

"lru_map@npm:^0.3.3":
  version: 0.3.3
  resolution: "lru_map@npm:0.3.3"
  checksum: 10c0/d861f14a142a4a74ebf8d3ad57f2e768a5b820db4100ae53eed1a64eb6350912332e6ebc87cb7415ad6d0cd8f3ce6d20beab9a5e6042ccb5996ea0067a220448
  languageName: node
  linkType: hard

"make-fetch-happen@npm:^13.0.0":
  version: 13.0.1
  resolution: "make-fetch-happen@npm:13.0.1"
  dependencies:
    "@npmcli/agent": "npm:^2.0.0"
    cacache: "npm:^18.0.0"
    http-cache-semantics: "npm:^4.1.1"
    is-lambda: "npm:^1.0.1"
    minipass: "npm:^7.0.2"
    minipass-fetch: "npm:^3.0.0"
    minipass-flush: "npm:^1.0.5"
    minipass-pipeline: "npm:^1.2.4"
    negotiator: "npm:^0.6.3"
    proc-log: "npm:^4.2.0"
    promise-retry: "npm:^2.0.1"
    ssri: "npm:^10.0.0"
  checksum: 10c0/df5f4dbb6d98153b751bccf4dc4cc500de85a96a9331db9805596c46aa9f99d9555983954e6c1266d9f981ae37a9e4647f42b9a4bb5466f867f4012e582c9e7e
  languageName: node
  linkType: hard

"matchit@npm:^1.0.0":
  version: 1.1.0
  resolution: "matchit@npm:1.1.0"
  dependencies:
    "@arr/every": "npm:^1.0.0"
  checksum: 10c0/f2cd8702ea37dd9859cf1df762581c822180eb72372b9240397a80320cb4ffb4828b3d8ed0beff2429daf500d1ec746c2963dbb3c6386f1b5b9eb969e0f1caaa
  languageName: node
  linkType: hard

"md5.js@npm:^1.3.4":
  version: 1.3.5
  resolution: "md5.js@npm:1.3.5"
  dependencies:
    hash-base: "npm:^3.0.0"
    inherits: "npm:^2.0.1"
    safe-buffer: "npm:^5.1.2"
  checksum: 10c0/b7bd75077f419c8e013fc4d4dada48be71882e37d69a44af65a2f2804b91e253441eb43a0614423a1c91bb830b8140b0dc906bc797245e2e275759584f4efcc5
  languageName: node
  linkType: hard

"md5@npm:^2.3.0":
  version: 2.3.0
  resolution: "md5@npm:2.3.0"
  dependencies:
    charenc: "npm:0.0.2"
    crypt: "npm:0.0.2"
    is-buffer: "npm:~1.1.6"
  checksum: 10c0/14a21d597d92e5b738255fbe7fe379905b8cb97e0a49d44a20b58526a646ec5518c337b817ce0094ca94d3e81a3313879c4c7b510d250c282d53afbbdede9110
  languageName: node
  linkType: hard

"mime-db@npm:1.52.0":
  version: 1.52.0
  resolution: "mime-db@npm:1.52.0"
  checksum: 10c0/0557a01deebf45ac5f5777fe7740b2a5c309c6d62d40ceab4e23da9f821899ce7a900b7ac8157d4548ddbb7beffe9abc621250e6d182b0397ec7f10c7b91a5aa
  languageName: node
  linkType: hard

"mime-format@npm:2.0.2":
  version: 2.0.2
  resolution: "mime-format@npm:2.0.2"
  dependencies:
    charset: "npm:^1.0.0"
  checksum: 10c0/26f9e2640b95a5a8c972df5b4dae69797cd082220e67d5701d4974f0d076c98cf795f3d8a7c7d79183777576e980e642970879ece77035b44c665950bf494db7
  languageName: node
  linkType: hard

"mime-types@npm:2.1.35, mime-types@npm:^2.1.12, mime-types@npm:^2.1.35, mime-types@npm:~2.1.19, mime-types@npm:~2.1.34":
  version: 2.1.35
  resolution: "mime-types@npm:2.1.35"
  dependencies:
    mime-db: "npm:1.52.0"
  checksum: 10c0/82fb07ec56d8ff1fc999a84f2f217aa46cb6ed1033fefaabd5785b9a974ed225c90dc72fff460259e66b95b73648596dbcc50d51ed69cdf464af2d237d3149b2
  languageName: node
  linkType: hard

"mimic-response@npm:^3.1.0":
  version: 3.1.0
  resolution: "mimic-response@npm:3.1.0"
  checksum: 10c0/0d6f07ce6e03e9e4445bee655202153bdb8a98d67ee8dc965ac140900d7a2688343e6b4c9a72cfc9ef2f7944dfd76eef4ab2482eb7b293a68b84916bac735362
  languageName: node
  linkType: hard

"minimalistic-assert@npm:^1.0.0":
  version: 1.0.1
  resolution: "minimalistic-assert@npm:1.0.1"
  checksum: 10c0/96730e5601cd31457f81a296f521eb56036e6f69133c0b18c13fe941109d53ad23a4204d946a0d638d7f3099482a0cec8c9bb6d642604612ce43ee536be3dddd
  languageName: node
  linkType: hard

"minimatch@npm:^3.1.1":
  version: 3.1.2
  resolution: "minimatch@npm:3.1.2"
  dependencies:
    brace-expansion: "npm:^1.1.7"
  checksum: 10c0/0262810a8fc2e72cca45d6fd86bd349eee435eb95ac6aa45c9ea2180e7ee875ef44c32b55b5973ceabe95ea12682f6e3725cbb63d7a2d1da3ae1163c8b210311
  languageName: node
  linkType: hard

"minimatch@npm:^5.0.1":
  version: 5.1.6
  resolution: "minimatch@npm:5.1.6"
  dependencies:
    brace-expansion: "npm:^2.0.1"
  checksum: 10c0/3defdfd230914f22a8da203747c42ee3c405c39d4d37ffda284dac5e45b7e1f6c49aa8be606509002898e73091ff2a3bbfc59c2c6c71d4660609f63aa92f98e3
  languageName: node
  linkType: hard

"minimatch@npm:^9.0.4":
  version: 9.0.5
  resolution: "minimatch@npm:9.0.5"
  dependencies:
    brace-expansion: "npm:^2.0.1"
  checksum: 10c0/de96cf5e35bdf0eab3e2c853522f98ffbe9a36c37797778d2665231ec1f20a9447a7e567cb640901f89e4daaa95ae5d70c65a9e8aa2bb0019b6facbc3c0575ed
  languageName: node
  linkType: hard

"minimist@npm:^1.1.0, minimist@npm:^1.2.0, minimist@npm:^1.2.3, minimist@npm:^1.2.5, minimist@npm:^1.2.6, minimist@npm:^1.2.8":
  version: 1.2.8
  resolution: "minimist@npm:1.2.8"
  checksum: 10c0/19d3fcdca050087b84c2029841a093691a91259a47def2f18222f41e7645a0b7c44ef4b40e88a1e58a40c84d2ef0ee6047c55594d298146d0eb3f6b737c20ce6
  languageName: node
  linkType: hard

"minipass-collect@npm:^2.0.1":
  version: 2.0.1
  resolution: "minipass-collect@npm:2.0.1"
  dependencies:
    minipass: "npm:^7.0.3"
  checksum: 10c0/5167e73f62bb74cc5019594709c77e6a742051a647fe9499abf03c71dca75515b7959d67a764bdc4f8b361cf897fbf25e2d9869ee039203ed45240f48b9aa06e
  languageName: node
  linkType: hard

"minipass-fetch@npm:^3.0.0":
  version: 3.0.5
  resolution: "minipass-fetch@npm:3.0.5"
  dependencies:
    encoding: "npm:^0.1.13"
    minipass: "npm:^7.0.3"
    minipass-sized: "npm:^1.0.3"
    minizlib: "npm:^2.1.2"
  dependenciesMeta:
    encoding:
      optional: true
  checksum: 10c0/9d702d57f556274286fdd97e406fc38a2f5c8d15e158b498d7393b1105974b21249289ec571fa2b51e038a4872bfc82710111cf75fae98c662f3d6f95e72152b
  languageName: node
  linkType: hard

"minipass-flush@npm:^1.0.5":
  version: 1.0.5
  resolution: "minipass-flush@npm:1.0.5"
  dependencies:
    minipass: "npm:^3.0.0"
  checksum: 10c0/2a51b63feb799d2bb34669205eee7c0eaf9dce01883261a5b77410c9408aa447e478efd191b4de6fc1101e796ff5892f8443ef20d9544385819093dbb32d36bd
  languageName: node
  linkType: hard

"minipass-pipeline@npm:^1.2.4":
  version: 1.2.4
  resolution: "minipass-pipeline@npm:1.2.4"
  dependencies:
    minipass: "npm:^3.0.0"
  checksum: 10c0/cbda57cea20b140b797505dc2cac71581a70b3247b84480c1fed5ca5ba46c25ecc25f68bfc9e6dcb1a6e9017dab5c7ada5eab73ad4f0a49d84e35093e0c643f2
  languageName: node
  linkType: hard

"minipass-sized@npm:^1.0.3":
  version: 1.0.3
  resolution: "minipass-sized@npm:1.0.3"
  dependencies:
    minipass: "npm:^3.0.0"
  checksum: 10c0/298f124753efdc745cfe0f2bdfdd81ba25b9f4e753ca4a2066eb17c821f25d48acea607dfc997633ee5bf7b6dfffb4eee4f2051eb168663f0b99fad2fa4829cb
  languageName: node
  linkType: hard

"minipass@npm:^3.0.0":
  version: 3.3.6
  resolution: "minipass@npm:3.3.6"
  dependencies:
    yallist: "npm:^4.0.0"
  checksum: 10c0/a114746943afa1dbbca8249e706d1d38b85ed1298b530f5808ce51f8e9e941962e2a5ad2e00eae7dd21d8a4aae6586a66d4216d1a259385e9d0358f0c1eba16c
  languageName: node
  linkType: hard

"minipass@npm:^5.0.0":
  version: 5.0.0
  resolution: "minipass@npm:5.0.0"
  checksum: 10c0/a91d8043f691796a8ac88df039da19933ef0f633e3d7f0d35dcd5373af49131cf2399bfc355f41515dc495e3990369c3858cd319e5c2722b4753c90bf3152462
  languageName: node
  linkType: hard

"minipass@npm:^5.0.0 || ^6.0.2 || ^7.0.0, minipass@npm:^7.0.2, minipass@npm:^7.0.3, minipass@npm:^7.1.2":
  version: 7.1.2
  resolution: "minipass@npm:7.1.2"
  checksum: 10c0/b0fd20bb9fb56e5fa9a8bfac539e8915ae07430a619e4b86ff71f5fc757ef3924b23b2c4230393af1eda647ed3d75739e4e0acb250a6b1eb277cf7f8fe449557
  languageName: node
  linkType: hard

"minizlib@npm:^2.1.1, minizlib@npm:^2.1.2":
  version: 2.1.2
  resolution: "minizlib@npm:2.1.2"
  dependencies:
    minipass: "npm:^3.0.0"
    yallist: "npm:^4.0.0"
  checksum: 10c0/64fae024e1a7d0346a1102bb670085b17b7f95bf6cfdf5b128772ec8faf9ea211464ea4add406a3a6384a7d87a0cd1a96263692134323477b4fb43659a6cab78
  languageName: node
  linkType: hard

"mkdirp-classic@npm:^0.5.2, mkdirp-classic@npm:^0.5.3":
  version: 0.5.3
  resolution: "mkdirp-classic@npm:0.5.3"
  checksum: 10c0/95371d831d196960ddc3833cc6907e6b8f67ac5501a6582f47dfae5eb0f092e9f8ce88e0d83afcae95d6e2b61a01741ba03714eeafb6f7a6e9dcc158ac85b168
  languageName: node
  linkType: hard

"mkdirp@npm:^0.5.1, mkdirp@npm:~0.5.1":
  version: 0.5.6
  resolution: "mkdirp@npm:0.5.6"
  dependencies:
    minimist: "npm:^1.2.6"
  bin:
    mkdirp: bin/cmd.js
  checksum: 10c0/e2e2be789218807b58abced04e7b49851d9e46e88a2f9539242cc8a92c9b5c3a0b9bab360bd3014e02a140fc4fbc58e31176c408b493f8a2a6f4986bd7527b01
  languageName: node
  linkType: hard

"mkdirp@npm:^1.0.3":
  version: 1.0.4
  resolution: "mkdirp@npm:1.0.4"
  bin:
    mkdirp: bin/cmd.js
  checksum: 10c0/46ea0f3ffa8bc6a5bc0c7081ffc3907777f0ed6516888d40a518c5111f8366d97d2678911ad1a6882bf592fa9de6c784fea32e1687bb94e1f4944170af48a5cf
  languageName: node
  linkType: hard

"mqtt-packet@npm:^6.8.0":
  version: 6.10.0
  resolution: "mqtt-packet@npm:6.10.0"
  dependencies:
    bl: "npm:^4.0.2"
    debug: "npm:^4.1.1"
    process-nextick-args: "npm:^2.0.1"
  checksum: 10c0/bcae227a7b8fb6147338bd0af287b0b372080c6c12f1603821673bab08eb73ba8e26aa550f2263edbce7cf2c7ca3cc2ba57e771307ad40eb5e9f3efe7a9fb62e
  languageName: node
  linkType: hard

"mqtt-packet@npm:^8.2.1":
  version: 8.2.1
  resolution: "mqtt-packet@npm:8.2.1"
  dependencies:
    bl: "npm:^5.0.0"
    debug: "npm:^4.1.1"
    process-nextick-args: "npm:^2.0.1"
  checksum: 10c0/165ca1e10f1ccc7064062085cccdf7419e28b4c8b6f66af4f9202d6f654e74d8555b4476dcb7f815ddf54eb4f754e1328444ab85e852aca96932aa4979a36be7
  languageName: node
  linkType: hard

"mqtt@npm:5.1.4":
  version: 5.1.4
  resolution: "mqtt@npm:5.1.4"
  dependencies:
    "@types/readable-stream": "npm:^4.0.4"
    "@types/ws": "npm:^8.5.8"
    commist: "npm:^3.2.0"
    concat-stream: "npm:^2.0.0"
    debug: "npm:^4.3.4"
    duplexify: "npm:^4.1.2"
    help-me: "npm:^4.2.0"
    lru-cache: "npm:^7.18.3"
    minimist: "npm:^1.2.8"
    mqtt-packet: "npm:^8.2.1"
    number-allocator: "npm:^1.0.14"
    readable-stream: "npm:^4.4.2"
    reinterval: "npm:^1.1.0"
    rfdc: "npm:^1.3.0"
    split2: "npm:^4.2.0"
    ws: "npm:^8.14.2"
  bin:
    mqtt: build/bin/mqtt.js
    mqtt_pub: build/bin/pub.js
    mqtt_sub: build/bin/sub.js
  checksum: 10c0/052e8a10933295794d446a763a3bd617c6118923f5fe9b8f5befb2ec733d11b5a5ddc7558a60fb6c76ad444343245dd66366541f58a4f9b9b1c17053ae97bd03
  languageName: node
  linkType: hard

"mqtt@npm:^4.3.7":
  version: 4.3.7
  resolution: "mqtt@npm:4.3.7"
  dependencies:
    commist: "npm:^1.0.0"
    concat-stream: "npm:^2.0.0"
    debug: "npm:^4.1.1"
    duplexify: "npm:^4.1.1"
    help-me: "npm:^3.0.0"
    inherits: "npm:^2.0.3"
    lru-cache: "npm:^6.0.0"
    minimist: "npm:^1.2.5"
    mqtt-packet: "npm:^6.8.0"
    number-allocator: "npm:^1.0.9"
    pump: "npm:^3.0.0"
    readable-stream: "npm:^3.6.0"
    reinterval: "npm:^1.1.0"
    rfdc: "npm:^1.3.0"
    split2: "npm:^3.1.0"
    ws: "npm:^7.5.5"
    xtend: "npm:^4.0.2"
  bin:
    mqtt: bin/mqtt.js
    mqtt_pub: bin/pub.js
    mqtt_sub: bin/sub.js
  checksum: 10c0/2023299fc16c78b628bb6c46d88e4060d65f0877b81199909d1d8379bb0f32d4d9ec242d937588d08a8fb833dc764b0d8084da5502df4c13804d8e37d98da982
  languageName: node
  linkType: hard

"ms@npm:2.0.0":
  version: 2.0.0
  resolution: "ms@npm:2.0.0"
  checksum: 10c0/f8fda810b39fd7255bbdc451c46286e549794fcc700dc9cd1d25658bbc4dc2563a5de6fe7c60f798a16a60c6ceb53f033cb353f493f0cf63e5199b702943159d
  languageName: node
  linkType: hard

"ms@npm:2.1.2":
  version: 2.1.2
  resolution: "ms@npm:2.1.2"
  checksum: 10c0/a437714e2f90dbf881b5191d35a6db792efbca5badf112f87b9e1c712aace4b4b9b742dd6537f3edf90fd6f684de897cec230abde57e87883766712ddda297cc
  languageName: node
  linkType: hard

"ms@npm:^2.1.1":
  version: 2.1.3
  resolution: "ms@npm:2.1.3"
  checksum: 10c0/d924b57e7312b3b63ad21fc5b3dc0af5e78d61a1fc7cfb5457edaf26326bf62be5307cc87ffb6862ef1c2b33b0233cdb5d4f01c4c958cc0d660948b65a287a48
  languageName: node
  linkType: hard

"nanoid@npm:^2.1.0":
  version: 2.1.11
  resolution: "nanoid@npm:2.1.11"
  checksum: 10c0/8640d17698633ff78b2549ec8d5dffd8f56909bad1cf0da08bf3a4012f98553b1b9f2327a2d7fb3613084f33189a8ab4b889eb4c7939f3f9e242d9fd8ff059d5
  languageName: node
  linkType: hard

"napi-build-utils@npm:^1.0.1":
  version: 1.0.2
  resolution: "napi-build-utils@npm:1.0.2"
  checksum: 10c0/37fd2cd0ff2ad20073ce78d83fd718a740d568b225924e753ae51cb69d68f330c80544d487e5e5bd18e28702ed2ca469c2424ad948becd1862c1b0209542b2e9
  languageName: node
  linkType: hard

"nedb@npm:^1.8.0":
  version: 1.8.0
  resolution: "nedb@npm:1.8.0"
  dependencies:
    async: "npm:0.2.10"
    binary-search-tree: "npm:0.2.5"
    localforage: "npm:^1.3.0"
    mkdirp: "npm:~0.5.1"
    underscore: "npm:~1.4.4"
  checksum: 10c0/27d0c004292543756cc090c80863a29e98ec3fe4e018bd8a8da4e34629bea1ab15bda9ad9314e815f91f28838555f659cbe1cbb24708622ba36be3d0c35dbb16
  languageName: node
  linkType: hard

"negotiator@npm:0.6.3, negotiator@npm:^0.6.3":
  version: 0.6.3
  resolution: "negotiator@npm:0.6.3"
  checksum: 10c0/3ec9fd413e7bf071c937ae60d572bc67155262068ed522cf4b3be5edbe6ddf67d095ec03a3a14ebf8fc8e95f8e1d61be4869db0dbb0de696f6b837358bd43fc2
  languageName: node
  linkType: hard

"neo-async@npm:^2.6.2":
  version: 2.6.2
  resolution: "neo-async@npm:2.6.2"
  checksum: 10c0/c2f5a604a54a8ec5438a342e1f356dff4bc33ccccdb6dc668d94fe8e5eccfc9d2c2eea6064b0967a767ba63b33763f51ccf2cd2441b461a7322656c1f06b3f5d
  languageName: node
  linkType: hard

"node-abi@npm:^3.3.0":
  version: 3.54.0
  resolution: "node-abi@npm:3.54.0"
  dependencies:
    semver: "npm:^7.3.5"
  checksum: 10c0/9ebbb21e6951aa51e831549ed62b68dc56bcc10f6b21ffd04195a16a6abf5ddfc48b6ae5e3334720fe4459cafde5ec8103025902efff5599d0539f8656fc694e
  languageName: node
  linkType: hard

"node-addon-api@npm:^4.3.0":
  version: 4.3.0
  resolution: "node-addon-api@npm:4.3.0"
  dependencies:
    node-gyp: "npm:latest"
  checksum: 10c0/5febe94d58cdef319bc96a357b43d7a13776c93ee3f2edb374000f16454e65cec06035497947d5fdaa50db1cc7ab8e3a30ca8669bb07a1b159f0307dc2c1ccdf
  languageName: node
  linkType: hard

"node-fetch@npm:^2.7.0":
  version: 2.7.0
  resolution: "node-fetch@npm:2.7.0"
  dependencies:
    whatwg-url: "npm:^5.0.0"
  peerDependencies:
    encoding: ^0.1.0
  peerDependenciesMeta:
    encoding:
      optional: true
  checksum: 10c0/b55786b6028208e6fbe594ccccc213cab67a72899c9234eb59dba51062a299ea853210fcf526998eaa2867b0963ad72338824450905679ff0fa304b8c5093ae8
  languageName: node
  linkType: hard

"node-forge@npm:1.3.1":
  version: 1.3.1
  resolution: "node-forge@npm:1.3.1"
  checksum: 10c0/e882819b251a4321f9fc1d67c85d1501d3004b4ee889af822fd07f64de3d1a8e272ff00b689570af0465d65d6bf5074df9c76e900e0aff23e60b847f2a46fbe8
  languageName: node
  linkType: hard

"node-forge@npm:^0.10.0":
  version: 0.10.0
  resolution: "node-forge@npm:0.10.0"
  checksum: 10c0/9cbf9ac8fc3889a5a46b0248f7238ee4014770bf31d22e04c0c7f04ed91c8be4584c5f534cdf6037e99f236c636c925cba960501ed2b850e077512e152760663
  languageName: node
  linkType: hard

"node-gyp@npm:latest":
  version: 10.2.0
  resolution: "node-gyp@npm:10.2.0"
  dependencies:
    env-paths: "npm:^2.2.0"
    exponential-backoff: "npm:^3.1.1"
    glob: "npm:^10.3.10"
    graceful-fs: "npm:^4.2.6"
    make-fetch-happen: "npm:^13.0.0"
    nopt: "npm:^7.0.0"
    proc-log: "npm:^4.1.0"
    semver: "npm:^7.3.5"
    tar: "npm:^6.2.1"
    which: "npm:^4.0.0"
  bin:
    node-gyp: bin/node-gyp.js
  checksum: 10c0/00630d67dbd09a45aee0a5d55c05e3916ca9e6d427ee4f7bc392d2d3dc5fad7449b21fc098dd38260a53d9dcc9c879b36704a1994235d4707e7271af7e9a835b
  languageName: node
  linkType: hard

"node-ipc@npm:^9.1.1":
  version: 9.1.1
  resolution: "node-ipc@npm:9.1.1"
  dependencies:
    event-pubsub: "npm:4.3.0"
    js-message: "npm:1.0.5"
    js-queue: "npm:2.0.0"
  checksum: 10c0/ce2b2a50c3a300779bb32c999bebdefd54ebda6ca0bf50c960847862da8d2a9e13a21aab547f3b087cab47cb0e8dd5388cf6461b860dd3d646224fcce4e6f014
  languageName: node
  linkType: hard

"node-oauth1@npm:1.3.0":
  version: 1.3.0
  resolution: "node-oauth1@npm:1.3.0"
  checksum: 10c0/c1489fb06599016ad9bc00114b9182c49ccfbc658935499d0ca1adbdaa75c799ba62b44027e99fe5c0444b8a0b398b4b594730864563cbb30d6fa806e1f3693b
  languageName: node
  linkType: hard

"nopt@npm:^7.0.0":
  version: 7.2.1
  resolution: "nopt@npm:7.2.1"
  dependencies:
    abbrev: "npm:^2.0.0"
  bin:
    nopt: bin/nopt.js
  checksum: 10c0/a069c7c736767121242037a22a788863accfa932ab285a1eb569eb8cd534b09d17206f68c37f096ae785647435e0c5a5a0a67b42ec743e481a455e5ae6a6df81
  languageName: node
  linkType: hard

"number-allocator@npm:^1.0.14, number-allocator@npm:^1.0.9":
  version: 1.0.14
  resolution: "number-allocator@npm:1.0.14"
  dependencies:
    debug: "npm:^4.3.1"
    js-sdsl: "npm:4.3.0"
  checksum: 10c0/273fc81f61018fddaee4277cb08a7d994838e9d202cf90f5f329d087e605e4ac82405b397f1ea608f46ae26f47e17b7b4318ed2a8dd6541bf794c1ced47b876a
  languageName: node
  linkType: hard

"oauth-sign@npm:~0.9.0":
  version: 0.9.0
  resolution: "oauth-sign@npm:0.9.0"
  checksum: 10c0/fc92a516f6ddbb2699089a2748b04f55c47b6ead55a77cd3a2cbbce5f7af86164cb9425f9ae19acfd066f1ad7d3a96a67b8928c6ea946426f6d6c29e448497c2
  languageName: node
  linkType: hard

"object-assign@npm:^4":
  version: 4.1.1
  resolution: "object-assign@npm:4.1.1"
  checksum: 10c0/1f4df9945120325d041ccf7b86f31e8bcc14e73d29171e37a7903050e96b81323784ec59f93f102ec635bcf6fa8034ba3ea0a8c7e69fa202b87ae3b6cec5a414
  languageName: node
  linkType: hard

"object-component@npm:0.0.3":
  version: 0.0.3
  resolution: "object-component@npm:0.0.3"
  checksum: 10c0/49a67086176e04ea684b76db24e8b871041e558c6d7e3b084ab46cc9d38756aff5fab0d0166604c6869e113e9ca49c372ad85b473863eeeadb6ec959f8cfa9bb
  languageName: node
  linkType: hard

"object-hash@npm:^1.1.2":
  version: 1.3.1
  resolution: "object-hash@npm:1.3.1"
  checksum: 10c0/2132ca5ada8bb4995a19759810ad3442f7cfb4cde3fbf49f52652144df4198f5abe7e268e7e6707f92332debbf20234e20b54391fc782f236732df8f1742bd01
  languageName: node
  linkType: hard

"object-hash@npm:^2.2.0":
  version: 2.2.0
  resolution: "object-hash@npm:2.2.0"
  checksum: 10c0/1527de843926c5442ed61f8bdddfc7dc181b6497f725b0e89fcf50a55d9c803088763ed447cac85a5aa65345f1e99c2469ba679a54349ef3c4c0aeaa396a3eb9
  languageName: node
  linkType: hard

"oidc-token-hash@npm:^5.0.3":
  version: 5.0.3
  resolution: "oidc-token-hash@npm:5.0.3"
  checksum: 10c0/d0dc0551406f09577874155cc83cf69c39e4b826293d50bb6c37936698aeca17d4bcee356ab910c859e53e83f2728a2acbd041020165191353b29de51fbca615
  languageName: node
  linkType: hard

"once@npm:^1.3.0, once@npm:^1.3.1, once@npm:^1.4.0":
  version: 1.4.0
  resolution: "once@npm:1.4.0"
  dependencies:
    wrappy: "npm:1"
  checksum: 10c0/5d48aca287dfefabd756621c5dfce5c91a549a93e9fdb7b8246bc4c4790aa2ec17b34a260530474635147aeb631a2dcc8b32c613df0675f96041cbb8244517d0
  languageName: node
  linkType: hard

"one-time@npm:0.0.4":
  version: 0.0.4
  resolution: "one-time@npm:0.0.4"
  checksum: 10c0/cdaa9b8490d38189d290bc947408e0f9764635a35c6093ad39ae88d7d8539246939e9ad1adce587bc911d043620c660f14f543301cad2c38ffff703c956c8637
  languageName: node
  linkType: hard

"openid-client@npm:^5.4.2":
  version: 5.6.4
  resolution: "openid-client@npm:5.6.4"
  dependencies:
    jose: "npm:^4.15.4"
    lru-cache: "npm:^6.0.0"
    object-hash: "npm:^2.2.0"
    oidc-token-hash: "npm:^5.0.3"
  checksum: 10c0/96a79b82fd3c73fc58f7d8130cb63e16b573722ceec5f012f887310da391653720a1da99a7a818c9d9e825097ce3cea62a78bc5335753e715de016ec8e0368bf
  languageName: node
  linkType: hard

"os-tmpdir@npm:^1.0.2":
  version: 1.0.2
  resolution: "os-tmpdir@npm:1.0.2"
  checksum: 10c0/f438450224f8e2687605a8dd318f0db694b6293c5d835ae509a69e97c8de38b6994645337e5577f5001115470414638978cc49da1cdcc25106dad8738dc69990
  languageName: node
  linkType: hard

"p-map@npm:^4.0.0":
  version: 4.0.0
  resolution: "p-map@npm:4.0.0"
  dependencies:
    aggregate-error: "npm:^3.0.0"
  checksum: 10c0/592c05bd6262c466ce269ff172bb8de7c6975afca9b50c975135b974e9bdaafbfe80e61aaaf5be6d1200ba08b30ead04b88cfa7e25ff1e3b93ab28c9f62a2c75
  languageName: node
  linkType: hard

"package-json-from-dist@npm:^1.0.0":
  version: 1.0.0
  resolution: "package-json-from-dist@npm:1.0.0"
  checksum: 10c0/e3ffaf6ac1040ab6082a658230c041ad14e72fabe99076a2081bb1d5d41210f11872403fc09082daf4387fc0baa6577f96c9c0e94c90c394fd57794b66aa4033
  languageName: node
  linkType: hard

"pako@npm:~1.0.2":
  version: 1.0.11
  resolution: "pako@npm:1.0.11"
  checksum: 10c0/86dd99d8b34c3930345b8bbeb5e1cd8a05f608eeb40967b293f72fe469d0e9c88b783a8777e4cc7dc7c91ce54c5e93d88ff4b4f060e6ff18408fd21030d9ffbe
  languageName: node
  linkType: hard

"parseqs@npm:0.0.5":
  version: 0.0.5
  resolution: "parseqs@npm:0.0.5"
  dependencies:
    better-assert: "npm:~1.0.0"
  checksum: 10c0/2290c5de49a54b6b39f6647f794f68ecf8e3e556a73e2c549f0adad8bda5b5e054cb187fe7e8714dc2d3ce315d00fe25ba8705847ae0bf4c2e9073a3f6d7675b
  languageName: node
  linkType: hard

"parseqs@npm:0.0.6":
  version: 0.0.6
  resolution: "parseqs@npm:0.0.6"
  checksum: 10c0/22da7801bfc4d54596918c8751f975926f31cedc2e576818ade67e7404c014ca3932fddc114447509652056ee7021b9492c3665cf957cfdda60f74e0932627ee
  languageName: node
  linkType: hard

"parseuri@npm:0.0.5":
  version: 0.0.5
  resolution: "parseuri@npm:0.0.5"
  dependencies:
    better-assert: "npm:~1.0.0"
  checksum: 10c0/605d075c504d4d9455f0f8f150026ae9718483d3c797fa0c7909dbb8bc6ce5a0cc6285d3ef126fea1f53478a4f039cb60cbe2b50051155049b8037588a9435b5
  languageName: node
  linkType: hard

"parseuri@npm:0.0.6":
  version: 0.0.6
  resolution: "parseuri@npm:0.0.6"
  checksum: 10c0/bc1f0818fcabc53a57e9164e806a51bae0ff06c9edf97bb796cef153f97c9d2ce602a012e6f255453c9feae519c0c94056c7a410b3ebc778194cf5d995b268df
  languageName: node
  linkType: hard

"path-is-absolute@npm:^1.0.0":
  version: 1.0.1
  resolution: "path-is-absolute@npm:1.0.1"
  checksum: 10c0/127da03c82172a2a50099cddbf02510c1791fc2cc5f7713ddb613a56838db1e8168b121a920079d052e0936c23005562059756d653b7c544c53185efe53be078
  languageName: node
  linkType: hard

"path-key@npm:^3.1.0":
  version: 3.1.1
  resolution: "path-key@npm:3.1.1"
  checksum: 10c0/748c43efd5a569c039d7a00a03b58eecd1d75f3999f5a28303d75f521288df4823bc057d8784eb72358b2895a05f29a070bc9f1f17d28226cc4e62494cc58c4c
  languageName: node
  linkType: hard

"path-parse@npm:^1.0.7":
  version: 1.0.7
  resolution: "path-parse@npm:1.0.7"
  checksum: 10c0/11ce261f9d294cc7a58d6a574b7f1b935842355ec66fba3c3fd79e0f036462eaf07d0aa95bb74ff432f9afef97ce1926c720988c6a7451d8a584930ae7de86e1
  languageName: node
  linkType: hard

"path-scurry@npm:^1.11.1":
  version: 1.11.1
  resolution: "path-scurry@npm:1.11.1"
  dependencies:
    lru-cache: "npm:^10.2.0"
    minipass: "npm:^5.0.0 || ^6.0.2 || ^7.0.0"
  checksum: 10c0/32a13711a2a505616ae1cc1b5076801e453e7aae6ac40ab55b388bb91b9d0547a52f5aaceff710ea400205f18691120d4431e520afbe4266b836fadede15872d
  languageName: node
  linkType: hard

"peek-readable@npm:^4.1.0":
  version: 4.1.0
  resolution: "peek-readable@npm:4.1.0"
  checksum: 10c0/f9b81ce3eed185cc9ebbf7dff0b6e130dd6da7b05f1802bbf726a78e4d84990b0a65f8e701959c50eb1124cc2ad352205147954bf39793faba29bb00ce742a44
  languageName: node
  linkType: hard

"performance-now@npm:2.1.0, performance-now@npm:^2.1.0":
  version: 2.1.0
  resolution: "performance-now@npm:2.1.0"
  checksum: 10c0/22c54de06f269e29f640e0e075207af57de5052a3d15e360c09b9a8663f393f6f45902006c1e71aa8a5a1cdfb1a47fe268826f8496d6425c362f00f5bc3e85d9
  languageName: node
  linkType: hard

"perftrace@npm:1.3.0":
  version: 1.3.0
  resolution: "perftrace@npm:1.3.0"
  checksum: 10c0/06dd31d9a67343a7383cf84ddabef2a2f36f254454202e535fb81611a8d2a8db0821cb4bc0feaadbbe9096c021cae361a4a9612391182dee7dcaaae1ef7e92c7
  languageName: node
  linkType: hard

"polka@npm:^0.5.2":
  version: 0.5.2
  resolution: "polka@npm:0.5.2"
  dependencies:
    "@polka/url": "npm:^0.5.0"
    trouter: "npm:^2.0.1"
  checksum: 10c0/113005fe146e1ee67bc6e1a5438c71e1b59ac05a8bc435d593be210e21f712e6b9ba4d163072e3c941f8efbb7516df9c55bf18934948f91623d03dc9657a1410
  languageName: node
  linkType: hard

"postman-collection@npm:5.0.0, postman-collection@npm:^5.0.0":
  version: 5.0.0
  resolution: "postman-collection@npm:5.0.0"
  dependencies:
    "@faker-js/faker": "npm:5.5.3"
    file-type: "npm:3.9.0"
    http-reasons: "npm:0.1.0"
    iconv-lite: "npm:0.6.3"
    liquid-json: "npm:0.3.1"
    lodash: "npm:4.17.21"
    mime-format: "npm:2.0.2"
    mime-types: "npm:2.1.35"
    postman-url-encoder: "npm:3.0.6"
    semver: "npm:7.7.1"
    uuid: "npm:8.3.2"
  checksum: 10c0/88d968d8dca6336e6909c590c23a8e5f782bd86a547720acd660d0e70954a7c3a079e2d905820c24b13ee65f3c9131f294df6ca60e99985ccf85b7840635636f
  languageName: node
  linkType: hard

"postman-request@npm:2.88.1-postman.42":
  version: 2.88.1-postman.42
  resolution: "postman-request@npm:2.88.1-postman.42"
  dependencies:
    "@postman/form-data": "npm:~3.1.1"
    "@postman/tough-cookie": "npm:~4.1.3-postman.1"
    "@postman/tunnel-agent": "npm:^0.6.4"
    aws-sign2: "npm:~0.7.0"
    aws4: "npm:^1.12.0"
    caseless: "npm:~0.12.0"
    combined-stream: "npm:~1.0.6"
    extend: "npm:~3.0.2"
    forever-agent: "npm:~0.6.1"
    http-signature: "npm:~1.4.0"
    is-typedarray: "npm:~1.0.0"
    isstream: "npm:~0.1.2"
    json-stringify-safe: "npm:~5.0.1"
    mime-types: "npm:^2.1.35"
    oauth-sign: "npm:~0.9.0"
    qs: "npm:~6.5.3"
    safe-buffer: "npm:^5.1.2"
    stream-length: "npm:^1.0.2"
    uuid: "npm:^8.3.2"
  checksum: 10c0/5e6ec5118bf2511416ec07b94785c45ca67d3b721d4fdb22df5a103f4d75405f32f5227eb3fdacd1efa5dea69cd22726c61ceb04f02fb82ddbd2d5d3f39359b0
  languageName: node
  linkType: hard

"postman-request@npm:^2.88.1-postman.40":
  version: 2.88.1-postman.40
  resolution: "postman-request@npm:2.88.1-postman.40"
  dependencies:
    "@postman/form-data": "npm:~3.1.1"
    "@postman/tough-cookie": "npm:~4.1.3-postman.1"
    "@postman/tunnel-agent": "npm:^0.6.4"
    aws-sign2: "npm:~0.7.0"
    aws4: "npm:^1.12.0"
    brotli: "npm:^1.3.3"
    caseless: "npm:~0.12.0"
    combined-stream: "npm:~1.0.6"
    extend: "npm:~3.0.2"
    forever-agent: "npm:~0.6.1"
    har-validator: "npm:~5.1.3"
    http-signature: "npm:~1.3.1"
    is-typedarray: "npm:~1.0.0"
    isstream: "npm:~0.1.2"
    json-stringify-safe: "npm:~5.0.1"
    mime-types: "npm:^2.1.35"
    oauth-sign: "npm:~0.9.0"
    performance-now: "npm:^2.1.0"
    qs: "npm:~6.5.3"
    safe-buffer: "npm:^5.1.2"
    stream-length: "npm:^1.0.2"
    uuid: "npm:^8.3.2"
  checksum: 10c0/1ab2c7f336ae0c6f3cb88b095fdb9a3e1291dd1b2d1a92e755337626a858781e1b2a89b52a4077442036b627cf0632e0f710ab685480a19a98f2a6b832fb35f0
  languageName: node
  linkType: hard

"postman-runtime@npm:^7.43.2":
  version: 7.43.2
  resolution: "postman-runtime@npm:7.43.2"
  dependencies:
    "@postman/tough-cookie": "npm:4.1.3-postman.1"
    async: "npm:3.2.6"
    aws4: "npm:1.13.2"
    handlebars: "npm:4.7.8"
    httpntlm: "npm:1.8.13"
    jose: "npm:5.10.0"
    js-sha512: "npm:0.9.0"
    lodash: "npm:4.17.21"
    mime-types: "npm:2.1.35"
    node-forge: "npm:1.3.1"
    node-oauth1: "npm:1.3.0"
    performance-now: "npm:2.1.0"
    postman-collection: "npm:5.0.0"
    postman-request: "npm:2.88.1-postman.42"
    postman-sandbox: "npm:6.0.0"
    postman-url-encoder: "npm:3.0.6"
    serialised-error: "npm:1.1.3"
    strip-json-comments: "npm:3.1.1"
    uuid: "npm:8.3.2"
  checksum: 10c0/6db664a7407ed680fa068f2594c5d358d0efe32eef316585fadb96c97876ff4cba1d808fa7b037539d744361b6fe49cf1e64497561fd2f02ca97916153615fe2
  languageName: node
  linkType: hard

"postman-sandbox@npm:6.0.0":
  version: 6.0.0
  resolution: "postman-sandbox@npm:6.0.0"
  dependencies:
    lodash: "npm:4.17.21"
    postman-collection: "npm:5.0.0"
    teleport-javascript: "npm:1.0.0"
    uvm: "npm:4.0.0"
  checksum: 10c0/e8ab043e8d9e3597f2513751c7ffccfbb2380cdaebd07991477eb0d5479862c4394f5aeed92b94b37fa58341cc6f0929f87b744bfd607fa70f5b148880ba0bce
  languageName: node
  linkType: hard

"postman-url-encoder@npm:3.0.6":
  version: 3.0.6
  resolution: "postman-url-encoder@npm:3.0.6"
  dependencies:
    punycode: "npm:^2.3.1"
  checksum: 10c0/3d644b9d79fdd539eb2909810eaddfcc731df7fe2c77dafe4c736b860f2ebf244d8aa1c6633297176223e882c00d8dfc6ba3babd886d9dbe5d0685e6893757ea
  languageName: node
  linkType: hard

"postman-url-encoder@npm:^3.0.5":
  version: 3.0.5
  resolution: "postman-url-encoder@npm:3.0.5"
  dependencies:
    punycode: "npm:^2.1.1"
  checksum: 10c0/b7d389c1e7edd27e3992685caf0443fde6f47c92cb26fd9536fccbdf4f3a8bb4e723940c6fcb63eb69db72221f472143b3db3b4c28d4e0588d766f1668624b4d
  languageName: node
  linkType: hard

"postman-ws@npm:7.4.5-postman.1, postman-ws@npm:^7.4.5-postman.1":
  version: 7.4.5-postman.1
  resolution: "postman-ws@npm:7.4.5-postman.1"
  peerDependencies:
    bufferutil: ^4.0.1
    utf-8-validate: ^5.0.2
  peerDependenciesMeta:
    bufferutil:
      optional: true
    utf-8-validate:
      optional: true
  checksum: 10c0/5ea5937be4bbf2dc91d4ca3b2d634fddd7df02f549c0529e5d0dee0b001f0097e3fb50ecca480febd2df95b2cd1f3d2baa1966728102f64911a3ea749b1b4048
  languageName: node
  linkType: hard

"prebuild-install@npm:^7.0.1":
  version: 7.1.1
  resolution: "prebuild-install@npm:7.1.1"
  dependencies:
    detect-libc: "npm:^2.0.0"
    expand-template: "npm:^2.0.3"
    github-from-package: "npm:0.0.0"
    minimist: "npm:^1.2.3"
    mkdirp-classic: "npm:^0.5.3"
    napi-build-utils: "npm:^1.0.1"
    node-abi: "npm:^3.3.0"
    pump: "npm:^3.0.0"
    rc: "npm:^1.2.7"
    simple-get: "npm:^4.0.0"
    tar-fs: "npm:^2.0.0"
    tunnel-agent: "npm:^0.6.0"
  bin:
    prebuild-install: bin.js
  checksum: 10c0/6dc70f36b0f4adcb2fe0ed38d874ab28b571fb1a9725d769e8ba3f64a15831e58462de09f3e6e64569bcc4a3e03b9328b56faa0d45fe10ae1574478814536c76
  languageName: node
  linkType: hard

"proc-log@npm:^4.1.0, proc-log@npm:^4.2.0":
  version: 4.2.0
  resolution: "proc-log@npm:4.2.0"
  checksum: 10c0/17db4757c2a5c44c1e545170e6c70a26f7de58feb985091fb1763f5081cab3d01b181fb2dd240c9f4a4255a1d9227d163d5771b7e69c9e49a561692db865efb9
  languageName: node
  linkType: hard

"process-nextick-args@npm:^2.0.1, process-nextick-args@npm:~2.0.0":
  version: 2.0.1
  resolution: "process-nextick-args@npm:2.0.1"
  checksum: 10c0/bec089239487833d46b59d80327a1605e1c5287eaad770a291add7f45fda1bb5e28b38e0e061add0a1d0ee0984788ce74fa394d345eed1c420cacf392c554367
  languageName: node
  linkType: hard

"process@npm:^0.11.10":
  version: 0.11.10
  resolution: "process@npm:0.11.10"
  checksum: 10c0/40c3ce4b7e6d4b8c3355479df77aeed46f81b279818ccdc500124e6a5ab882c0cc81ff7ea16384873a95a74c4570b01b120f287abbdd4c877931460eca6084b3
  languageName: node
  linkType: hard

"promise-retry@npm:^2.0.1":
  version: 2.0.1
  resolution: "promise-retry@npm:2.0.1"
  dependencies:
    err-code: "npm:^2.0.2"
    retry: "npm:^0.12.0"
  checksum: 10c0/9c7045a1a2928094b5b9b15336dcd2a7b1c052f674550df63cc3f36cd44028e5080448175b6f6ca32b642de81150f5e7b1a98b728f15cb069f2dd60ac2616b96
  languageName: node
  linkType: hard

"psl@npm:^1.1.28, psl@npm:^1.1.33":
  version: 1.9.0
  resolution: "psl@npm:1.9.0"
  checksum: 10c0/6a3f805fdab9442f44de4ba23880c4eba26b20c8e8e0830eff1cb31007f6825dace61d17203c58bfe36946842140c97a1ba7f67bc63ca2d88a7ee052b65d97ab
  languageName: node
  linkType: hard

"pump@npm:^3.0.0":
  version: 3.0.0
  resolution: "pump@npm:3.0.0"
  dependencies:
    end-of-stream: "npm:^1.1.0"
    once: "npm:^1.3.1"
  checksum: 10c0/bbdeda4f747cdf47db97428f3a135728669e56a0ae5f354a9ac5b74556556f5446a46f720a8f14ca2ece5be9b4d5d23c346db02b555f46739934cc6c093a5478
  languageName: node
  linkType: hard

"punycode@npm:^2.1.0, punycode@npm:^2.1.1":
  version: 2.3.0
  resolution: "punycode@npm:2.3.0"
  checksum: 10c0/8e6f7abdd3a6635820049e3731c623bbef3fedbf63bbc696b0d7237fdba4cefa069bc1fa62f2938b0fbae057550df7b5318f4a6bcece27f1907fc75c54160bee
  languageName: node
  linkType: hard

"punycode@npm:^2.3.1":
  version: 2.3.1
  resolution: "punycode@npm:2.3.1"
  checksum: 10c0/14f76a8206bc3464f794fb2e3d3cc665ae416c01893ad7a02b23766eb07159144ee612ad67af5e84fa4479ccfe67678c4feb126b0485651b302babf66f04f9e9
  languageName: node
  linkType: hard

"qs@npm:~6.5.2, qs@npm:~6.5.3":
  version: 6.5.3
  resolution: "qs@npm:6.5.3"
  checksum: 10c0/6631d4f2fa9d315e480662646745a4aa3a708817fbffe2cbdacec8ab9be130f92740c66191770fe9b704bc5fa9c1cc1f6596f55ad132fef7bd3ad1582f199eb0
  languageName: node
  linkType: hard

"querystringify@npm:^2.1.1":
  version: 2.2.0
  resolution: "querystringify@npm:2.2.0"
  checksum: 10c0/3258bc3dbdf322ff2663619afe5947c7926a6ef5fb78ad7d384602974c467fadfc8272af44f5eb8cddd0d011aae8fabf3a929a8eee4b86edcc0a21e6bd10f9aa
  languageName: node
  linkType: hard

"rc@npm:^1.2.7":
  version: 1.2.8
  resolution: "rc@npm:1.2.8"
  dependencies:
    deep-extend: "npm:^0.6.0"
    ini: "npm:~1.3.0"
    minimist: "npm:^1.2.0"
    strip-json-comments: "npm:~2.0.1"
  bin:
    rc: ./cli.js
  checksum: 10c0/24a07653150f0d9ac7168e52943cc3cb4b7a22c0e43c7dff3219977c2fdca5a2760a304a029c20811a0e79d351f57d46c9bde216193a0f73978496afc2b85b15
  languageName: node
  linkType: hard

"readable-stream@npm:^2.3.6, readable-stream@npm:~2.3.6":
  version: 2.3.7
  resolution: "readable-stream@npm:2.3.7"
  dependencies:
    core-util-is: "npm:~1.0.0"
    inherits: "npm:~2.0.3"
    isarray: "npm:~1.0.0"
    process-nextick-args: "npm:~2.0.0"
    safe-buffer: "npm:~5.1.1"
    string_decoder: "npm:~1.1.1"
    util-deprecate: "npm:~1.0.1"
  checksum: 10c0/1708755e6cf9daff6ff60fa5b4575636472289c5b95d38058a91f94732b8d024a940a0d4d955639195ce42c22cab16973ee8fea8deedd24b5fec3dd596465f86
  languageName: node
  linkType: hard

"readable-stream@npm:^3.0.0, readable-stream@npm:^3.0.2, readable-stream@npm:^3.1.1, readable-stream@npm:^3.4.0, readable-stream@npm:^3.6.0":
  version: 3.6.0
  resolution: "readable-stream@npm:3.6.0"
  dependencies:
    inherits: "npm:^2.0.3"
    string_decoder: "npm:^1.1.1"
    util-deprecate: "npm:^1.0.1"
  checksum: 10c0/937bedd29ac8a68331666291922bea892fa2be1a33269e582de9f844a2002f146cf831e39cd49fe6a378d3f0c27358f259ed0e20d20f0bdc6a3f8fc21fce42dc
  languageName: node
  linkType: hard

"readable-stream@npm:^4.4.2":
  version: 4.5.2
  resolution: "readable-stream@npm:4.5.2"
  dependencies:
    abort-controller: "npm:^3.0.0"
    buffer: "npm:^6.0.3"
    events: "npm:^3.3.0"
    process: "npm:^0.11.10"
    string_decoder: "npm:^1.3.0"
  checksum: 10c0/a2c80e0e53aabd91d7df0330929e32d0a73219f9477dbbb18472f6fdd6a11a699fc5d172a1beff98d50eae4f1496c950ffa85b7cc2c4c196963f289a5f39275d
  languageName: node
  linkType: hard

"readable-web-to-node-stream@npm:^3.0.0":
  version: 3.0.2
  resolution: "readable-web-to-node-stream@npm:3.0.2"
  dependencies:
    readable-stream: "npm:^3.6.0"
  checksum: 10c0/533d5cd1580232a2c753e52a245be13fc552e6f82c5053a8a8da7ea1063d73a34f936a86b3d4433cdb4a13dd683835cfc87f230936cb96d329a1e28b6040f42e
  languageName: node
  linkType: hard

"rechoir@npm:^0.6.2":
  version: 0.6.2
  resolution: "rechoir@npm:0.6.2"
  dependencies:
    resolve: "npm:^1.1.6"
  checksum: 10c0/22c4bb32f4934a9468468b608417194f7e3ceba9a508512125b16082c64f161915a28467562368eeb15dc16058eb5b7c13a20b9eb29ff9927d1ebb3b5aa83e84
  languageName: node
  linkType: hard

"regenerator-runtime@npm:^0.14.0":
  version: 0.14.1
  resolution: "regenerator-runtime@npm:0.14.1"
  checksum: 10c0/1b16eb2c4bceb1665c89de70dcb64126a22bc8eb958feef3cd68fe11ac6d2a4899b5cd1b80b0774c7c03591dc57d16631a7f69d2daa2ec98100e2f29f7ec4cc4
  languageName: node
  linkType: hard

"reinterval@npm:^1.1.0":
  version: 1.1.0
  resolution: "reinterval@npm:1.1.0"
  checksum: 10c0/83ffcd92363acd57feaecfd98819eeeb618a4ebb6db092ee60aafdb592195447648227bf36891c10ccb3959c1fbd0c4fa2cd7cd74460015c664385248c4e0c72
  languageName: node
  linkType: hard

"request@npm:^2.88.0":
  version: 2.88.2
  resolution: "request@npm:2.88.2"
  dependencies:
    aws-sign2: "npm:~0.7.0"
    aws4: "npm:^1.8.0"
    caseless: "npm:~0.12.0"
    combined-stream: "npm:~1.0.6"
    extend: "npm:~3.0.2"
    forever-agent: "npm:~0.6.1"
    form-data: "npm:~2.3.2"
    har-validator: "npm:~5.1.3"
    http-signature: "npm:~1.2.0"
    is-typedarray: "npm:~1.0.0"
    isstream: "npm:~0.1.2"
    json-stringify-safe: "npm:~5.0.1"
    mime-types: "npm:~2.1.19"
    oauth-sign: "npm:~0.9.0"
    performance-now: "npm:^2.1.0"
    qs: "npm:~6.5.2"
    safe-buffer: "npm:^5.1.2"
    tough-cookie: "npm:~2.5.0"
    tunnel-agent: "npm:^0.6.0"
    uuid: "npm:^3.3.2"
  checksum: 10c0/0ec66e7af1391e51ad231de3b1c6c6aef3ebd0a238aa50d4191c7a792dcdb14920eea8d570c702dc5682f276fe569d176f9b8ebc6031a3cf4a630a691a431a63
  languageName: node
  linkType: hard

"require-directory@npm:^2.1.1":
  version: 2.1.1
  resolution: "require-directory@npm:2.1.1"
  checksum: 10c0/83aa76a7bc1531f68d92c75a2ca2f54f1b01463cb566cf3fbc787d0de8be30c9dbc211d1d46be3497dac5785fe296f2dd11d531945ac29730643357978966e99
  languageName: node
  linkType: hard

"require-from-string@npm:^2.0.2":
  version: 2.0.2
  resolution: "require-from-string@npm:2.0.2"
  checksum: 10c0/aaa267e0c5b022fc5fd4eef49d8285086b15f2a1c54b28240fdf03599cbd9c26049fee3eab894f2e1f6ca65e513b030a7c264201e3f005601e80c49fb2937ce2
  languageName: node
  linkType: hard

"requires-port@npm:^1.0.0":
  version: 1.0.0
  resolution: "requires-port@npm:1.0.0"
  checksum: 10c0/b2bfdd09db16c082c4326e573a82c0771daaf7b53b9ce8ad60ea46aa6e30aaf475fe9b164800b89f93b748d2c234d8abff945d2551ba47bf5698e04cd7713267
  languageName: node
  linkType: hard

"resolve@npm:^1.1.6":
  version: 1.22.8
  resolution: "resolve@npm:1.22.8"
  dependencies:
    is-core-module: "npm:^2.13.0"
    path-parse: "npm:^1.0.7"
    supports-preserve-symlinks-flag: "npm:^1.0.0"
  bin:
    resolve: bin/resolve
  checksum: 10c0/07e179f4375e1fd072cfb72ad66d78547f86e6196c4014b31cb0b8bb1db5f7ca871f922d08da0fbc05b94e9fd42206f819648fa3b5b873ebbc8e1dc68fec433a
  languageName: node
  linkType: hard

"resolve@patch:resolve@npm%3A^1.1.6#optional!builtin<compat/resolve>":
  version: 1.22.8
  resolution: "resolve@patch:resolve@npm%3A1.22.8#optional!builtin<compat/resolve>::version=1.22.8&hash=c3c19d"
  dependencies:
    is-core-module: "npm:^2.13.0"
    path-parse: "npm:^1.0.7"
    supports-preserve-symlinks-flag: "npm:^1.0.0"
  bin:
    resolve: bin/resolve
  checksum: 10c0/0446f024439cd2e50c6c8fa8ba77eaa8370b4180f401a96abf3d1ebc770ac51c1955e12764cde449fde3fff480a61f84388e3505ecdbab778f4bef5f8212c729
  languageName: node
  linkType: hard

"retry@npm:^0.12.0":
  version: 0.12.0
  resolution: "retry@npm:0.12.0"
  checksum: 10c0/59933e8501727ba13ad73ef4a04d5280b3717fd650408460c987392efe9d7be2040778ed8ebe933c5cbd63da3dcc37919c141ef8af0a54a6e4fca5a2af177bfe
  languageName: node
  linkType: hard

"rfdc@npm:^1.3.0":
  version: 1.3.0
  resolution: "rfdc@npm:1.3.0"
  checksum: 10c0/a17fd7b81f42c7ae4cb932abd7b2f677b04cc462a03619fb46945ae1ccae17c3bc87c020ffdde1751cbfa8549860a2883486fdcabc9b9de3f3108af32b69a667
  languageName: node
  linkType: hard

"rimraf@npm:2.6.3":
  version: 2.6.3
  resolution: "rimraf@npm:2.6.3"
  dependencies:
    glob: "npm:^7.1.3"
  bin:
    rimraf: ./bin.js
  checksum: 10c0/f1e646f8c567795f2916aef7aadf685b543da6b9a53e482bb04b07472c7eef2b476045ba1e29f401c301c66b630b22b815ab31fdd60c5e1ae6566ff523debf45
  languageName: node
  linkType: hard

"rimraf@npm:^2.5.1":
  version: 2.7.1
  resolution: "rimraf@npm:2.7.1"
  dependencies:
    glob: "npm:^7.1.3"
  bin:
    rimraf: ./bin.js
  checksum: 10c0/4eef73d406c6940927479a3a9dee551e14a54faf54b31ef861250ac815172bade86cc6f7d64a4dc5e98b65e4b18a2e1c9ff3b68d296be0c748413f092bb0dd40
  languageName: node
  linkType: hard

"ripemd160@npm:^2.0.0, ripemd160@npm:^2.0.1":
  version: 2.0.2
  resolution: "ripemd160@npm:2.0.2"
  dependencies:
    hash-base: "npm:^3.0.0"
    inherits: "npm:^2.0.1"
  checksum: 10c0/f6f0df78817e78287c766687aed4d5accbebc308a8e7e673fb085b9977473c1f139f0c5335d353f172a915bb288098430755d2ad3c4f30612f4dd0c901cd2c3a
  languageName: node
  linkType: hard

"safe-buffer@npm:^5.0.1, safe-buffer@npm:^5.1.2, safe-buffer@npm:^5.2.0, safe-buffer@npm:~5.2.0":
  version: 5.2.1
  resolution: "safe-buffer@npm:5.2.1"
  checksum: 10c0/6501914237c0a86e9675d4e51d89ca3c21ffd6a31642efeba25ad65720bce6921c9e7e974e5be91a786b25aa058b5303285d3c15dbabf983a919f5f630d349f3
  languageName: node
  linkType: hard

"safe-buffer@npm:~5.1.0, safe-buffer@npm:~5.1.1":
  version: 5.1.2
  resolution: "safe-buffer@npm:5.1.2"
  checksum: 10c0/780ba6b5d99cc9a40f7b951d47152297d0e260f0df01472a1b99d4889679a4b94a13d644f7dbc4f022572f09ae9005fa2fbb93bbbd83643316f365a3e9a45b21
  languageName: node
  linkType: hard

"safe-stable-stringify@npm:^2.3.1":
  version: 2.4.0
  resolution: "safe-stable-stringify@npm:2.4.0"
  checksum: 10c0/ee97bdbf1a9bed78cc340b68277d7fe798f6b00f5ad8aec7aebeea08dfe2711c7bc834b4e53fd7d6fb89ada644f3761d9f6e9ef8951c14b970ca5f18ade18e57
  languageName: node
  linkType: hard

"safer-buffer@npm:>= 2.1.2 < 3.0.0, safer-buffer@npm:^2.0.2, safer-buffer@npm:^2.1.0, safer-buffer@npm:~2.1.0":
  version: 2.1.2
  resolution: "safer-buffer@npm:2.1.2"
  checksum: 10c0/7e3c8b2e88a1841c9671094bbaeebd94448111dd90a81a1f606f3f67708a6ec57763b3b47f06da09fc6054193e0e6709e77325415dc8422b04497a8070fa02d4
  languageName: node
  linkType: hard

"sanitize-filename@npm:^1.6.3":
  version: 1.6.3
  resolution: "sanitize-filename@npm:1.6.3"
  dependencies:
    truncate-utf8-bytes: "npm:^1.0.0"
  checksum: 10c0/16ff47556a6e54e228c28db096bedd303da67b030d4bea4925fd71324932d6b02c7b0446f00ad33987b25b6414f24ae968e01a1a1679ce599542e82c4b07eb1f
  languageName: node
  linkType: hard

"semver@npm:7.7.1":
  version: 7.7.1
  resolution: "semver@npm:7.7.1"
  bin:
    semver: bin/semver.js
  checksum: 10c0/fd603a6fb9c399c6054015433051bdbe7b99a940a8fb44b85c2b524c4004b023d7928d47cb22154f8d054ea7ee8597f586605e05b52047f048278e4ac56ae958
  languageName: node
  linkType: hard

"semver@npm:^5.5.1":
  version: 5.7.2
  resolution: "semver@npm:5.7.2"
  bin:
    semver: bin/semver
  checksum: 10c0/e4cf10f86f168db772ae95d86ba65b3fd6c5967c94d97c708ccb463b778c2ee53b914cd7167620950fc07faf5a564e6efe903836639e512a1aa15fbc9667fa25
  languageName: node
  linkType: hard

"semver@npm:^7.3.5, semver@npm:^7.3.8":
  version: 7.6.3
  resolution: "semver@npm:7.6.3"
  bin:
    semver: bin/semver.js
  checksum: 10c0/88f33e148b210c153873cb08cfe1e281d518aaa9a666d4d148add6560db5cd3c582f3a08ccb91f38d5f379ead256da9931234ed122057f40bb5766e65e58adaf
  languageName: node
  linkType: hard

"serialised-error@npm:1.1.3, serialised-error@npm:^1.1.3":
  version: 1.1.3
  resolution: "serialised-error@npm:1.1.3"
  dependencies:
    object-hash: "npm:^1.1.2"
    stack-trace: "npm:0.0.9"
    uuid: "npm:^3.0.0"
  checksum: 10c0/c83ce274e17f6acd4476cdfe8130513360eabcd894eca407dba8e54e4d130812a89309261fcfbe5a7cf05df39b55825a787deb64917699e3f85acdffaf65bc83
  languageName: node
  linkType: hard

"serialize-error@npm:2.1.0":
  version: 2.1.0
  resolution: "serialize-error@npm:2.1.0"
  checksum: 10c0/919c40d293cd36b16bb3fce38a3a460e0c51a34cf0ee59815bbeec7c48ffe0a66ea2dec08aa5340ef6dfc1f22e7317f6e1ed76cdbb2ec3c494c0c4debfb344f8
  languageName: node
  linkType: hard

"set-immediate-shim@npm:~1.0.1":
  version: 1.0.1
  resolution: "set-immediate-shim@npm:1.0.1"
  checksum: 10c0/8d21dbb2ad0299a1df9a90c4ddaf5d38ac7af4fafab3064e29d5d5434820a406362bb6b5def0adf189333e92daf50ec756848f48b281705355ed984491beeb93
  languageName: node
  linkType: hard

"sha.js@npm:^2.4.0, sha.js@npm:^2.4.8":
  version: 2.4.11
  resolution: "sha.js@npm:2.4.11"
  dependencies:
    inherits: "npm:^2.0.1"
    safe-buffer: "npm:^5.0.1"
  bin:
    sha.js: ./bin.js
  checksum: 10c0/b7a371bca8821c9cc98a0aeff67444a03d48d745cb103f17228b96793f455f0eb0a691941b89ea1e60f6359207e36081d9be193252b0f128e0daf9cfea2815a5
  languageName: node
  linkType: hard

"shebang-command@npm:^2.0.0":
  version: 2.0.0
  resolution: "shebang-command@npm:2.0.0"
  dependencies:
    shebang-regex: "npm:^3.0.0"
  checksum: 10c0/a41692e7d89a553ef21d324a5cceb5f686d1f3c040759c50aab69688634688c5c327f26f3ecf7001ebfd78c01f3c7c0a11a7c8bfd0a8bc9f6240d4f40b224e4e
  languageName: node
  linkType: hard

"shebang-regex@npm:^3.0.0":
  version: 3.0.0
  resolution: "shebang-regex@npm:3.0.0"
  checksum: 10c0/1dbed0726dd0e1152a92696c76c7f06084eb32a90f0528d11acd764043aacf76994b2fb30aa1291a21bd019d6699164d048286309a278855ee7bec06cf6fb690
  languageName: node
  linkType: hard

"shelljs@npm:^0.8.4":
  version: 0.8.5
  resolution: "shelljs@npm:0.8.5"
  dependencies:
    glob: "npm:^7.0.0"
    interpret: "npm:^1.0.0"
    rechoir: "npm:^0.6.2"
  bin:
    shjs: bin/shjs
  checksum: 10c0/feb25289a12e4bcd04c40ddfab51aff98a3729f5c2602d5b1a1b95f6819ec7804ac8147ebd8d9a85dfab69d501bcf92d7acef03247320f51c1552cec8d8e2382
  languageName: node
  linkType: hard

"shortid@npm:^2.2.15":
  version: 2.2.15
  resolution: "shortid@npm:2.2.15"
  dependencies:
    nanoid: "npm:^2.1.0"
  checksum: 10c0/db2ea3a0d8c215585f2d5db7afd74b16e8edf9a792b191c4ead181829c7f2c78c66ff3c580dc3266e921437e85228d0c777ad6d1d264edbd5a5754cb3461daad
  languageName: node
  linkType: hard

"signal-exit@npm:^3.0.2":
  version: 3.0.7
  resolution: "signal-exit@npm:3.0.7"
  checksum: 10c0/25d272fa73e146048565e08f3309d5b942c1979a6f4a58a8c59d5fa299728e9c2fcd1a759ec870863b1fd38653670240cd420dad2ad9330c71f36608a6a1c912
  languageName: node
  linkType: hard

"signal-exit@npm:^4.0.1":
  version: 4.1.0
  resolution: "signal-exit@npm:4.1.0"
  checksum: 10c0/41602dce540e46d599edba9d9860193398d135f7ff72cab629db5171516cfae628d21e7bfccde1bbfdf11c48726bc2a6d1a8fb8701125852fbfda7cf19c6aa83
  languageName: node
  linkType: hard

"simple-concat@npm:^1.0.0":
  version: 1.0.1
  resolution: "simple-concat@npm:1.0.1"
  checksum: 10c0/62f7508e674414008910b5397c1811941d457dfa0db4fd5aa7fa0409eb02c3609608dfcd7508cace75b3a0bf67a2a77990711e32cd213d2c76f4fd12ee86d776
  languageName: node
  linkType: hard

"simple-get@npm:^4.0.0":
  version: 4.0.1
  resolution: "simple-get@npm:4.0.1"
  dependencies:
    decompress-response: "npm:^6.0.0"
    once: "npm:^1.3.1"
    simple-concat: "npm:^1.0.0"
  checksum: 10c0/b0649a581dbca741babb960423248899203165769747142033479a7dc5e77d7b0fced0253c731cd57cf21e31e4d77c9157c3069f4448d558ebc96cf9e1eebcf0
  languageName: node
  linkType: hard

"simple-swizzle@npm:^0.2.2":
  version: 0.2.2
  resolution: "simple-swizzle@npm:0.2.2"
  dependencies:
    is-arrayish: "npm:^0.3.1"
  checksum: 10c0/df5e4662a8c750bdba69af4e8263c5d96fe4cd0f9fe4bdfa3cbdeb45d2e869dff640beaaeb1ef0e99db4d8d2ec92f85508c269f50c972174851bc1ae5bd64308
  languageName: node
  linkType: hard

"smart-buffer@npm:^4.2.0":
  version: 4.2.0
  resolution: "smart-buffer@npm:4.2.0"
  checksum: 10c0/a16775323e1404dd43fabafe7460be13a471e021637bc7889468eb45ce6a6b207261f454e4e530a19500cc962c4cc5348583520843b363f4193cee5c00e1e539
  languageName: node
  linkType: hard

"socket.io-adapter@npm:~1.1.0":
  version: 1.1.2
  resolution: "socket.io-adapter@npm:1.1.2"
  checksum: 10c0/73ec8a91ebb30d4c0f6be8d3c96519e8fce8337b9b7aa2c8f4534e9af941e6f06bad5744d611adf2c2e28d29020910e0c7f333e22f83f9f0334ae36b5e6c7925
  languageName: node
  linkType: hard

"socket.io-client-v2@npm:socket.io-client@2.5.0":
  version: 2.5.0
  resolution: "socket.io-client@npm:2.5.0"
  dependencies:
    backo2: "npm:1.0.2"
    component-bind: "npm:1.0.0"
    component-emitter: "npm:~1.3.0"
    debug: "npm:~3.1.0"
    engine.io-client: "npm:~3.5.0"
    has-binary2: "npm:~1.0.2"
    indexof: "npm:0.0.1"
    parseqs: "npm:0.0.6"
    parseuri: "npm:0.0.6"
    socket.io-parser: "npm:~3.3.0"
    to-array: "npm:0.1.4"
  checksum: 10c0/88f5200203f621377dda7ceef1b04515f5517dae58f507396addf59a3ee1b3237669e40e41dbe0224facae6438891a762369a620de4aa2f61b211a96c0b7415d
  languageName: node
  linkType: hard

"socket.io-client-v4@npm:socket.io-client@4.7.5":
  version: 4.7.5
  resolution: "socket.io-client@npm:4.7.5"
  dependencies:
    "@socket.io/component-emitter": "npm:~3.1.0"
    debug: "npm:~4.3.2"
    engine.io-client: "npm:~6.5.2"
    socket.io-parser: "npm:~4.2.4"
  checksum: 10c0/d5dc90ee63755fbbb0a1cb3faf575c9ce20d98e809a43a4c9c3ce03a56b8810335ae38e678ceb0650ac434d55e72ea6449c2e5d6db8bc7258f7c529148fac99d
  languageName: node
  linkType: hard

"socket.io-client@npm:2.3.0":
  version: 2.3.0
  resolution: "socket.io-client@npm:2.3.0"
  dependencies:
    backo2: "npm:1.0.2"
    base64-arraybuffer: "npm:0.1.5"
    component-bind: "npm:1.0.0"
    component-emitter: "npm:1.2.1"
    debug: "npm:~4.1.0"
    engine.io-client: "npm:~3.4.0"
    has-binary2: "npm:~1.0.2"
    has-cors: "npm:1.1.0"
    indexof: "npm:0.0.1"
    object-component: "npm:0.0.3"
    parseqs: "npm:0.0.5"
    parseuri: "npm:0.0.5"
    socket.io-parser: "npm:~3.3.0"
    to-array: "npm:0.1.4"
  checksum: 10c0/f057866f0b665c0a13d0d3cd085e42edcf84f66ce2ec8655a74fedb2c243e5a85c95208092447e0b46714c55519263f803b10d4b7a7ae020f650fd63924a09dc
  languageName: node
  linkType: hard

"socket.io-parser@npm:~3.3.0":
  version: 3.3.3
  resolution: "socket.io-parser@npm:3.3.3"
  dependencies:
    component-emitter: "npm:~1.3.0"
    debug: "npm:~3.1.0"
    isarray: "npm:2.0.1"
  checksum: 10c0/74c3557350d4b2ad40f661f3af12a0805f7bb8ab1d89591744cdea427599329aafad5512ac4ee6cdb2577a6588bd6682e618e88314d2066c25f4b15d9638966d
  languageName: node
  linkType: hard

"socket.io-parser@npm:~3.4.0":
  version: 3.4.1
  resolution: "socket.io-parser@npm:3.4.1"
  dependencies:
    component-emitter: "npm:1.2.1"
    debug: "npm:~4.1.0"
    isarray: "npm:2.0.1"
  checksum: 10c0/f1e77e070e5858f2ff57d1a1593bbb89810d42d351b107f48774708d026ff122f599579fedcf6985de3668de0a4220534d8f04cf2bac336cb8df33920b770986
  languageName: node
  linkType: hard

"socket.io-parser@npm:~4.2.4":
  version: 4.2.4
  resolution: "socket.io-parser@npm:4.2.4"
  dependencies:
    "@socket.io/component-emitter": "npm:~3.1.0"
    debug: "npm:~4.3.1"
  checksum: 10c0/9383b30358fde4a801ea4ec5e6860915c0389a091321f1c1f41506618b5cf7cd685d0a31c587467a0c4ee99ef98c2b99fb87911f9dfb329716c43b587f29ca48
  languageName: node
  linkType: hard

"socket.io@npm:^2.3.0":
  version: 2.3.0
  resolution: "socket.io@npm:2.3.0"
  dependencies:
    debug: "npm:~4.1.0"
    engine.io: "npm:~3.4.0"
    has-binary2: "npm:~1.0.2"
    socket.io-adapter: "npm:~1.1.0"
    socket.io-client: "npm:2.3.0"
    socket.io-parser: "npm:~3.4.0"
  checksum: 10c0/5836e2143aa9714c1f43519b53c5801f0f81a33d37bcee50376d2dd8d692dfda6c584187ef7b32d858cd5fc28e4f99f47d7614b765067c26cae8c425eff40443
  languageName: node
  linkType: hard

"socks-proxy-agent@npm:^8.0.3":
  version: 8.0.4
  resolution: "socks-proxy-agent@npm:8.0.4"
  dependencies:
    agent-base: "npm:^7.1.1"
    debug: "npm:^4.3.4"
    socks: "npm:^2.8.3"
  checksum: 10c0/345593bb21b95b0508e63e703c84da11549f0a2657d6b4e3ee3612c312cb3a907eac10e53b23ede3557c6601d63252103494caa306b66560f43af7b98f53957a
  languageName: node
  linkType: hard

"socks@npm:^2.8.3":
  version: 2.8.3
  resolution: "socks@npm:2.8.3"
  dependencies:
    ip-address: "npm:^9.0.5"
    smart-buffer: "npm:^4.2.0"
  checksum: 10c0/d54a52bf9325165770b674a67241143a3d8b4e4c8884560c4e0e078aace2a728dffc7f70150660f51b85797c4e1a3b82f9b7aa25e0a0ceae1a243365da5c51a7
  languageName: node
  linkType: hard

"source-map@npm:^0.6.1":
  version: 0.6.1
  resolution: "source-map@npm:0.6.1"
  checksum: 10c0/ab55398007c5e5532957cb0beee2368529618ac0ab372d789806f5718123cc4367d57de3904b4e6a4170eb5a0b0f41373066d02ca0735a0c4d75c7d328d3e011
  languageName: node
  linkType: hard

"split2@npm:^3.1.0":
  version: 3.2.2
  resolution: "split2@npm:3.2.2"
  dependencies:
    readable-stream: "npm:^3.0.0"
  checksum: 10c0/2dad5603c52b353939befa3e2f108f6e3aff42b204ad0f5f16dd12fd7c2beab48d117184ce6f7c8854f9ee5ffec6faae70d243711dd7d143a9f635b4a285de4e
  languageName: node
  linkType: hard

"split2@npm:^4.2.0":
  version: 4.2.0
  resolution: "split2@npm:4.2.0"
  checksum: 10c0/b292beb8ce9215f8c642bb68be6249c5a4c7f332fc8ecadae7be5cbdf1ea95addc95f0459ef2e7ad9d45fd1064698a097e4eb211c83e772b49bc0ee423e91534
  languageName: node
  linkType: hard

"sprintf-js@npm:^1.1.3":
  version: 1.1.3
  resolution: "sprintf-js@npm:1.1.3"
  checksum: 10c0/09270dc4f30d479e666aee820eacd9e464215cdff53848b443964202bf4051490538e5dd1b42e1a65cf7296916ca17640aebf63dae9812749c7542ee5f288dec
  languageName: node
  linkType: hard

"sshpk@npm:^1.14.1, sshpk@npm:^1.7.0":
  version: 1.17.0
  resolution: "sshpk@npm:1.17.0"
  dependencies:
    asn1: "npm:~0.2.3"
    assert-plus: "npm:^1.0.0"
    bcrypt-pbkdf: "npm:^1.0.0"
    dashdash: "npm:^1.12.0"
    ecc-jsbn: "npm:~0.1.1"
    getpass: "npm:^0.1.1"
    jsbn: "npm:~0.1.0"
    safer-buffer: "npm:^2.0.2"
    tweetnacl: "npm:~0.14.0"
  bin:
    sshpk-conv: bin/sshpk-conv
    sshpk-sign: bin/sshpk-sign
    sshpk-verify: bin/sshpk-verify
  checksum: 10c0/cf5e7f4c72e8a505ef41daac9f9ca26da365cfe26ae265a01ce98a8868991943857a8526c1cf98a42ef0dc4edf1dbe4e77aeea378cfeb58054beb78505e85402
  languageName: node
  linkType: hard

"sshpk@npm:^1.18.0":
  version: 1.18.0
  resolution: "sshpk@npm:1.18.0"
  dependencies:
    asn1: "npm:~0.2.3"
    assert-plus: "npm:^1.0.0"
    bcrypt-pbkdf: "npm:^1.0.0"
    dashdash: "npm:^1.12.0"
    ecc-jsbn: "npm:~0.1.1"
    getpass: "npm:^0.1.1"
    jsbn: "npm:~0.1.0"
    safer-buffer: "npm:^2.0.2"
    tweetnacl: "npm:~0.14.0"
  bin:
    sshpk-conv: bin/sshpk-conv
    sshpk-sign: bin/sshpk-sign
    sshpk-verify: bin/sshpk-verify
  checksum: 10c0/e516e34fa981cfceef45fd2e947772cc70dbd57523e5c608e2cd73752ba7f8a99a04df7c3ed751588e8d91956b6f16531590b35d3489980d1c54c38bebcd41b1
  languageName: node
  linkType: hard

"ssri@npm:^10.0.0":
  version: 10.0.6
  resolution: "ssri@npm:10.0.6"
  dependencies:
    minipass: "npm:^7.0.3"
  checksum: 10c0/e5a1e23a4057a86a97971465418f22ea89bd439ac36ade88812dd920e4e61873e8abd6a9b72a03a67ef50faa00a2daf1ab745c5a15b46d03e0544a0296354227
  languageName: node
  linkType: hard

"stack-trace@npm:0.0.9":
  version: 0.0.9
  resolution: "stack-trace@npm:0.0.9"
  checksum: 10c0/dd4fc71b4b5e956550d4aeea35b74893dfa79981237ebcaa071f4a38bba78d7fd553ec402fc5a63018a52dc75c1ebe61847c3b84ef7654b3e85e44b6a5728cfd
  languageName: node
  linkType: hard

"stack-trace@npm:0.0.x":
  version: 0.0.10
  resolution: "stack-trace@npm:0.0.10"
  checksum: 10c0/9ff3dabfad4049b635a85456f927a075c9d0c210e3ea336412d18220b2a86cbb9b13ec46d6c37b70a302a4ea4d49e30e5d4944dd60ae784073f1cde778ac8f4b
  languageName: node
  linkType: hard

"stream-length@npm:^1.0.2":
  version: 1.0.2
  resolution: "stream-length@npm:1.0.2"
  dependencies:
    bluebird: "npm:^2.6.2"
  checksum: 10c0/30d8aacf47cba78f914b33f8274dd9ce8f4265bdd0de1943438e60b195f80536cdd3c80bd6c029a2b4c6dd07e4df0909a1bd289a664a1dbbbaedfeb27e9491cb
  languageName: node
  linkType: hard

"stream-shift@npm:^1.0.0":
  version: 1.0.1
  resolution: "stream-shift@npm:1.0.1"
  checksum: 10c0/b63a0d178cde34b920ad93e2c0c9395b840f408d36803b07c61416edac80ef9e480a51910e0ceea0d679cec90921bcd2cccab020d3a9fa6c73a98b0fbec132fd
  languageName: node
  linkType: hard

"string-width-cjs@npm:string-width@^4.2.0, string-width@npm:^4.1.0, string-width@npm:^4.2.0, string-width@npm:^4.2.3":
  version: 4.2.3
  resolution: "string-width@npm:4.2.3"
  dependencies:
    emoji-regex: "npm:^8.0.0"
    is-fullwidth-code-point: "npm:^3.0.0"
    strip-ansi: "npm:^6.0.1"
  checksum: 10c0/1e525e92e5eae0afd7454086eed9c818ee84374bb80328fc41217ae72ff5f065ef1c9d7f72da41de40c75fa8bb3dee63d92373fd492c84260a552c636392a47b
  languageName: node
  linkType: hard

"string-width@npm:^5.0.1, string-width@npm:^5.1.2":
  version: 5.1.2
  resolution: "string-width@npm:5.1.2"
  dependencies:
    eastasianwidth: "npm:^0.2.0"
    emoji-regex: "npm:^9.2.2"
    strip-ansi: "npm:^7.0.1"
  checksum: 10c0/ab9c4264443d35b8b923cbdd513a089a60de339216d3b0ed3be3ba57d6880e1a192b70ae17225f764d7adbf5994e9bb8df253a944736c15a0240eff553c678ca
  languageName: node
  linkType: hard

"string_decoder@npm:^1.1.1, string_decoder@npm:^1.3.0":
  version: 1.3.0
  resolution: "string_decoder@npm:1.3.0"
  dependencies:
    safe-buffer: "npm:~5.2.0"
  checksum: 10c0/810614ddb030e271cd591935dcd5956b2410dd079d64ff92a1844d6b7588bf992b3e1b69b0f4d34a3e06e0bd73046ac646b5264c1987b20d0601f81ef35d731d
  languageName: node
  linkType: hard

"string_decoder@npm:~1.1.1":
  version: 1.1.1
  resolution: "string_decoder@npm:1.1.1"
  dependencies:
    safe-buffer: "npm:~5.1.0"
  checksum: 10c0/b4f89f3a92fd101b5653ca3c99550e07bdf9e13b35037e9e2a1c7b47cec4e55e06ff3fc468e314a0b5e80bfbaf65c1ca5a84978764884ae9413bec1fc6ca924e
  languageName: node
  linkType: hard

"strip-ansi-cjs@npm:strip-ansi@^6.0.1, strip-ansi@npm:^6.0.0, strip-ansi@npm:^6.0.1":
  version: 6.0.1
  resolution: "strip-ansi@npm:6.0.1"
  dependencies:
    ansi-regex: "npm:^5.0.1"
  checksum: 10c0/1ae5f212a126fe5b167707f716942490e3933085a5ff6c008ab97ab2f272c8025d3aa218b7bd6ab25729ca20cc81cddb252102f8751e13482a5199e873680952
  languageName: node
  linkType: hard

"strip-ansi@npm:^7.0.1":
  version: 7.1.0
  resolution: "strip-ansi@npm:7.1.0"
  dependencies:
    ansi-regex: "npm:^6.0.1"
  checksum: 10c0/a198c3762e8832505328cbf9e8c8381de14a4fa50a4f9b2160138158ea88c0f5549fb50cb13c651c3088f47e63a108b34622ec18c0499b6c8c3a5ddf6b305ac4
  languageName: node
  linkType: hard

"strip-json-comments@npm:3.1.1, strip-json-comments@npm:^3.1.1":
  version: 3.1.1
  resolution: "strip-json-comments@npm:3.1.1"
  checksum: 10c0/9681a6257b925a7fa0f285851c0e613cc934a50661fa7bb41ca9cbbff89686bb4a0ee366e6ecedc4daafd01e83eee0720111ab294366fe7c185e935475ebcecd
  languageName: node
  linkType: hard

"strip-json-comments@npm:~2.0.1":
  version: 2.0.1
  resolution: "strip-json-comments@npm:2.0.1"
  checksum: 10c0/b509231cbdee45064ff4f9fd73609e2bcc4e84a4d508e9dd0f31f70356473fde18abfb5838c17d56fb236f5a06b102ef115438de0600b749e818a35fbbc48c43
  languageName: node
  linkType: hard

"strnum@npm:^1.0.5":
  version: 1.0.5
  resolution: "strnum@npm:1.0.5"
  checksum: 10c0/64fb8cc2effbd585a6821faa73ad97d4b553c8927e49086a162ffd2cc818787643390b89d567460a8e74300148d11ac052e21c921ef2049f2987f4b1b89a7ff1
  languageName: node
  linkType: hard

"strtok3@npm:^6.2.4":
  version: 6.3.0
  resolution: "strtok3@npm:6.3.0"
  dependencies:
    "@tokenizer/token": "npm:^0.3.0"
    peek-readable: "npm:^4.1.0"
  checksum: 10c0/8f1483a2a6758404502f2fc431586fcf37d747b10b125596ab5ec92319c247dd1195f82ba0bc2eaa582db3d807b5cca4b67ff61411756fec6622d051f8e255c2
  languageName: node
  linkType: hard

"subscriptions-transport-ws@npm:^0.11.0":
  version: 0.11.0
  resolution: "subscriptions-transport-ws@npm:0.11.0"
  dependencies:
    backo2: "npm:^1.0.2"
    eventemitter3: "npm:^3.1.0"
    iterall: "npm:^1.2.1"
    symbol-observable: "npm:^1.0.4"
    ws: "npm:^5.2.0 || ^6.0.0 || ^7.0.0"
  peerDependencies:
    graphql: ^15.7.2 || ^16.0.0
  checksum: 10c0/697441333e59b6932bff51212e29f8dcac477badb067971bd94c30c5f3f7a2e2ea72fb1a21f3c1abbf32774da01515aa24739e620be45f6d576784bd96fd10da
  languageName: node
  linkType: hard

"sudo-prompt@npm:^9.2.1":
  version: 9.2.1
  resolution: "sudo-prompt@npm:9.2.1"
  checksum: 10c0/e56793513a9c95f66367a3be2ec4c1adee84a2a62f1b7ff6453d610586dcd373d7d8f4df522a7dae03aea8b779ef7f7ba25d1130d24fb1e495cfbbc2c72c7486
  languageName: node
  linkType: hard

"supports-preserve-symlinks-flag@npm:^1.0.0":
  version: 1.0.0
  resolution: "supports-preserve-symlinks-flag@npm:1.0.0"
  checksum: 10c0/6c4032340701a9950865f7ae8ef38578d8d7053f5e10518076e6554a9381fa91bd9c6850193695c141f32b21f979c985db07265a758867bac95de05f7d8aeb39
  languageName: node
  linkType: hard

"symbol-observable@npm:^1.0.4":
  version: 1.2.0
  resolution: "symbol-observable@npm:1.2.0"
  checksum: 10c0/009fee50798ef80ed4b8195048288f108b03de162db07493f2e1fd993b33fafa72d659e832b584da5a2427daa78e5a738fb2a9ab027ee9454252e0bedbcd1fdc
  languageName: node
  linkType: hard

"systeminformation@npm:^5.17.12":
  version: 5.17.12
  resolution: "systeminformation@npm:5.17.12"
  bin:
    systeminformation: lib/cli.js
  checksum: 10c0/963f69fe8c28e20e2839584bff533cef887168f91de400ba5af7d6fceb02a4336a82249463fb0f5a42ad1e38341e54949d870a0cc9b270334ae5c06f8d882ab1
  conditions: (os=darwin | os=linux | os=win32 | os=freebsd | os=openbsd | os=netbsd | os=sunos | os=android)
  languageName: node
  linkType: hard

"tar-fs@npm:^2.0.0":
  version: 2.1.1
  resolution: "tar-fs@npm:2.1.1"
  dependencies:
    chownr: "npm:^1.1.1"
    mkdirp-classic: "npm:^0.5.2"
    pump: "npm:^3.0.0"
    tar-stream: "npm:^2.1.4"
  checksum: 10c0/871d26a934bfb7beeae4c4d8a09689f530b565f79bd0cf489823ff0efa3705da01278160da10bb006d1a793fa0425cf316cec029b32a9159eacbeaff4965fb6d
  languageName: node
  linkType: hard

"tar-stream@npm:^2.1.4":
  version: 2.2.0
  resolution: "tar-stream@npm:2.2.0"
  dependencies:
    bl: "npm:^4.0.3"
    end-of-stream: "npm:^1.4.1"
    fs-constants: "npm:^1.0.0"
    inherits: "npm:^2.0.3"
    readable-stream: "npm:^3.1.1"
  checksum: 10c0/2f4c910b3ee7196502e1ff015a7ba321ec6ea837667220d7bcb8d0852d51cb04b87f7ae471008a6fb8f5b1a1b5078f62f3a82d30c706f20ada1238ac797e7692
  languageName: node
  linkType: hard

"tar@npm:^6.1.11, tar@npm:^6.2.1":
  version: 6.2.1
  resolution: "tar@npm:6.2.1"
  dependencies:
    chownr: "npm:^2.0.0"
    fs-minipass: "npm:^2.0.0"
    minipass: "npm:^5.0.0"
    minizlib: "npm:^2.1.1"
    mkdirp: "npm:^1.0.3"
    yallist: "npm:^4.0.0"
  checksum: 10c0/a5eca3eb50bc11552d453488344e6507156b9193efd7635e98e867fab275d527af53d8866e2370cd09dfe74378a18111622ace35af6a608e5223a7d27fe99537
  languageName: node
  linkType: hard

"teleport-javascript@npm:1.0.0":
  version: 1.0.0
  resolution: "teleport-javascript@npm:1.0.0"
  checksum: 10c0/01d94dec9f156ba553aede3276d8364b04973c94a4483f69a246ae504b57d2eb35ecdb00226581ae3149d4aee8833b93f3bd379a869e4f41bf1721651afd6408
  languageName: node
  linkType: hard

"text-hex@npm:1.0.x":
  version: 1.0.0
  resolution: "text-hex@npm:1.0.0"
  checksum: 10c0/57d8d320d92c79d7c03ffb8339b825bb9637c2cbccf14304309f51d8950015c44464b6fd1b6820a3d4821241c68825634f09f5a2d9d501e84f7c6fd14376860d
  languageName: node
  linkType: hard

"tiny-msgpack@npm:^2.2.0":
  version: 2.2.0
  resolution: "tiny-msgpack@npm:2.2.0"
  checksum: 10c0/47b2984a143be29ce663054685cc22422e0bd474cbb3176fb5945a5dc21e576d2c463368ae5293d040c294ffa12585b93b992226ff2f6a47ab72d0f8024cf4a0
  languageName: node
  linkType: hard

"to-array@npm:0.1.4":
  version: 0.1.4
  resolution: "to-array@npm:0.1.4"
  checksum: 10c0/80c8d5677bcff082d68805625fc1282717c4ccd27885093372131cfbcd719e498c2e86c1787d0064f23529b6f2334031094c087061d20fa06430250ea7caef53
  languageName: node
  linkType: hard

"token-types@npm:^4.1.1":
  version: 4.2.1
  resolution: "token-types@npm:4.2.1"
  dependencies:
    "@tokenizer/token": "npm:^0.3.0"
    ieee754: "npm:^1.2.1"
  checksum: 10c0/e9a4a139deba9515770cd7ac36a8f53f953b9d035d309e88a66d706760dba0df420753f2b8bdee6b9f3cbff8d66b24e69571e8dea27baa7b378229ab1bcca399
  languageName: node
  linkType: hard

"tough-cookie@npm:~2.5.0":
  version: 2.5.0
  resolution: "tough-cookie@npm:2.5.0"
  dependencies:
    psl: "npm:^1.1.28"
    punycode: "npm:^2.1.1"
  checksum: 10c0/e1cadfb24d40d64ca16de05fa8192bc097b66aeeb2704199b055ff12f450e4f30c927ce250f53d01f39baad18e1c11d66f65e545c5c6269de4c366fafa4c0543
  languageName: node
  linkType: hard

"tr46@npm:~0.0.3":
  version: 0.0.3
  resolution: "tr46@npm:0.0.3"
  checksum: 10c0/047cb209a6b60c742f05c9d3ace8fa510bff609995c129a37ace03476a9b12db4dbf975e74600830ef0796e18882b2381fb5fb1f6b4f96b832c374de3ab91a11
  languageName: node
  linkType: hard

"triple-beam@npm:^1.2.0, triple-beam@npm:^1.3.0":
  version: 1.3.0
  resolution: "triple-beam@npm:1.3.0"
  checksum: 10c0/a6da96495f25b6c04b3629df5161c7eb84760927943f16665fd8dcd3a643daadf73d69eee78306b4b68d606937f22f8703afe763bc8d3723632ffb1f3a798493
  languageName: node
  linkType: hard

"trouter@npm:^2.0.1":
  version: 2.0.1
  resolution: "trouter@npm:2.0.1"
  dependencies:
    matchit: "npm:^1.0.0"
  checksum: 10c0/9d294dbe74d45649d929d3abf0d4cb8e508985a2ea0f8be41b3b097a985352b14f65dd76b68ae651731128995eceddba375b15719356c419bbfe754c5fb5673c
  languageName: node
  linkType: hard

"truncate-utf8-bytes@npm:^1.0.0":
  version: 1.0.2
  resolution: "truncate-utf8-bytes@npm:1.0.2"
  dependencies:
    utf8-byte-length: "npm:^1.0.1"
  checksum: 10c0/af2b431fc4314f119b551e5fccfad49d4c0ef82e13ba9ca61be6567801195b08e732ce9643542e8ad1b3df44f3df2d7345b3dd34f723954b6bb43a14584d6b3c
  languageName: node
  linkType: hard

"ts-algebra@npm:^1.2.0":
  version: 1.2.2
  resolution: "ts-algebra@npm:1.2.2"
  checksum: 10c0/dabfb7fad18b3bb56ed6b14404c2d9d7d41f181df599d50ad6643c6ff1afc459524969d80898183f9e5c66378163799991bfac799790899034ae8cfc99904c74
  languageName: node
  linkType: hard

"tslib@npm:^1.9.3":
  version: 1.14.1
  resolution: "tslib@npm:1.14.1"
  checksum: 10c0/69ae09c49eea644bc5ebe1bca4fa4cc2c82b7b3e02f43b84bd891504edf66dbc6b2ec0eef31a957042de2269139e4acff911e6d186a258fb14069cd7f6febce2
  languageName: node
  linkType: hard

"tunnel-agent@npm:^0.6.0":
  version: 0.6.0
  resolution: "tunnel-agent@npm:0.6.0"
  dependencies:
    safe-buffer: "npm:^5.0.1"
  checksum: 10c0/4c7a1b813e7beae66fdbf567a65ec6d46313643753d0beefb3c7973d66fcec3a1e7f39759f0a0b4465883499c6dc8b0750ab8b287399af2e583823e40410a17a
  languageName: node
  linkType: hard

"tweetnacl@npm:^0.14.3, tweetnacl@npm:~0.14.0":
  version: 0.14.5
  resolution: "tweetnacl@npm:0.14.5"
  checksum: 10c0/4612772653512c7bc19e61923fbf42903f5e0389ec76a4a1f17195859d114671ea4aa3b734c2029ce7e1fa7e5cc8b80580f67b071ecf0b46b5636d030a0102a2
  languageName: node
  linkType: hard

"typedarray@npm:^0.0.6":
  version: 0.0.6
  resolution: "typedarray@npm:0.0.6"
  checksum: 10c0/6005cb31df50eef8b1f3c780eb71a17925f3038a100d82f9406ac2ad1de5eb59f8e6decbdc145b3a1f8e5836e17b0c0002fb698b9fe2516b8f9f9ff602d36412
  languageName: node
  linkType: hard

"uglify-js@npm:^3.1.4":
  version: 3.18.0
  resolution: "uglify-js@npm:3.18.0"
  bin:
    uglifyjs: bin/uglifyjs
  checksum: 10c0/57f5f6213a2c4e8c551be9c875c085d565dc88af6b7caaab40a197aa639183cdce7c9dc2f858675eca72a5323f850ab7e88b9cc0a52dfbe3e0768aee6ab6e102
  languageName: node
  linkType: hard

"underscore@npm:~1.12.1":
  version: 1.12.1
  resolution: "underscore@npm:1.12.1"
  checksum: 10c0/00f392357e363353ac485e7c156b749505087e31ff4fdad22e04ebd2f94a56fbc554cd41a6722e3895a818466cf298b1cae93ff6211d102d373a9b50db63bfd0
  languageName: node
  linkType: hard

"underscore@npm:~1.4.4":
  version: 1.4.4
  resolution: "underscore@npm:1.4.4"
  checksum: 10c0/d2ef79ebb283bf3cb6e26147a7170d8dee7559f743bb5efec3ca8cbd6535dd61efab2d8a1b3ecdb5b1c4d9ce606d3c3b803e5ca3c3f74e7d102437eed4fde5c5
  languageName: node
  linkType: hard

"undici-types@npm:~6.19.2":
  version: 6.19.8
  resolution: "undici-types@npm:6.19.8"
  checksum: 10c0/078afa5990fba110f6824823ace86073b4638f1d5112ee26e790155f481f2a868cc3e0615505b6f4282bdf74a3d8caad715fd809e870c2bb0704e3ea6082f344
  languageName: node
  linkType: hard

"unique-filename@npm:^3.0.0":
  version: 3.0.0
  resolution: "unique-filename@npm:3.0.0"
  dependencies:
    unique-slug: "npm:^4.0.0"
  checksum: 10c0/6363e40b2fa758eb5ec5e21b3c7fb83e5da8dcfbd866cc0c199d5534c42f03b9ea9ab069769cc388e1d7ab93b4eeef28ef506ab5f18d910ef29617715101884f
  languageName: node
  linkType: hard

"unique-slug@npm:^4.0.0":
  version: 4.0.0
  resolution: "unique-slug@npm:4.0.0"
  dependencies:
    imurmurhash: "npm:^0.1.4"
  checksum: 10c0/cb811d9d54eb5821b81b18205750be84cb015c20a4a44280794e915f5a0a70223ce39066781a354e872df3572e8155c228f43ff0cce94c7cbf4da2cc7cbdd635
  languageName: node
  linkType: hard

"universalify@npm:^0.2.0":
  version: 0.2.0
  resolution: "universalify@npm:0.2.0"
  checksum: 10c0/cedbe4d4ca3967edf24c0800cfc161c5a15e240dac28e3ce575c689abc11f2c81ccc6532c8752af3b40f9120fb5e454abecd359e164f4f6aa44c29cd37e194fe
  languageName: node
  linkType: hard

"unzip-crx-3@npm:^0.2.0":
  version: 0.2.0
  resolution: "unzip-crx-3@npm:0.2.0"
  dependencies:
    jszip: "npm:^3.1.0"
    mkdirp: "npm:^0.5.1"
    yaku: "npm:^0.16.6"
  checksum: 10c0/e551cb3d57d0271da41825e9bd9a7f4ef9ec5c3f15edc37bf909928c8327f21a6938ddc922787ee2b1b31f95ac83232dac79fd5a44e2727f9e800df9017a3b91
  languageName: node
  linkType: hard

"uri-js@npm:^4.2.2":
  version: 4.4.1
  resolution: "uri-js@npm:4.4.1"
  dependencies:
    punycode: "npm:^2.1.0"
  checksum: 10c0/4ef57b45aa820d7ac6496e9208559986c665e49447cb072744c13b66925a362d96dd5a46c4530a6b8e203e5db5fe849369444440cb22ecfc26c679359e5dfa3c
  languageName: node
  linkType: hard

"url-parse@npm:^1.5.3":
  version: 1.5.10
  resolution: "url-parse@npm:1.5.10"
  dependencies:
    querystringify: "npm:^2.1.1"
    requires-port: "npm:^1.0.0"
  checksum: 10c0/bd5aa9389f896974beb851c112f63b466505a04b4807cea2e5a3b7092f6fbb75316f0491ea84e44f66fed55f1b440df5195d7e3a8203f64fcefa19d182f5be87
  languageName: node
  linkType: hard

"utf8-byte-length@npm:^1.0.1":
  version: 1.0.4
  resolution: "utf8-byte-length@npm:1.0.4"
  checksum: 10c0/78eeae05e7b44cd5cd382f00477fe07f5f14e04e83625cd5680e4b41ec29630fb8f85a553a650ae4131216019ef0569169990015e34619d3a2906380ecac6da8
  languageName: node
  linkType: hard

"util-deprecate@npm:^1.0.1, util-deprecate@npm:~1.0.1":
  version: 1.0.2
  resolution: "util-deprecate@npm:1.0.2"
  checksum: 10c0/41a5bdd214df2f6c3ecf8622745e4a366c4adced864bc3c833739791aeeeb1838119af7daed4ba36428114b5c67dcda034a79c882e97e43c03e66a4dd7389942
  languageName: node
  linkType: hard

"uuid@npm:8.3.2, uuid@npm:^8.3.0, uuid@npm:^8.3.2":
  version: 8.3.2
  resolution: "uuid@npm:8.3.2"
  bin:
    uuid: dist/bin/uuid
  checksum: 10c0/bcbb807a917d374a49f475fae2e87fdca7da5e5530820ef53f65ba1d12131bd81a92ecf259cc7ce317cbe0f289e7d79fdfebcef9bfa3087c8c8a2fa304c9be54
  languageName: node
  linkType: hard

"uuid@npm:^3.0.0, uuid@npm:^3.3.2":
  version: 3.4.0
  resolution: "uuid@npm:3.4.0"
  bin:
    uuid: ./bin/uuid
  checksum: 10c0/1c13950df865c4f506ebfe0a24023571fa80edf2e62364297a537c80af09c618299797bbf2dbac6b1f8ae5ad182ba474b89db61e0e85839683991f7e08795347
  languageName: node
  linkType: hard

"uvm@npm:4.0.0":
  version: 4.0.0
  resolution: "uvm@npm:4.0.0"
  dependencies:
    flatted: "npm:3.3.1"
  checksum: 10c0/14bec633329dd470f8c52aeaa34bf06ced39a8b5a45c75b76cf50fbd226310856cb7d5eeb22f518aaf0f0f3d3f6fb1e4e9458b33ac7648885b185f0810b2f7ca
  languageName: node
  linkType: hard

"vary@npm:^1":
  version: 1.1.2
  resolution: "vary@npm:1.1.2"
  checksum: 10c0/f15d588d79f3675135ba783c91a4083dcd290a2a5be9fcb6514220a1634e23df116847b1cc51f66bfb0644cf9353b2abb7815ae499bab06e46dd33c1a6bf1f4f
  languageName: node
  linkType: hard

"verror@npm:1.10.0":
  version: 1.10.0
  resolution: "verror@npm:1.10.0"
  dependencies:
    assert-plus: "npm:^1.0.0"
    core-util-is: "npm:1.0.2"
    extsprintf: "npm:^1.2.0"
  checksum: 10c0/37ccdf8542b5863c525128908ac80f2b476eed36a32cb944de930ca1e2e78584cc435c4b9b4c68d0fc13a47b45ff364b4be43aa74f8804f9050140f660fb660d
  languageName: node
  linkType: hard

"webidl-conversions@npm:^3.0.0":
  version: 3.0.1
  resolution: "webidl-conversions@npm:3.0.1"
  checksum: 10c0/5612d5f3e54760a797052eb4927f0ddc01383550f542ccd33d5238cfd65aeed392a45ad38364970d0a0f4fea32e1f4d231b3d8dac4a3bdd385e5cf802ae097db
  languageName: node
  linkType: hard

"whatwg-url@npm:^5.0.0":
  version: 5.0.0
  resolution: "whatwg-url@npm:5.0.0"
  dependencies:
    tr46: "npm:~0.0.3"
    webidl-conversions: "npm:^3.0.0"
  checksum: 10c0/1588bed84d10b72d5eec1d0faa0722ba1962f1821e7539c535558fb5398d223b0c50d8acab950b8c488b4ba69043fd833cc2697056b167d8ad46fac3995a55d5
  languageName: node
  linkType: hard

"which@npm:^2.0.1, which@npm:^2.0.2":
  version: 2.0.2
  resolution: "which@npm:2.0.2"
  dependencies:
    isexe: "npm:^2.0.0"
  bin:
    node-which: ./bin/node-which
  checksum: 10c0/66522872a768b60c2a65a57e8ad184e5372f5b6a9ca6d5f033d4b0dc98aff63995655a7503b9c0a2598936f532120e81dd8cc155e2e92ed662a2b9377cc4374f
  languageName: node
  linkType: hard

"which@npm:^4.0.0":
  version: 4.0.0
  resolution: "which@npm:4.0.0"
  dependencies:
    isexe: "npm:^3.1.1"
  bin:
    node-which: bin/which.js
  checksum: 10c0/449fa5c44ed120ccecfe18c433296a4978a7583bf2391c50abce13f76878d2476defde04d0f79db8165bdf432853c1f8389d0485ca6e8ebce3bbcded513d5e6a
  languageName: node
  linkType: hard

"winston-transport@npm:^4.2.0":
  version: 4.5.0
  resolution: "winston-transport@npm:4.5.0"
  dependencies:
    logform: "npm:^2.3.2"
    readable-stream: "npm:^3.6.0"
    triple-beam: "npm:^1.3.0"
  checksum: 10c0/110a47c5acc87c3aa0f101741c0a992e52a86802272838c18aede8178d2b5e80254d2433dcac3439cefbc2777d9e22e65f84e9cee3130681c58e4ae5d58f50c3
  languageName: node
  linkType: hard

"winston@npm:3.1.0":
  version: 3.1.0
  resolution: "winston@npm:3.1.0"
  dependencies:
    async: "npm:^2.6.0"
    diagnostics: "npm:^1.1.1"
    is-stream: "npm:^1.1.0"
    logform: "npm:^1.9.1"
    one-time: "npm:0.0.4"
    readable-stream: "npm:^2.3.6"
    stack-trace: "npm:0.0.x"
    triple-beam: "npm:^1.3.0"
    winston-transport: "npm:^4.2.0"
  checksum: 10c0/1029ac366a0ae40b5d08cbd7fcc53dd37b7f25d26fb0d819be18ec6e54c78a6f363d478215b29801fcc90cd24922ed73bf4f5ea9feac657a5937b86c647da0f9
  languageName: node
  linkType: hard

"wordwrap@npm:^1.0.0":
  version: 1.0.0
  resolution: "wordwrap@npm:1.0.0"
  checksum: 10c0/7ed2e44f3c33c5c3e3771134d2b0aee4314c9e49c749e37f464bf69f2bcdf0cbf9419ca638098e2717cff4875c47f56a007532f6111c3319f557a2ca91278e92
  languageName: node
  linkType: hard

"wrap-ansi-cjs@npm:wrap-ansi@^7.0.0, wrap-ansi@npm:^7.0.0":
  version: 7.0.0
  resolution: "wrap-ansi@npm:7.0.0"
  dependencies:
    ansi-styles: "npm:^4.0.0"
    string-width: "npm:^4.1.0"
    strip-ansi: "npm:^6.0.0"
  checksum: 10c0/d15fc12c11e4cbc4044a552129ebc75ee3f57aa9c1958373a4db0292d72282f54373b536103987a4a7594db1ef6a4f10acf92978f79b98c49306a4b58c77d4da
  languageName: node
  linkType: hard

"wrap-ansi@npm:^8.1.0":
  version: 8.1.0
  resolution: "wrap-ansi@npm:8.1.0"
  dependencies:
    ansi-styles: "npm:^6.1.0"
    string-width: "npm:^5.0.1"
    strip-ansi: "npm:^7.0.1"
  checksum: 10c0/138ff58a41d2f877eae87e3282c0630fc2789012fc1af4d6bd626eeb9a2f9a65ca92005e6e69a75c7b85a68479fe7443c7dbe1eb8fbaa681a4491364b7c55c60
  languageName: node
  linkType: hard

"wrappy@npm:1":
  version: 1.0.2
  resolution: "wrappy@npm:1.0.2"
  checksum: 10c0/56fece1a4018c6a6c8e28fbc88c87e0fbf4ea8fd64fc6c63b18f4acc4bd13e0ad2515189786dd2c30d3eec9663d70f4ecf699330002f8ccb547e4a18231fc9f0
  languageName: node
  linkType: hard

"write-file-atomic@npm:^2.4.2":
  version: 2.4.3
  resolution: "write-file-atomic@npm:2.4.3"
  dependencies:
    graceful-fs: "npm:^4.1.11"
    imurmurhash: "npm:^0.1.4"
    signal-exit: "npm:^3.0.2"
  checksum: 10c0/8cb4bba0c1ab814a9b127844da0db4fb8c5e06ddbe6317b8b319377c73b283673036c8b9360120062898508b9428d81611cf7fa97584504a00bc179b2a580b92
  languageName: node
  linkType: hard

"ws@npm:^5.2.0 || ^6.0.0 || ^7.0.0, ws@npm:^7.1.2, ws@npm:^7.5.5":
  version: 7.5.9
  resolution: "ws@npm:7.5.9"
  peerDependencies:
    bufferutil: ^4.0.1
    utf-8-validate: ^5.0.2
  peerDependenciesMeta:
    bufferutil:
      optional: true
    utf-8-validate:
      optional: true
  checksum: 10c0/aec4ef4eb65821a7dde7b44790f8699cfafb7978c9b080f6d7a98a7f8fc0ce674c027073a78574c94786ba7112cc90fa2cc94fc224ceba4d4b1030cff9662494
  languageName: node
  linkType: hard

"ws@npm:^8.14.2, ws@npm:^8.16.0, ws@npm:^8.9.0":
  version: 8.16.0
  resolution: "ws@npm:8.16.0"
  peerDependencies:
    bufferutil: ^4.0.1
    utf-8-validate: ">=5.0.2"
  peerDependenciesMeta:
    bufferutil:
      optional: true
    utf-8-validate:
      optional: true
  checksum: 10c0/a7783bb421c648b1e622b423409cb2a58ac5839521d2f689e84bc9dc41d59379c692dd405b15a997ea1d4c0c2e5314ad707332d0c558f15232d2bc07c0b4618a
  languageName: node
  linkType: hard

"ws@npm:~6.1.0":
  version: 6.1.4
  resolution: "ws@npm:6.1.4"
  dependencies:
    async-limiter: "npm:~1.0.0"
  checksum: 10c0/487685f5da7f5d4380fa5d6e98e341c36624cce181583fc28ec622f7cc5753892a486ee216fe16e3375be60f1875670a2d0a010dc375e80b188c23fbf0608400
  languageName: node
  linkType: hard

"ws@npm:~7.4.2":
  version: 7.4.6
  resolution: "ws@npm:7.4.6"
  peerDependencies:
    bufferutil: ^4.0.1
    utf-8-validate: ^5.0.2
  peerDependenciesMeta:
    bufferutil:
      optional: true
    utf-8-validate:
      optional: true
  checksum: 10c0/4b44b59bbc0549c852fb2f0cdb48e40e122a1b6078aeed3d65557cbeb7d37dda7a4f0027afba2e6a7a695de17701226d02b23bd15c97b0837808c16345c62f8e
  languageName: node
  linkType: hard

"ws@npm:~8.11.0":
  version: 8.11.0
  resolution: "ws@npm:8.11.0"
  peerDependencies:
    bufferutil: ^4.0.1
    utf-8-validate: ^5.0.2
  peerDependenciesMeta:
    bufferutil:
      optional: true
    utf-8-validate:
      optional: true
  checksum: 10c0/b672b312f357afba8568b9dbb9e08b9e8a20845659b35fa6b340dc848efe371379f5e22bb1dc89c4b2940d5e2dc52dd1de85dde41776875fce115a448f94754f
  languageName: node
  linkType: hard

"xmlhttprequest-ssl@npm:~1.5.4":
  version: 1.5.5
  resolution: "xmlhttprequest-ssl@npm:1.5.5"
  checksum: 10c0/abbdfd737a005f5dc032cafcc08897d951c54cc7aedd5990edbed985e2ea7c52b21cac8eef9e31d9e8cd047b05d891f2ed05fe70c17f7503db6484c71e85d03e
  languageName: node
  linkType: hard

"xmlhttprequest-ssl@npm:~1.6.2":
  version: 1.6.3
  resolution: "xmlhttprequest-ssl@npm:1.6.3"
  checksum: 10c0/aa0b71d855866eddf71f52f7b512d3696bb15cf539dcf957268eb1265e6cd836fa7cdceefa55554a9cc4928882cd3399a08f1dbc919080b068b2d5ca45986333
  languageName: node
  linkType: hard

"xmlhttprequest-ssl@npm:~2.0.0":
  version: 2.0.0
  resolution: "xmlhttprequest-ssl@npm:2.0.0"
  checksum: 10c0/b64ab371459bd5e3a4827e3c7535759047d285fd310aea6fd028973d547133f3be0d473c1fdae9f14d89bf509267759198ae1fbe89802079a7e217ddd990d734
  languageName: node
  linkType: hard

"xtend@npm:^4.0.2":
  version: 4.0.2
  resolution: "xtend@npm:4.0.2"
  checksum: 10c0/366ae4783eec6100f8a02dff02ac907bf29f9a00b82ac0264b4d8b832ead18306797e283cf19de776538babfdcb2101375ec5646b59f08c52128ac4ab812ed0e
  languageName: node
  linkType: hard

"y18n@npm:^5.0.5":
  version: 5.0.8
  resolution: "y18n@npm:5.0.8"
  checksum: 10c0/4df2842c36e468590c3691c894bc9cdbac41f520566e76e24f59401ba7d8b4811eb1e34524d57e54bc6d864bcb66baab7ffd9ca42bf1eda596618f9162b91249
  languageName: node
  linkType: hard

"yaku@npm:^0.16.6":
  version: 0.16.7
  resolution: "yaku@npm:0.16.7"
  checksum: 10c0/de45a2f6c31ab905174c4e5a3aad93972cb3cf2946d206ab9718ad5fb9adf0781c011d8b1d576daf20ebfa02fa120a8e7552a742a88bb3d288eea5a3a693187c
  languageName: node
  linkType: hard

"yallist@npm:^4.0.0":
  version: 4.0.0
  resolution: "yallist@npm:4.0.0"
  checksum: 10c0/2286b5e8dbfe22204ab66e2ef5cc9bbb1e55dfc873bbe0d568aa943eb255d131890dfd5bf243637273d31119b870f49c18fcde2c6ffbb7a7a092b870dc90625a
  languageName: node
  linkType: hard

"yargs-parser@npm:^21.1.1":
  version: 21.1.1
  resolution: "yargs-parser@npm:21.1.1"
  checksum: 10c0/f84b5e48169479d2f402239c59f084cfd1c3acc197a05c59b98bab067452e6b3ea46d4dd8ba2985ba7b3d32a343d77df0debd6b343e5dae3da2aab2cdf5886b2
  languageName: node
  linkType: hard

"yargs@npm:^17.7.2":
  version: 17.7.2
  resolution: "yargs@npm:17.7.2"
  dependencies:
    cliui: "npm:^8.0.1"
    escalade: "npm:^3.1.1"
    get-caller-file: "npm:^2.0.5"
    require-directory: "npm:^2.1.1"
    string-width: "npm:^4.2.3"
    y18n: "npm:^5.0.5"
    yargs-parser: "npm:^21.1.1"
  checksum: 10c0/ccd7e723e61ad5965fffbb791366db689572b80cca80e0f96aad968dfff4156cd7cd1ad18607afe1046d8241e6fb2d6c08bf7fa7bfb5eaec818735d8feac8f05
  languageName: node
  linkType: hard

"yeast@npm:0.1.2":
  version: 0.1.2
  resolution: "yeast@npm:0.1.2"
  checksum: 10c0/74530f4ac042e6ff768cb4a35deb1330a092ad239e13f97989aa82496dfb73fcae689eec2f785af1ef904b92ca33cbbffe3d3a7ee937bf29aa033b970af728bb
  languageName: node
  linkType: hard

"zod@npm:^3.21.4":
  version: 3.23.8
  resolution: "zod@npm:3.23.8"
  checksum: 10c0/8f14c87d6b1b53c944c25ce7a28616896319d95bc46a9660fe441adc0ed0a81253b02b5abdaeffedbeb23bdd25a0bf1c29d2c12dd919aef6447652dd295e3e69
  languageName: node
  linkType: hard
   Postman/Contents/Resources/._Credits.rtf                                                            000644  000766  000024  00000024222 14767123777 021071  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                             Mac OS X            	   2  (`     (                                      ATTR      (  l  '&                 l     com.apple.cs.CodeDirectory     +    com.apple.cs.CodeEntitlements      .     com.apple.cs.CodeRequirements           com.apple.cs.CodeRequirements-1      #y  com.apple.cs.CodeSignature     (V   <  com.apple.quarantine               4                     <Credits H7H8Q7M5CK YlbLgQE cj                                        TnOn.Uj}                    L3;I`8Qqq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>
                            Credits                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK               4                      <Credits H7H8Q7M5CK J?dUb;'}^q3G                                                                y<$6zYe {hR                                !cE!A9>	{'(9B0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234452Z0/	*H	1" +Mo</r_(fr0[	*Hcd	1N0+Ylg`mxy0-	`He m!ZJ6B]g3X0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		GFkTF/ps42eZYPvd+m3weHn3qIo=
		</data>
		<data>
		BacfgKht/pEhWko2vPFChb7mBcs=
		</data>
	</array>
</dict>
</plist>
0	*H  L|'cXB!.jv)m[f= L,.1G`c0:&eZu,e{|uCfHz?LR*-	vui#!kYxeNCm(l)Z|:>INZP++}va3!a*3<4GQ	@iubY-/T+-virrB"eNpVTW"cv`/E.]gN#{-5)<0*H	10	*H010	+ 0{*H	lj0h*010	`He  w!)E8m2 <Pm^g"e20250320234452Z0	 ?		00KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234452Z0#	*H	1(za;XcF+=L0+*H	10006PK%!>?Y[0	*H  xp}w	;O 2t<$Jnp\%d%:U8EjiZraa/X/cDsQs-=*T$\UYPn	]<We7J~	[:};b7YdTD~zoo.n[exd[AkX[%N-$N",[[JvZ7
6;LN|      q/0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57                                                                                                                                                                                                                                                                                                                                                                               Postman/Contents/Resources/PaxHeader/Credits.rtf                                                    000644  000766  000024  00000056623 14767123777 022637  x                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         119 LIBARCHIVE.xattr.com.apple.quarantine=MDA4Mzs2N2U2N2ExYTtTYWZhcmk7OEY5RDc4RkEtNUNFMS00MzhELUIzQUEtREE0ODY5NENGQTU3
95 SCHILY.xattr.com.apple.quarantine=0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57
12159 LIBARCHIVE.xattr.com.apple.cs.CodeSignature=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
9127 SCHILY.xattr.com.apple.cs.CodeSignature=0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234452Z0/	*H	1" +Mo</r_(fr0[	*Hcd	1N0+Ylg`mxy0-	`He m!ZJ6B]g3X0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		GFkTF/ps42eZYPvd+m3weHn3qIo=
		</data>
		<data>
		BacfgKht/pEhWko2vPFChb7mBcs=
		</data>
	</array>
</dict>
</plist>
0	*H  L|'cXB!.jv)m[f= L,.1G`c0:&eZu,e{|uCfHz?LR*-	vui#!kYxeNCm(l)Z|:>INZP++}va3!a*3<4GQ	@iubY-/T+-virrB"eNpVTW"cv`/E.]gN#{-5)<0*H	10	*H010	+ 0{*H	lj0h*010	`He  w!)E8m2 <Pm^g"e20250320234452Z0	 ?		00KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234452Z0#	*H	1(za;XcF+=L0+*H	10006PK%!>?Y[0	*H  xp}w	;O 2t<$Jnp\%d%:U8EjiZraa/X/cDsQs-=*T$\UYPn	]<We7J~	[:};b7YdTD~zoo.n[exd[AkX[%N-$N",[[JvZ7
6;LN|      
405 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements-1=+t4MAgAAAQcAAgIAAAEAAAAAAOcAAAA0AAAABQAAAAEAAAN/IAIAAAAAAAAAAAAAAAAAPENyZWRpdHMASDdIOFE3TTVDSwBKsNU/ZJRVomK/G407hhcnvxXlmRSUxrN9XnEz+9hHAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD9ebc8te4krPA2et24ylllvgEAe2jbucqwjuzyUr7JxQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9+DDCHSY94MRd3DIQ8bQTk+CXsStSfDpdWe5yg5QgM
313 SCHILY.xattr.com.apple.cs.CodeRequirements-1=             4                      <Credits H7H8Q7M5CK J?dUb;'}^q3G                                                                y<$6zYe {hR                                !cE!A9>	{'(9B
276 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements=+t4MAQAAAKgAAAABAAAAAwAAABT63gwAAAAAlAAAAAEAAAAGAAAAAgAAAAdDcmVkaXRzAAAAAAYAAAAPAAAABgAAAA4AAAABAAAACiqGSIb3Y2QGAgYAAAAAAAAAAAAGAAAADgAAAAAAAAAKKoZIhvdjZAYBDQAAAAAAAAAAAAsAAAAAAAAACnN1YmplY3QuT1UAAAAAAAEAAAAKSDdIOFE3TTVDSwAA
216 SCHILY.xattr.com.apple.cs.CodeRequirements=                            Credits                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK  
398 LIBARCHIVE.xattr.com.apple.cs.CodeEntitlements=+t5xcQAAAQM8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CiAgPGRpY3Q+CiAgICA8a2V5PmNvbS5hcHBsZS5zZWN1cml0eS5jcy5hbGxvdy1qaXQ8L2tleT4KICAgIDx0cnVlLz4KICA8L2RpY3Q+CjwvcGxpc3Q+Cg
307 SCHILY.xattr.com.apple.cs.CodeEntitlements=qq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>

304 LIBARCHIVE.xattr.com.apple.cs.CodeDirectory=+t4MAgAAAL8AAgIAAAEAAAAAAKsAAAA0AAAABQAAAAEAAAN/FAEAAAAAAAAAAAAAAAAAPENyZWRpdHMASDdIOFE3TTVDSwDvWbFsYkzz/mcN7lFFvMb0AIRjagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUmW7Z0+9Pbguk9Y0Dii6TVWrZfQAAAAAAAAAAAAAAAAAAAAAAAAAA78tMM8TJj/07lghJ3WA4UZuLlBc
236 SCHILY.xattr.com.apple.cs.CodeDirectory=              4                     <Credits H7H8Q7M5CK YlbLgQE cj                                        TnOn.Uj}                    L3;I`8Q
                                                                                                             Postman/Contents/Resources/Credits.rtf                                                              000644  000766  000024  00000001577 14767123777 020664  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         {\rtf1\ansi\ansicpg1252\cocoartf2709
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 SFPro-Regular;}
{\colortbl;\red255\green255\blue255;\red28\green28\blue28;\red10\green77\blue199;}
{\*\expandedcolortbl;;\cssrgb\c14510\c14510\c14510;\cssrgb\c784\c39608\c82353;}
\paperw11900\paperh16840\margl1440\margr1440\vieww28600\viewh15260\viewkind0
\deftab720
\pard\pardeftab720\sl280\qc\partightenfactor0

\f0\fs20 \cf2 \expnd0\expndtw0\kerning0
Postman helps you develop APIs faster.\
\pard\pardeftab720\sl280\qc\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://www.postman.com/home"}}{\fldrslt \cf3 Website}}\
\pard\pardeftab720\sl280\qc\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://go.pstmn.io/twitter"}}{\fldrslt \cf3 Twitter}}\
\pard\pardeftab720\sl280\qc\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://go.pstmn.io/docs"}}{\fldrslt \cf3 Learning center}}\
}                                                                                                                                 Postman/Contents/Resources/._app.icns                                                               000644  000766  000024  00000024205 14767124000 020372  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                             Mac OS X            	   2  (S     (                                      ATTR      (  l  '                 l     com.apple.cs.CodeDirectory     '    com.apple.cs.CodeEntitlements      *     com.apple.cs.CodeRequirements           com.apple.cs.CodeRequirements-1      #x  com.apple.cs.CodeSignature     (I   <  com.apple.quarantine               4       M3             8app H7H8Q7M5CK YlbLgQE cj                                        &DWHV                    [rqD['Fqq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>
                            app                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK               4       M3              8app H7H8Q7M5CK J?dUb;'}^q3G                                                                .Qg[A9'Yy                                q42SmKUwenwixFSrNw0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234450Z0/	*H	1" ?4hnq{WONnDrQ 0[	*Hcd	1N0+}Lf_0-	`He 8QE&E1n'0$.Cf0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		r6GGsPeU0RvZ+339TGZf0N4VG6U=
		</data>
		<data>
		OIzI1Om2UUUm4UWczjFu/6wn4xk=
		</data>
	</array>
</dict>
</plist>
0	*H  -.^df,;XiL*@i&<}a Fi#2T8'*R717	7ev?d7p@yB:OuPc*[ "J5Mljd+L<uIP_.-'Rj_PZx?(ke}:r
ZR"_?61M01?xB:XFP0*H	10	*H010	+ 0z*H	ki0g*010	`He  0WSR P8_s.:OF]!20250320234450Z0n(p200R;u.w0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250311154732Z250422154731Z0A10UTimestamp Signer MA210U

Apple Inc.10	UUS0"0	*H  0
 PPha4t
OdnA&mF*C;-3(M?6>EVn6k(jV[{"M}cGq(GV[!%UZ"?m5"x5@D)?nn--l%CWt] o\$M|a<6IAGUzOd\<y 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U)~bB'?/L
qs0U0	*H  $B_/nbq/I^;.s6q?`A~md%A/`	|"WK!7'-!cU`\KLv
]*S8Nth]dw*4|=q_]p{bCwT/0eY]?1B#q@LPX5_uDH80pKV9"9T3`00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSR;u.w0	+ 0	*H	1*H	0	*H	1250320234450Z0#	*H	1*H&[EyM0+*H	1000'8h]4^b$0	*H  Rv7aO{]f{#cVbr*]*!Ii@xA9R Zm &Jh	,A{.V8|f\4,4.m]nkZ oB-e^"	:Vm?&r1L HJYZ]\j]US&X1]\#b)>HoJC4i#q&:      q/0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57                                                                                                                                                                                                                                                                                                                                                                                            Postman/Contents/Resources/PaxHeader/app.icns                                                       000644  000766  000024  00000056566 14767124000 022145  x                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         119 LIBARCHIVE.xattr.com.apple.quarantine=MDA4Mzs2N2U2N2ExYTtTYWZhcmk7OEY5RDc4RkEtNUNFMS00MzhELUIzQUEtREE0ODY5NENGQTU3
95 SCHILY.xattr.com.apple.quarantine=0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57
12158 LIBARCHIVE.xattr.com.apple.cs.CodeSignature=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
9126 SCHILY.xattr.com.apple.cs.CodeSignature=0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234450Z0/	*H	1" ?4hnq{WONnDrQ 0[	*Hcd	1N0+}Lf_0-	`He 8QE&E1n'0$.Cf0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		r6GGsPeU0RvZ+339TGZf0N4VG6U=
		</data>
		<data>
		OIzI1Om2UUUm4UWczjFu/6wn4xk=
		</data>
	</array>
</dict>
</plist>
0	*H  -.^df,;XiL*@i&<}a Fi#2T8'*R717	7ev?d7p@yB:OuPc*[ "J5Mljd+L<uIP_.-'Rj_PZx?(ke}:r
ZR"_?61M01?xB:XFP0*H	10	*H010	+ 0z*H	ki0g*010	`He  0WSR P8_s.:OF]!20250320234450Z0n(p200R;u.w0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250311154732Z250422154731Z0A10UTimestamp Signer MA210U

Apple Inc.10	UUS0"0	*H  0
 PPha4t
OdnA&mF*C;-3(M?6>EVn6k(jV[{"M}cGq(GV[!%UZ"?m5"x5@D)?nn--l%CWt] o\$M|a<6IAGUzOd\<y 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U)~bB'?/L
qs0U0	*H  $B_/nbq/I^;.s6q?`A~md%A/`	|"WK!7'-!cU`\KLv
]*S8Nth]dw*4|=q_]p{bCwT/0eY]?1B#q@LPX5_uDH80pKV9"9T3`00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSR;u.w0	+ 0	*H	1*H	0	*H	1250320234450Z0#	*H	1*H&[EyM0+*H	1000'8h]4^b$0	*H  Rv7aO{]f{#cVbr*]*!Ii@xA9R Zm &Jh	,A{.V8|f\4,4.m]nkZ oB-e^"	:Vm?&r1L HJYZ]\j]US&X1]\#b)>HoJC4i#q&:      
400 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements-1=+t4MAgAAAQMAAgIAAAEAAAAAAOMAAAA0AAAABQAAAAEAAk0zIAIAAAAAAAAAAAAAAAAAOGFwcABIN0g4UTdNNUNLAEqw1T9klFWiYr8bjTuGFye/FeWZFJTGs31ecTP72EcBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJEuy8d/Ffv4ipnxsFHV55bNAbBnlplb1UE5J1mKuId5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABxNLcyu1Nt+exL4fuJ21V3ZW63+neDaXjSRlNyThF3EQ
309 SCHILY.xattr.com.apple.cs.CodeRequirements-1=             4       M3              8app H7H8Q7M5CK J?dUb;'}^q3G                                                                .Qg[A9'Yy                                q42SmKUwenwixFSrNw
271 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements=+t4MAQAAAKQAAAABAAAAAwAAABT63gwAAAAAkAAAAAEAAAAGAAAAAgAAAANhcHAAAAAABgAAAA8AAAAGAAAADgAAAAEAAAAKKoZIhvdjZAYCBgAAAAAAAAAAAAYAAAAOAAAAAAAAAAoqhkiG92NkBgENAAAAAAAAAAAACwAAAAAAAAAKc3ViamVjdC5PVQAAAAAAAQAAAApIN0g4UTdNNUNLAAA
212 SCHILY.xattr.com.apple.cs.CodeRequirements=                            app                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK  
398 LIBARCHIVE.xattr.com.apple.cs.CodeEntitlements=+t5xcQAAAQM8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CiAgPGRpY3Q+CiAgICA8a2V5PmNvbS5hcHBsZS5zZWN1cml0eS5jcy5hbGxvdy1qaXQ8L2tleT4KICAgIDx0cnVlLz4KICA8L2RpY3Q+CjwvcGxpc3Q+Cg
307 SCHILY.xattr.com.apple.cs.CodeEntitlements=qq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>

299 LIBARCHIVE.xattr.com.apple.cs.CodeDirectory=+t4MAgAAALsAAgIAAAEAAAAAAKcAAAA0AAAABQAAAAEAAk0zFAEAAAAAAAAAAAAAAAAAOGFwcABIN0g4UTdNNUNLAO9ZsWxiTPP+Zw3uUUW8xvQAhGNqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL0mrUTc/5EOV0gd7KONj6rBiFaHAAAAAAAAAAAAAAAAAAAAAAAAAAALW3K5kvlxRJmXW9Unw0agDcnPkw
232 SCHILY.xattr.com.apple.cs.CodeDirectory=              4       M3             8app H7H8Q7M5CK YlbLgQE cj                                        &DWHV                    [rqD['F
                                                                                                                                          Postman/Contents/Resources/app.icns                                                                 000644  000766  000024  00000446463 14767124000 020173  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         icns M3ic12  PNG

   IHDR   @   @   iq   sRGB    DeXIfMM *    i                          @       @    FQB  IDATx[klTE}P-#MF&(HD%D?Db00FDDc@H0DLDK}T-	B-.-G=;VNr:sg<o;;eI 4"+3_q
4t4bj|R(AE 3O&MHa dP x	i9i5un~lbI_Fy.lb{[ip'y^R"\-b00q U5!=Xv}#;X5`ta>ok| cD8m|3GsWoup%8 0/4zg,:W
TY]~klO6It'byR;/<or==m[U#L]<M87y4aM/)V<y	(o$W9.TK1!#i_?kz }xx1%W$@1R`V?w.H`|:w06ubBz9RI[8X`	gVl( ,]Y0hJA2c@@w][2(]Fa"umSv1cPX7s#)a,- EQr+6Hltip,%@0Xh"HJC7S!Lu`5D $BJ3 ,#/j[-@|.10frqRdZQH J.YOwrK|mKq	<|A1u&w^FS66XNA?B50Ky]PObxyL:T#VoR<*Awm<(6
y<~:Qb	=vIAw
ZEdD dn=$,!K[[
xd
qx x0 ,BS A7Qp[guN~_tEr<>ieqF{~*K<J6as $ (f_-S p^_x 560^mN%OeM3l~)<h$x*K~;mz@Q# Q!]lst$M ,E[}9ZQ# u/}+>N @w*:$woG-N GEq*	6h[@Nr!"K<hW \d>$ |>h<?'`8-- ?+%xe]qp>'W?"N@/UJ1{vQTZ1{.SWc	 3TvPh
>Z0ZW]%@5;_3xR.DeJyR5I'USh;W1F1WuqX[on4OoZT}^XNIVEzLp H>BW55Jl Mt~A3'Hrye(QJ?z'=,#\dR)@FH+?v>d`x3n$cGX8phneN _;64sD ^ 	Dgo9(xb>ty:e?5zT%=X#P'?M|s w+)!Qr~+n]1O)az'QO`6|F D"@FT<#Ez" QKFq;:["i:xhU^UNryEG?+-t    IENDB`ic07  PNG

   IHDR         >a   sRGB    DeXIfMM *    i                                     Hw  IIDATx]	t}]IjIU^0v`f1 `X&3IL @`0f@[X^1`c*!ekJUUj!uwRWUWds6l9`s6l9`s@sUT0},J,CD8,XJ#oK/y3>Q>(ly!;8\v>QU~ h,!5)(|qK|K7}#@5];#SAdE8ODp4>1Cx!(T>KqhC=P*\:P|HL+/K7^;!R&!pJ8:
g#Pa8|8SI5E7	J`5?(p8*X-lx2. 3-$FB^=.Aq('AV{x.(hD
O?	K78b"!Q.-UgCtP&
i4zLUsm\TP ,#L~<W@4+t)K`NCz!O#sRx4!"r( A)s;>XRpdu<a@]DYv>~e`YOA}-Ok\	e"5-v; raq m%j1N`4OY s]"E=9Hrzif:	QzH{Af"qGdIU<[T7I^oC6oL?}luTor~"|X~G=W^'?,i'7
=6yQ^rytMbxPWY~)c .\2Tn<t`d 9/dWR_o1i(IEgcFoz.c)xh(_ao^JDa<>T~7=nJ 1Dn1f{[Q.^~+*)6XF{GBO6psp4\7`J dpu)^sbg`.1D~0?#&J<rssptC-R9@	r@M9wLnX>! L
2N_`gj62-v41c8s%cD<m!G"Y"afQ+xm}KEls}H-g
[^"ag\("slhN"RtKGh -y`L./,vx0R9_9u"gy^H}An#!kySN z+H^@Z(2-;Z@C[SC!dG ?A@?F L}W$tI[aN+."iEqhJ  B7_uEwt'u'1H}$lc&eL q # $(lA h)9wcKJdg1 MpPE<a5.*r4w2P[mC(|v/7E0 1~bXa`\TP_ 5$>_~,
|.CSc) t}+Cv>EN`?r@&"v_ED+G.RZcECehH{(q0& @5,Yr	ULuW@<k&9vnk|]# p5BH~
 54|XN> T"!xKxEX=oHM5P2G:$ib t*=6rkK~J/T3m"C!5S"<HtO1E E\d&JoFE0qwD.g`Uim\dSC![`"_=q'y@!|{1kg (]o7O?m.`f'YE!oDzZG'.%).4' OP\rl
S:_ S:!"KQ3&"N'2gg8H(/|>2~E`-S
UOC% NMg<&Uih!Rn' {:yaS=}=:=foO^=ltth!{- 9nl:v*a^5D_`O/]8vBFBdp`D?JZ}p_z5ie |np9J
.ln  ?du<{vfj|bf@(n|M |`IX+gx8xZ8OhCY cmUbW!eZJ6lx?]^ [>}7Cgx{wtD~FR+,~
 OuOOjt03isV3TpV/grW SHv~=1}UX95= A"__ zp}MdJY4Z([K. ,}ErO \qt~|V-? o_g'N>{;k=g< '9h8O%8w;Cwiq<gk"<	$g[m5n$`
>W1l|_Z}~$4*ku")s=aE",uDg \={9H-~	wz]|}e[B5Muvi/i97h'c?jkr/ ?E8mM; r>9{Oko]~U ~ ![ hsEZlxifzO;W39n&aU=k UZ/gR)	>- f-	*#r!a5mFs#VVpj3y ~v KOWli!&/'mam~|oghR	q ,tFy0Kx.$|V a _V4mN wh[r	tQ;z	gs?q@Kk	>IRgMS\e*Mpg^g(4Kq@oS te=hB`O@$OEAU0(=98== u3O}fgkhb)yH AV:Y)i~K3
OlgB v`b<I@tG sG6+]3. 0qqU`%c||6q|c)? kmkn`T`YG0~+s6Nrm;. ?}`.].b_6>0! w uY9-ac_'=jB &@NilCOC@hw7c q"Ky}=q%mJ O3tH3eNo_o ^bf0w}{0} *#Vwj6qM@D`p!^X^O>KmjA?qf7'5 6Td `qVF92?;3
G&D#( &aDmbD;jQUd\ !@4;o0mc-1	v<w5tR`$ A2. 0HTviwK?K
66u0 hL3. Ymk(S,/U7efl>j]Ox~.\CMlJ6T6p{P4Xo}TC5.	{ |DK <t{EQ3;N@4vm!-emC1k7J]@[hzm8p@"EX R5D'{H9m*> uPMha%6@"@Gg8ftHtt7h`)`'R5% z@-E(MHlZL?6% .+KC79WG>?\>TL	m+1k`q3pq CW McJ )Q1`*'^@S(]KqPX1[X	W6zM{~q@S^w{~4{(AJ)
@cn~J;= O,[i
 j2g"6Y t}lwcVx)XiF,Uw6BY#'z\deB~WkjZVaZIF,xcV88up$9R)Lq '8oo=8!
 	sd"r`ryb[Lie;uknfM[<{$ XZ#w5G>#g ~j|>% QJ/;_uNe./"BQyW7,}awV$ DgWYgR S
C!Q}c<>1oY9?l]*`
,KF0t@b8%4byTc1]6uMmo?l;_ ]& 0>% S,i3f)Nus)b	``WU|^l9~E!8, $QG8K(>gDC&+rWe>RVRxCeQL'@?F\ep>ruM#PRFa< KT@{nqaRa:7d'^J$mX%b=>|>J qPH&qB0_dk.si%zpxn6l9`s6l9`s62I
 v    IENDB`ic13  $WPNG

   IHDR         \rf   sRGB    DeXIfMM *    i                                     gI  #IDATx	UouO		BH0.OdQ>B 4a	!M HH&!!$%3]sIe]z=WuN{RJ1 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	"`8L3I}vjo2J)AXRuR:[,l,5(Lu,{R+K};m:):mWDK
Vne.K,5ZYy8(FVKV-bVjva5-V +uY:4#'OajN>stMfz5X:-f/7<^<QX5oq?SJd@WbVoK0)eO1m{= CwO$I
Y2S}}vAhG0H_W.'~u]]Lz:haF`u_<fb"nF9blC^,T0 ChG"GGbu"@@sL;7, V%.B@1er\

WU!cIxO!%L~]s01)`W8r|`	R04	g{P	dl ZQxN$xb{Bsagh =h"W@^S3CZjppQRU< 4USVw"rA2 Vy72?"4j>Rn UJ7h7<y	<Pab ]>)f	E$?1r?92K) vajyUq<Z)Fns#`=K S6u9yDrIUN TX+\7 -+6l@C8T,_< 6[\('YbWwDa
fyX6	@mu~!X],G;|(/+6"C|| ;abv	@"nCNUX#^v  :~}SVHAO<BWtx|o#y@EF_ _2p@U_G P5b.oz[AEt<2I >5l!~ Ap(#	5Kh}jbc@cWA"/K!R	#N$PnN|ia AuU','0XSuKo_ 1 |pQQ9gL7@%7zXXvBBvC~/@*x3UAs@TrL$@.	4&^ND@MU/pyy	n1D&<BwR{CY5I5x]T{C:)G n!vSj|:7*5Er!52]1weU{ 2RVu1B
%E] eR;!4Gf{Wo)]3W%P1&3G?6>[IS`me-4%B&<
4i :6 uHT>Z*!Px%[p>P)X  = n&}T@P~ 2	XRt ` :	 p*ewJ4+8.*!XZwL>_,n_BR:u*i_?Ex8mFml,F 
YOQ`&4 DM"d '>nu:12V I3 h{,aN)Gyp, *MR\[aPBq`&1 i yC*D+TA d> Hce*P{QW5+^:mE1W'K+Qec20T(+YOge	^|4L e+a3&ZXf:S^3~g FUvpH8t:d,Q9e`bO#r(\e7i?I\Nr^n}crJR_o sT*iZ - [e?/	v2p_e ts3\a
N =
Tnnz7 # bwF @
l{akfe<Y-ZUx57<
,]AM l
\dB\qFojF!G_fCF xO01
,0Iy ?C(-A23w[$	^XYgz- #&IR4$WZ(rAN>4L lMC	n5eB#]?(C0rX@ qXTwL)4iBbUy	X?m {,Ox7bP=n|1y.#dJ`7BqNs`_>=Gw}3&1" XcPv~wG$KwSjs*5IV/0J&0CZ_EXL"vbT+uszROvow[	77mB|z &F5O>FyMNg@N:oPI	"f[M-FkB37S2(P	{VG{8^|Tm-noE0Xh<50XWwUGf}%$@0#O>" d2J(gxQ|zSO|N99~O @P
Q~%Q~)=,#($JzHs< +{|V~283]Ar_o>zJF{=S"sp>9'+c"O!#4R)WRwJ/-= C`C-H?*Y*F3\ d9&h nFQR)(Ua:07IqBycUR,}R=wJd!V^/ xcG
'A&!mQ*4 &R+{m-JxMAg(BVj?XcKn>L/ W( du!"9B{wZNFs5T94 aIAQUZFr-,E,<;6l|wch J3 E~EJd=K72a9p&Q|b8|J=LIndKBw#-cN?N:{RS_73W{|'@;rCQ|E;sd?1 ^g]R/
aKP2eRo7^w9s$w _q(,qD/W{95H#0Kh 
qAP~L uea/?eh |O>J0@AP~W67_1||%,kDqF<^R"SlSysUes_.BF+L^YLr*?xQ~Lk^=3 W#ud?X93^RNoVyESGm'mDeS?C"n"R_ #H` s)D+?~Nw	F'T[d80 +`6Aa8-1_OMw!1Nk$v0sZ[3v9i; $[ZOM}|Y?\~*>'}%r)7p*?z7aU)Da
-3#@KFyRGgR93Eg~*H` p}@t!zG+zgV&M=^<Pe*D!;Z30c6$y+wm	 U*27{iYW3Tmy?r_%J}F"sN73Dz3B%{i }xoiCy1#gOU*QYWok(-CL( 2pC+?I?e FWz$W)n>M0_,sXm0 \NVy^;iePjtL,BN+ Oih0w*&a|kfp)d|Mf	@7q2yPvt8-g7 2\G9ElH,@Baob/[?2G\%c \{<=b[zP0mH+ J:AZ+?>ZgK&k z1|g}M/} hy':z<mJvcY))L Qjo#PIz~V
sN>?[. X#bI|@)<_u ?#@/nh5n 0bnF1}PLE
T~-3 z	t`P7	Fb[r!&LG*jS!+Fo`]I oqloK;
g3 a1E|l>~l9~ >\bpcK"7m `K/ m@O@!?Fiu~Og{ vcT~q!*'@_~)?\~[&U,@~)3~_|0 nsx?_z=V?>cbo3/7n ln\0n \L+?+} iSzD?k s<rK@9_ly\N@#)GBYX1h \; V~} R(R+72O}B'-rV.' J#e!ynR)?LUy9k/D>7o bR(?6KMK0]/V{vBU zMl 00iQ~*6(O^XM4 [j*?"Ioy8 Ma1X?#>#K	KyW2M [`wv=e]@d1Y]z"l'm<jPw&[C@ th{mywz`R@m@k33/	I@gNh= n'TXyE7NHgZ
$= 7& Ol	 >z '<mKnb@u U7Axr
nh64.n'LNh izz>*gzQ~-N>#@Iq[J9zd,o,y1~(s!)@3$Z S/-)ZR.#5/O} Oy9ywcUSK<-wsG0]1x/ #y[f_(PEr:0%Og&EdjY]U|K_le.7	{_+/&oa""	:$fI Iv pt>]eHb9o	`:S{RpL$D=VK c"6 <i@	}Se6 MVd"pK`vDCo @4H\0 XX b:zg@& oB	 7eCK_I@]/ki	3+Hrt49kiF <hJqm
'L.  Ot #l~kM`"Ne/X4R ,kgG$|Qr| A  t?U7L& m	`  tx -F-`V,BH;]1"  pize=>	l!\~}kh KH`:@` |yh?  6_u*@gOj@t  q'DNn]A8@7|k~ ?l]S @%@<leDotE7wB&4u%J1:?R/ZmXrN{H .i,}Aj^> e `,n[s',H`/[kOW&.W#22QE-	D@;m{_-@@=j]L2@d	$SXz]0 C|mKyT&._7kbos%_	DoG,/  nX7jYUnJC@E~2EHP~<}"AQ2]=zACM`#0x~S}k	#vn8Fb$P{ko:}JccR^ @@Du9ttU>&Y
y^s?qHGEglo/alM<C~{/~pMs>|]dn(?|=8/$A&xCX3/L$hk:{}W|2.?zo:
\ 	^ I~bAT<f%oo#{( z zB6Z4@QwCq?	@'["O}lCW_ ~"v)A	 bM[9;}b{+&'=YBVt<odYYqSN=qLa|c&/xP [#t
 D$JwaTL$`DW/=^(<j!"6)L@o s  kx.iT" V-j<%^vofLz1]|h"  , ABt 8$/~rpu}4Dy	EvxY #'=[V_4 [|`?.oVI YqS@Mk]zbetOn tG^ %OwO>3q>wmcM1QT_kKkVBl[M,B F]lSm]fe]w~C/rob tPmtiF qplq8Vc
(k;>xkO}<
ct>:	
ek}{_<DT1)kEwG~QznhG+6>V):{Vnlqz_pkY"x3o}kZD1GX	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	 	@~\    IENDB`ic08  *PNG

   IHDR         \rf   sRGB    DeXIfMM *    i                                     gI  *IDATx]	Ey>!@XAa1.g`EAVwcUdUD GD	.!D$y$/K{{=3]=3z__]8A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@@jj`
yNJe p=A+!yu'OK~-?<d"~KO|z8KPu=p 6S>w$pG+?I/iW5>kEE":6T+H_TEERTJmL[)B~+]@~'M;;;W|}q3]J=>iQwLbC0#'XU9$F)v H&S+;t#m;BKE)B~&>k.p5$*GkfnR[pwfJUsmF 7@>Gk<:R#_UqzuET@5^ 3mmY^fE GNL|2TD^XET'%Cbg L5_AV' pM})	n+{a/Gz!.DgD+~cG{+z_W5QX5A1 %>J{+V_8TL=8A*$Zo9:(qFBj`rY.`NO+|O;U?C\r `DrM-S\JE  P
J0:&=|'}j_r%FC ^G}eCs ?06]g|Oa"CQ @ay7T'pM{cok}9WDjb!dG ~Ww7]"7v0,&5)K}4O|CkdK~B@s[C!B'BC}ED7$WS.,(+]4R"m_;6?N0 `&;G")!_9cH1- i/2VMSg6A t&]DA_B/ygp3r	%}+2NL"<$A3UO9dPo5Z;8$$QA8SC6c]@N1hF@v%@`  E8PN+c8AD\WRFuDl W;	%% 5ncS @5 @?zuA Ryr- | 7:?tJ~ZM\Z}Xh'.pyd;m
 2\J"@HS_u)j<#sJm3sJ?\R@4a|+H0WmK .8_Vr(!G\zz2E , +ZWhgC\<A
4OeJ 1HTAB XpF"{ tQ`NAGLDo DW.0X(bz(i@qDsNW) , Oo_x "@3bO7] &S='@M#k8R!?;iJmcR:RzAOk;L C d?5zivzW`Q3dJ5 P
qd.-] %?SOR	|UnMCNL9Hjw?Ros$Q8$"S\A%5 $b:f*Yd8_SH<k+p ;8o\nAZ0) \pD:mII8@o/(529<c)`L J:TQ?6AZFg!	-v^#sF2d/dFlzm~E 9qC> YjB HG4`~`M0GWZ# G$D c~:/&kd`xM%  073- !'j!_EV1K?!1q@V&Po_m\FhPU, B#"`J X'X#0yb5>he %w1% oOT#oRjK+C3, ^	F8B{  3`n!.Wc6R
!q	L FS_r!?vTjl^jRzaj$-Sy|%i!dzyQuE5|B|A`j>?p"GZ3( ;d I& e'-ru[g%Xfu 6@Osq-;ec7.Ff1Ls&h$" @Frm+:zu~ ip
@F]13&WG37jM pq8d#*e\hL#B`KT\A 8>~{g<|g-5]`l_s?z[ ma#Y+HElj	W`0qnd441q9<c6I?jCiRW;POo{Wsi nt".K[5MMi#)$f0`$ mq,X&0'W== ," r]En~=lF=9/6H 5P' iD PCr ^{1rht-t" ~iaB%o^SJ}  	CUf;|N4	7N[{ j(epE[(@KQ*u(}Qs`NuSJSW-VjjW x$0t@w!B|J'Pi )DjT(flROi>xga,Kf. q% z1Lk; xF8Y)~uzI.hBc/2gQp!Yi0j| ~ {[i\}R*?@d Q3-t$!B @!o_&)mLZO\n
^u{zTzl@ b_EU\{tc -@| 
I[* hIDWHg J7$`c&D T>C}W@|GR &	T5/\MSzxMQ%g cQhMiyN*SwS[acZ~|0`A'0'xJ?4x]| `QwO/!?/bWwiiDXhO?'b_\TZ@L>Z3SY+uJN[T)+u|bk\bHC@ U|XmJe?{joRD z~.t`N'tJ7d0(" Y~;72y/~lj[7T^o;%]JK~n)J]tR2g'*)XD@M7Y_H=ZrEJ}ot{oRcbPC	_so~%?sRtRdB]2_%g}@@CEaK	g':o e"
i`s[R;Jf6_X 
" V`mEo1wzO>qVD0}03/_|NIKe<Pg kPLE=0/va*e{-*_}F@g@G&Ol<(0[6q&&c?H{8?,7.* " @	NhGfU4rR @`/0QSO?hdnmZ;wO0oq`/jh@`/ 0p\Ig[zwD |`&w/(r3{x~RxW~^?q" (9&>=>yW$}_p;Io}n{34 Jv#J=dRn'm_Oa"f~F"  9l5&P[vWGtwdsZ^;5J?TP<,FxI{^*9rlD3MLc|dj0Tx'E@(Ds ts(u{c3L>2t7@qB@ Tc1gst_E/+h/VjP[1C7*Mo*:+k{G@y/:~oN>OP:"alwB@Kog[{x&B~opa4suZfz\o `Ws$D g|W>?;J}|__"p52('W,<4F0E9 ?^\[;D>}yyfD}3!B@ /a7J{	H|E9^w?.P# i|#q;~\g{_>Wo5U$&5^}U_^E@ ({#?Jt\5^fa;-;Zui" A=S*S8cAHqO n+)ciJae`>s0G|8 ,jK]qJh~O0gH's+^'whS(Va9y;,bRo"8nx&5X|?Bu4B8r4&og FNR~{8_GhR(G9O<@+	gkk
 _h78/5b}x*>:y?!/Go?J;c"$	t.|FT]^v/_.n>U(@<$&b 
p` ^U^mv$lhBM
1=X~q;e{g?TcWr"tJueOPu>Jw9.xg	<KC\I"`e :J=rKcPK\l/ Dk :EB~F$}+@DtU`)0[~?xR/>~E `"Rm%v`_aRjSRxCi@V!2Q<nlcf+l+_}+; )(;tsp |\K ;s^+AYJ=FcXpJ	71|-v M '#X70VzfTp|dD H #l>LMj: (1V J/	_2u0.  mY~F Dd1M~3g@ Hmc.?H?__N;  ][~G[;z@ }fMwV'(N@[G"MgK'YFa[RTf Do9]2_VQl ShK_F45UJr`R0f Xc 41qSzflZ x6&e;'c5- )^y@"T}2rD <~V$ %oKnW@M~g2U{aaR'o^)@E~{zlYa=4 MR1\ ?:!	=#`V9EkCj;h tN.@_&UdMN tMjRL|-=d+q.DgE GfC~!~q=[Kf+" Jf|}l}e2C({S.j_}t4.UAY7xEJ E) :M{"j/Ku^E |BJOwGc:*:vE  Bs  ORWNH$z tLlqg(uwo@ &~)4EfD( cS	_-@	& 	> O7 8	^jR`/10% NO8\){i 0Z@[grE<*0 N]kD~>g{G!-E~Aqf X.kS!:-~&$B'(4C>9
p[[vu8
uD  0X 7 8%(LqBX:.=XQl~9a<H*tHws7@aT"rP$=MGu|X5jp	@>oU}|G/N	DCj/> V)PdKGbu1XPl'@|)@[2.OdGiwD`k[t3|	NFo@A wn|.Dq"`J h7]N8AXi5 d X;;;8A@@kgb#K7c,sK}3Y X)hbWSn-/SFP @F/'X 5 6>g$qkE.gF6Y0j \I4le,7 PoxW6XP5&e5sD`O@7~G%xi 38U;;}D'54wVAKcy3) L~]Ac9"D-	_ p}&dfdj3_  P$^^0aKc  8M drKj[u0@ P4xol' AdZ `x&w&RL Pkorc?
J/ ?}j6%N(_om{`zm XQ(]q0D PnP?L/> 9 p:}K6}Z	M PV<fLv@~z81)t'}z_;nPMJu;f;P6`v?l 	 C: Pza-EKZk[ t@y_?C%@`Siu;0^ Bnl24t$e?Y}~/ PJ}yvs'?p- H}D"-'V~J>B`usG<v W: 3{q3>8>) P13|;W  i0|stPbE`EsXpNeP5~iCDlvVv APj5-W|q{
ua =]bZ<n`'H\H@|{~U_*p">jz+:-N3Trig=Ovr_'	?
Z `W&`Qp?m]}>V9/ Mpk.aN"uxq
 ]tsM dk4:eTxe@*r{f3o]GP6^;PDt`#o6wt!' qqSKg= ?<)6tarlzq@
J0'OiojuEt(}'XE6{>wip\K>\Y7SbLLum Fp8'Pup?{X3%J'!"<yaMK|Az\hcl],pc1_GBE)3bKi ;O^?7OrgU}&?8aPl 68 zm ] 
xm'p<M"<OIh?' V{w~]]{? \f-,F T#|PW3q:6EzD=vG5qw'3u_?ty&~.a>@zkw#1vG8sq8:P3aK[mi[rC/, _}&=EZc{Y30_C9jpVZRGWS_BU,oe47{DFSf*&Rww&7wnk/QV@Ra}=2[Pr_`7Dur33N?!' ~OLb:0~=bC>q} 9nz8r*$I:99W'Dva		?;y%>;w\}|a>'~p8g1}&:zGzz/G8e]sn$ltwGXaO'+?7C#,.p=~qXT>O^*)z^s#^@6{9\'W>ZRlvG% Fl0nG]U{A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@A@AN    IENDB`ic04  	ARGB *67	6* "#*+6677777777777766*+"	$ *676+   "  $0$0  "0    7=<=7 35]giihgghiig^: ]klksqklk^7glkjlf;=ik	ki=<ip
qi<<hh<<g,g<<gg<<hh<<ipsi<=ik6ki=7glkllf;]klkqoklk^ <^giihgghiif^9 7=<=;   ! ! /4653+45630  /776Ab}u[>6771476_Q474!65\	X66! 5=
>5  4Y[4  3t,y3  3z2  4\e3  5<@5 !65W6_56!475WjW674 /776>^vu\;5771 036543345641 ! !  ic14  bPNG

   IHDR         x   sRGB    DeXIfMM *    i                                       @ IDATx\EgwIn*iPM(HDEA	RYgA
T=	 N$!To}{rws9sL~|A    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @ @E"#^F#So%s^M&9cM21R4L~^?-%4|1[M"/%vII$$d&<rmIyFBsMi-/l~2fhD2igYz.aYs}_"5^4<'o<%\<$K%uY:&t$_6I_+
	dYS1wt$'f^~>?8cD@\\e4^~gYMs:z<i?gRLbq0PS@ G 3_WYrIg^6W?

gO$Rf PeHi~4NlKEUaSP hqt2yT[Q=j@'3>\oYP(6J"sCMG2iQ b*G~tg.@W%2YT*u8{  d:-+U	(isEYod
Io_g  D@z%]ee J-+
HnSnxV28O&mQ@ ed[](e
@=3Kesd/X::O  D@w:CvvoIQ"d( hl;sGLJd7F(  A\KI_F<m(I|Iz# B 4#>zo9Q`( u/&~wI?agSrYB B$tu/5)X@Ch /,s=FN$K.  4j#?,ro:@H 
@H%,3Z;4	@	d/7]o \( C2Vs	^$K.]`H  xZs#Da
@|WKdK   2K;3_' q5'( FX4O	-zE9@(i_w_cX f e_BY>fFC{  TA +s5
rDERqgboX?P   #	^|W3k~At*'P9r1-DYJP"7{g  P9Y.^\C)oa]Vp~	d{<dvk~   @2'( }K_|&>#0SO7  @
+w}xOKA	?*
HY='O>~U N 8'4T	PgK _D,3stKclA,  @ @t{Oa=yd%
*UBH9cG7{?_  	$CS_v5eotc,37,[9	@ A7yLI[- DVNiS
2SrYJQV ;   jd27] 0@X?q_sE?4b@ @*8}'yl&K.=m=FW@ ahJ%~%O \M^)T')o:aW>:O! @z>3&`8Lc`('Am:ox@ J6~2NTxdqHG# "G aRSv!J4`
d~4mDb(@ @	$'2Z+P 	(H;@ mrO@	4
})oI%/+@ #Y^&eV /:qr[0j32OF8@ p?3*zn]@^, 9v~?"A&  (mgvJf7|`l;sQx)  @fxBJ~/d+ VLvz $J&zHC7"
mx[jY&  @Q#[~&o"kx% gd2  @a22 M
5'9y4}A @S*yiS>*AmhDkO:z#6   	iiC.lX% O9F|  @qq7Vh>2Z
C @TNeKJ7FS Q2]T 
	$oB,a [B0wGo=vdsJM?8@ h`rsO Aa6y( Qn9Ri
 @ M`-W
|v(
66jO<qhS4[
B @EO[X{q
a[oZp jG`eAPjmmNvH  PGM7>{VciujqYo{Zr   84|R K&  @@KvA4uZ 6c2COA  
	x	
_15nXjZ  @ %~uV  m^_cv9<@p   fn~<
$|%\U loO(7  K`LK$;0

S#l  @ S7jx 1Ua]U  9a_a@ 	oSk*Wr.* }_Z*iO9bT '09	D +S3\T 6-8Vp   J	:q}$a^YM- |:l! @ 3)
 +6tx=@ u$02:LP6&kk6W2q! @ @K*{o! +clX.Y i&k61mc: G@yR P8g E'~j  @ v9h:AE 'J%  @ks]esV W uJkJ/>  0`?Wp wM=	@ N0K
r$9%J)  F-MNn`{'m3%   (hmN- R1.
6?*k7!@ $`&]eJ S.( JO#! 6?ZJ @ nH$/9`j hcd- 	3  	FLkDSW>Zw   	oJ9/;$/{@ MwI*3rGsw1"ZZm >  @Z	 x;Hni]6DV	( upS"Z b]+ ~VkI%   Z'$iy;J. 5	.6I2   	l9UY=sSlK_pmm]~0w D`[l;]:.nz:b13#D`dsb)NEw6D8">  P	?l.8bTP`B&jYiRS@#E\ ; jiC 09tt9W"CwL"?TIcdK`U R+8+ lc$[R( 9&M@	J@nEZfSKhN% 
2?igqaO9! 8PY|L?e@=t 9I9a&<S&z
@!g9OB T wm*Zw@s2Uy DFqW XRvjR@T^|q>e_"pH$Onh+{:.
Bkdb|,[BC %*huv?X%2n2|lhQ x  
C D@{*`=d .oZ B3LnD"at! #.jou7U lG-\]M|m&|@ "e_
rTKs,U\ /|NLZy0k	cw1}4?L- ^yT|H(
ez3q16	L~<QY-FlnG<`P\>g
qW ,Tq! g	&;JuO1?L_S/"_5&g6@VJVk@ UP( Qu*Zd9=% WSMX E4'  AO^1/
mFGIS*-:.V+ }[L%Z0@3b!_WA v6m?_H.( JTO@+%?|1GZY'ln#+K~	twja)K@nD1du='vIDR>18+ ^;ZY/@	+
@\9v6u})7lfg5 p  P=D'jcIe@0%1(?aNqW @&f +"_!s^\)q{6y;K =qww  Jwt%SJ-cs0|: J@\ /xNHElyB GPI(6e! og+bW/oEbWxo5 /vwOmU&R 'r	gzyx%?b$ c;}d?`H$2|("E`[b_Kt%}xe{c1K/)|'S LGj2-`qJaN@s	SejrkObAt
mkJ?IY		H"xQ{qeP@ Py/o
sJ33O qFnR1 ( E^R3ZlMWO* m_+X7D_Q  Z|ZTy:w+OsyY	G^ !UD  
Rc_Z]SX4dVF 8^ke]P dh@bA !PJ(Tc]YVa^<J	8#7Y K!  h(%_+*'qh3xd9gV9() P	Rk+,Wh0iZ<#w/;:5WH!6m1^nL|9CO"tr`1WLY(2L8it	{'
 p1HclU%
f0Yx8mgv@$Qd$ h/
6)nLL% V.]U2LwU/D8+
I%88E@~&216o<a6W Hgs oEg ORA &Zs7S^%`N~`^}m4L90y^78g QioC l>,J7XR3YF~@6.yX 3\P C3* Z JUgF	zc>=c:SctyR	83J>]@ |Cd>HJ:]h1z<`J$q@- "z#V/ P)l9Yt=O:y0r"Pm2(r&fB a Wx9R:1~71lP,g,qW <VLz@qCx.% yvNU%@~6(YOgP*V	6r#\c!Wuj"i9@  *@ u'pA,Hw(^f_n! g*F  t>V9vhk.e3-:`t*:ncz[X|]IT"TsR4 {rKLjo^Q?C '=\L	1\U~Ma/=*u=<bCwKT~5Z+6((M9o['=gctz16ElhC}Y@9%~"BwU_2?vhL*uK;PZszDq*olS<VC%;1P-dNo)oq@{oP ppD
3.w\~U}nc [Z)c~!,z:( P @nK`\8=&Qk PnMk%GY(B s;-$mx1fE<v-6'`cY(9 2FctVs
9-P rhOC2=j\	{G&1%KuNuabJ@=2M{8W  T (J`|X|?s<|G_ht8 w@ 
&pg9xODx6jPS|%6Q6YV%j\  4 H@w%l"+H!Cv7f]s]sy:[m*J{^*"A ~JP6 gTO#7tR_=SDZ}['\hnPa,n19 1(.bG`c$ca_v{e_+3)*a\A^F^  03	&qs%J{V]B~94HMj9G`D
@ lP W! 2a|)e",_a@g*juv
|77bA  ( %Y4,j1f!=u'ANc-?>e7N+?ux-Ek^A D( !&+8O`ebvPcvZ	'}|JP@$]@#8c
u:@Z}uPWd>nWRa`*gLAX hD hcYpV&%f
;*%@	`{P ;s,_~Pxc>~QWR@ 
  P==o~;7T B^Ak)d.z p%0])q	a (@8"_p+UN,K t^	37@P Kp@x=Az_	$]i'A @( %i8A`V|*ctCZf@1@ v;HgHk('6ke 0<bK@$B.Du:]:c*0r#F  4dP%G'9B `( &yP1!aR_Or#^2/!@2Y@ Z7a[Nc_/M1f$c^x5bI X2p.Jz_dZzWcxCQ:PGdHPs?1eh/ Irwin sq@iQl*OW^4% !1$F	}6Sr
][.3?Rys^@f=W17E	y1|~(	]W ^nWA P bx"Qs?X6_-']5K,|_F 
@ XI$Qri~LC~j;Ut G 8Te	459{FaglhL%uan:YA?j|~{
N@pPW=D

t17}u3~L  @@(c-xJ@k
C":*g5@L4<xWXJ){7cTas( 4"U@s]b<jS.6G+pyoP!{( oB* lW3|AH:{mmnA}~Pe@tw@6bE  VEa!2+2=V9{9?'D&Q:ln+umcS!k( n>
0fsxC,%1'\Z1~SglU~x{A 
@CO="DE?hynm9Wq|F8<@	 (:1'~0:rf=E/pgTcNU #1%G>h>~Q~Xwa~XGs%,[`#w5X7ohG}AT5F{~wxx O<MV	 8 9J9\n{{}f=}Iw q( o :?PV J	M|^}2C6fwWz.Cw2A 
@42Ut@2W!U5q;2u#=w.Ncqh ( T{UF
^?+[+2Yu6sDxZyCl 
@75kkv=Wa+_D>U@msu2 "@MUcH`hd]WR#dSVy 
@;N`_EU_{1
]_;pKl0x6jC
5m:hU'1?=5z?T^mZn1=I| 
@
8G@[@7ymj-=SV,}kobM  G#bl7yhtm1?baF[`^y~<n8( T8"+"|U+s9r]4$IT S( 1m8(	YOQnl<knu[YMOU[E F9_&mUfKZ[B}7n!\I1"PkgR_'eK-Mt-@9( 5)GnYpLvx{B(/0( |8TJ-<U2?]K!hxl ,w?'}1[R`Bo1d? G @wW	*1A
R68w_y_!\C B  aVAR40FB~;$m P@  		,[iq_y7:hO9e~6wE@8ZDSsf@*hvwd}:? teS56@5.d+Ny*.2Y^),A %	|g|y "pY>uuv_+~A	M_O^  2P jF`|c~|1:>,c:/;?{@yo.`-#ANp 
SIe"A`fc?&8jX]	_?\Qcde(`m.n/I@pAN	?c8W%@fr`n2bo6|`;zcxU~A e	 CTA
a#7TL	X4g	X`CZ]UOAp=!/hL |!7_+! M5&PL,K*2'J1.,Sn#}u?()A "P."CrF/ho
x58_+ e~\Vo{N ? ?HE1%`rc~z ]7!ScIpfU|_7QltLVW  @6^F[` %umNUONU_NS(?6V@ce219/4  
 B` SL	m}Nd~ >[oc.Ebx0\H@p`	FRPfAo)n.gd<-w/rw2iB 4\SA(|m9")|`K-b?c7/Kwn
"e@C@hf"PKoPT	m:1^n+m
9
d*?wt@?|t-r)' 
@PX1%@Y[ecm^WA
we~<$,A?)$1'	)-bJ9	o@X_7S-8@|R%Ct!9Hp@R%@cw|w\1cYfC^a]]A7\D	 >"eP%`enO^7`
k+B"k/)C@ @zZ_0_?{xF74y,F  0$[a]~f=U
l<+z~K;>?5F7	QPy 
@58@ML}E)V`N{|]wywn_0fk|h_WXB  @9R-Z	!{vWsc;[u_dG5&L-;s{]_>   cE`uK^\t/x=~+B{T~d	 !@@	L1FgQkS~rO;O u^n%zd92F^8?DHMAr*ue|  ^( |
P.E2OIsz(YWT^o6W#7EjI  s!m@`n0\2W/~B#@79SgCJvLd*8cL$]@EP *D$	Q9c*jFz~ di_kdBU*rHio26*{d-E<7g.g
Mks7C!P%*TRtb_~]5uGO&
 ;tx7jTl8@|13Or6p|8UpHk*iRK>oIC RR 8]O>

\|kfblr&?W:A8#03I$KjEDQ3=>_'.EWL@Q Z&LpAJ%^WW`{Gh
zDWG;
@ /G`( ^77WS -="I HF "Q" }P\byA*u{IO#hectRO%:c[0w: "M kL&x=*z^X~3e1?q~nIwSSI
@xHu$'1Sa?^{1%`RQp(oU
{EBUT  pE@?

)_V 5K4pJgDB9gV%&@ ( 	  C^z
a)S~-4)V%`XdN@xcV$@ D( ,!h^jDbJ 6%U!@	 0o=C>nO#^V	[{0@ !i  6)v?oiGK[bukW%@6Y7?/NP3
PGhaUN~cWL	T	8@ R 0 I@5]J	-|^1DC
@')&m[SV.JWKyD5p36|H\ml}6Fw,|Ip;
  $cV   '	83 'hWo)! 8 8%:sg+U	UlC NpGH0	/3qU+Y?f( PP5  Oe_ $ 5LU8}`Ne3o2@y( if oi_w}q@CpFVChO7*d_{3&YA Q! *_KpUx.2fk.u   UN TD3Ld
>@]) (5s$7@ \P =Y(?)5$g 0X.
G'1?!ws 2Qrz|Q	HpG0(YAR L58pI`@hC&1;qRK 
@EFpMcw"@ /# /pIc/< pGH$d# * S|_ApGk"gcR-L8 P!w 68+_2c/j`	8  )8+~TpFw\loB Q 2	|o'~=	8  RR]cHy@YqV M	6*0k@  qV 0 G#Y3_.u@Q 2$(/@yqT T'|-t p*@Q(9 4Jh\?FB'"G
 r_WXg7 JpH`D7{kq] y( ,VM7@	 qbbns|0)2 *g Wz!'5VmkT @ #P("1Q 0.( H8w}QfTB 3J8q'}q(? 
@C5wL+u~7@3  ""IDAT:zV'b]DYN]4d
@&3
@@?
h@T	 De\Qo/7: |nYOZu  w, 7l>QphqGGDqg"D K Q l{EI?.U/_MA! b/mQ lG *_'q}A w fJNG?QrEU a&	[~#~1  4g, 4XOo?9Q>7	ph3
150	K	~-Cys: dL"wB%.|= 3wLZ4T>P@=?'l@ ALg`K?Kl]@ D3DQzKg~.VL ",%YPp C kT*5J(V<pqfg7
?8&H g( ]?>=BA=_R JH3lL`L%Z%E@ Mwb%RVPH 8(T7Q= ["kI  *	Ng, U~5c6>?[/V  :fX]H3u&;kcpC u@	*N)~W8c$P %l5fw|oYje	PE@ ^	pEta	o*x]-zS@z2yX+( 'x59oO{@ dL-,@, ( }&UwMFS%7QKS8 A;@m$@5~m2
!8+ L &;?oX\]"x[@R+@@%ks mZtG mM^;Qe"1@xdlrmNqW ht3n=R{@ , ^\C !1: _UZ!\ T3W
OX<j1tgx+qU 
tI[@O`ljZ% +@KP 5U( ,zSR_#}kL%$@8j=c#4
R<@- -`m)C  o d`:d&npQ]0M@Vtedc s.8+ |6Qs90WN	93@  `JW*F9LoYRQogS  Z.WclmCd:{2l ~!mK)` K@Wy'R[\.( ZYb+_%/GV	Y@r I/}4
ZX[OziGf` B3y) P2&+oc.pfmW@i>LHqu]_5}&SU}1Wc6zb1y@2v>5gXe`#KaH)
Xu3^;.U"<LRbD.Juae$@ !< _UP	*.,^a<L{AV
    Z rGr(,M3
J_#<|lQ#4hJDJy  x,mZ Vx2 rgLk@ @-mc kz;gb
 "OO-N|0
   P]:lZ$[4 Xo${N]9  8G`}wzTJeM{meO,w@5o%(4  DnU ?`( V	Hb=
@%-O@ u~iD-b mu}q_d2`   k*ZhSP aZt[:'{@ =9)}8T :T}@ xo^+i*u\ >O	X   xKeJ_'Sl+)X Wu   G`<k"mU|lkLF9  @?YV;~@ OKzd4V ma  v&~hW x50Z
d@ $	)y|Ne (tocJ5gl
@ ! k+VS 6B^<=% .  @KS` *o5v( 
6m:]P`@ =rHz;VD)+
mHY%>28@ K`!}J2	(.( *o'`0  @J{kU T;U.( J(yJrJ@ Q'sd.
V	^	pEPm-\{O	@  *$0ke+Olv8+L)\R lxS16%   KOW brvE}J.=gM_  PWy~<yQ\Q l;j	x[9F   #{v2P\U J@\{7y@ B czi g0 Xk;i5*@ x_~s2Ir&N%@ix ml#N35  P/_^	C}9g hf5gyyE@ ^>!^J]S y*V6W56vJ! F9ZWy{+c25@[6w"`Vgs@ @-	y{QIU[2P;yddgS @ Z+){ 'wQ g7Y<ke   u]s>r5[_T8\T lYE@ YsxYn#C @+[9a@ZY W `FFYn\kR!@ ;]/}d\2t hKS%@S63^'  @A	\?oes\V l#Z% vUkQ*@ o=rvm_eg
u]%>lR1@ (J t_k~Y%e66jrJr_]r@ AooKmT	d->89(H   C|&20mh :{~_f}wlL   g	wn!
j)v~6n^4z*?tbH2F-9 $57j ~0O;`-k
u+E ~`w>aof NB_ Xp*6NT35@ _.xhwB_!zbzY$BuO#D! @ ~o~/JV7`b*.[nN~L-! @ 
Z7WZ ?k1 ]) 5]U[?yUrtfC/C @,Y>=)
{z&l9 *g/UTcAqd5xE:@ ]=+k/K~)p#* VP%@? H!z]=o5 bD t\aRlJ{1C ,oIoadbh   (o|i%>pJ]g'qB 5u_MC':\6r@ "0c+OKl {*|id@1/2<pI#2azX:A @]m5U 4L{JpcFW V	P?99u{w   xkMvmV[5#{	jdZ. B%]nm=i;/1Z '6c-  Y+H*K	f?<{X%@-^X%S@ ~/~eWIV^[k]U .YGx s	Pyj   A]o,^+kGh xn 0GY"!%  	/:=b_ ?m"mo?e-I|l4H|  @ZS.+ hP ob VV	5_Z# jG'ip{$U6
7+PSW#+,?ot{`}w= jD`ss$Uw&U@yX F{o}BbMW&}so?|f:'Z4 N`W.[K*:X_%bY+WyS+^zqGL$Z   
	d2}*L;IbP ,|X)d T<whNmjC @{^1s?q=f+%;rfcm:?`y :'@{GmwL{  " V=McDS?+UkW:, _{?cC  s.;G
w5
=G\#?B-X(k+Z5 uqVc5#
&@c}WsPW{{z_G8+n#c_&%CK:n|l%|L0  $pmS=p/.# T'~kWv
XAVAT!`5YTk3G"	4Us{a5RcVko
t*n u8;$WUTH^&:e3O  g8sV{g/
~[W_^Gj TCt\`TPA?vXURo]>4  'hWq?v^}k<}fl_>_  ^*CV{j	{O%S.c.8@ # KzVy#s

~k=}UPqVh*^#LZ ;UU*`7\  QLwwLi\)5_k/_^sZo}y+**V+/%8hz#8@ "/^s~lM|~k=Gq$K@W[TS*71l~#>0%Yo>x B@m[^Yz?5)[s[o
}f|Z[%@}o 
lr>pFC&3  	tW'{[|N+ Woo{G XDO@Y{*P^b
}UMs&#F)L>eQC qq M@zr$/h+qy~~oa25.@( -mW{{}nO<nG&yqv4|c4m-[;8@ e	ozedV@[m}}VL{ sHF.h{WVM2]7qM[w:dK2|TKrR3'6@CX3w{z*+ 
w>qi~'`QAQ_PmV!* k}h^E{71-Fmo6eqC&lIM?)9N*8@ :Y+lUg%m]_[B^oWH[W| GmB2` [@}koZKN}7>a#[C75E~CZR!C!CE&Li-DBw=t\2C*!\'	cdtte}#Ye&}o:c3n~OtHBmtg[WZ]=+\oXgk+5
k^V[
{ozmTEz|mzmV{O6o'}u_IZW,- PoV[7LV[oU{U[!^{5Enmo^V!a
~otB{uoy}Yp._Rg_{Vk
znj:or!	D3-m#?+~1oq^:}7NRp[Jo\WO{}_{MKIPi8.CF)Q$o[uW[^iyiu^cJpW(z?zmuk!e0\D	x GokRB0{Hfbg6>\$:_W`b~0|l-+~G7TA^'kqo}fC {s{a^VW7--_=.FC6^]{4}kWhrWV,bfu{c:;{k?faiC\%`mRq=CPcVYbm?YS*-!W?^% `Q+6*`.B#P4^h'w}7r|{O '=  @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @ ?$ZI
    IENDB`ic09  bPNG

   IHDR         x   sRGB    DeXIfMM *    i                                       @ IDATx\EgwIn*iPM(HDEA	RYgA
T=	 N$!To}{rws9sL~|A    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @ @E"#^F#So%s^M&9cM21R4L~^?-%4|1[M"/%vII$$d&<rmIyFBsMi-/l~2fhD2igYz.aYs}_"5^4<'o<%\<$K%uY:&t$_6I_+
	dYS1wt$'f^~>?8cD@\\e4^~gYMs:z<i?gRLbq0PS@ G 3_WYrIg^6W?

gO$Rf PeHi~4NlKEUaSP hqt2yT[Q=j@'3>\oYP(6J"sCMG2iQ b*G~tg.@W%2YT*u8{  d:-+U	(isEYod
Io_g  D@z%]ee J-+
HnSnxV28O&mQ@ ed[](e
@=3Kesd/X::O  D@w:CvvoIQ"d( hl;sGLJd7F(  A\KI_F<m(I|Iz# B 4#>zo9Q`( u/&~wI?agSrYB B$tu/5)X@Ch /,s=FN$K.  4j#?,ro:@H 
@H%,3Z;4	@	d/7]o \( C2Vs	^$K.]`H  xZs#Da
@|WKdK   2K;3_' q5'( FX4O	-zE9@(i_w_cX f e_BY>fFC{  TA +s5
rDERqgboX?P   #	^|W3k~At*'P9r1-DYJP"7{g  P9Y.^\C)oa]Vp~	d{<dvk~   @2'( }K_|&>#0SO7  @
+w}xOKA	?*
HY='O>~U N 8'4T	PgK _D,3stKclA,  @ @t{Oa=yd%
*UBH9cG7{?_  	$CS_v5eotc,37,[9	@ A7yLI[- DVNiS
2SrYJQV ;   jd27] 0@X?q_sE?4b@ @*8}'yl&K.=m=FW@ ahJ%~%O \M^)T')o:aW>:O! @z>3&`8Lc`('Am:ox@ J6~2NTxdqHG# "G aRSv!J4`
d~4mDb(@ @	$'2Z+P 	(H;@ mrO@	4
})oI%/+@ #Y^&eV /:qr[0j32OF8@ p?3*zn]@^, 9v~?"A&  (mgvJf7|`l;sQx)  @fxBJ~/d+ VLvz $J&zHC7"
mx[jY&  @Q#[~&o"kx% gd2  @a22 M
5'9y4}A @S*yiS>*AmhDkO:z#6   	iiC.lX% O9F|  @qq7Vh>2Z
C @TNeKJ7FS Q2]T 
	$oB,a [B0wGo=vdsJM?8@ h`rsO Aa6y( Qn9Ri
 @ M`-W
|v(
66jO<qhS4[
B @EO[X{q
a[oZp jG`eAPjmmNvH  PGM7>{VciujqYo{Zr   84|R K&  @@KvA4uZ 6c2COA  
	x	
_15nXjZ  @ %~uV  m^_cv9<@p   fn~<
$|%\U loO(7  K`LK$;0

S#l  @ S7jx 1Ua]U  9a_a@ 	oSk*Wr.* }_Z*iO9bT '09	D +S3\T 6-8Vp   J	:q}$a^YM- |:l! @ 3)
 +6tx=@ u$02:LP6&kk6W2q! @ @K*{o! +clX.Y i&k61mc: G@yR P8g E'~j  @ v9h:AE 'J%  @ks]esV W uJkJ/>  0`?Wp wM=	@ N0K
r$9%J)  F-MNn`{'m3%   (hmN- R1.
6?*k7!@ $`&]eJ S.( JO#! 6?ZJ @ nH$/9`j hcd- 	3  	FLkDSW>Zw   	oJ9/;$/{@ MwI*3rGsw1"ZZm >  @Z	 x;Hni]6DV	( upS"Z b]+ ~VkI%   Z'$iy;J. 5	.6I2   	l9UY=sSlK_pmm]~0w D`[l;]:.nz:b13#D`dsb)NEw6D8">  P	?l.8bTP`B&jYiRS@#E\ ; jiC 09tt9W"CwL"?TIcdK`U R+8+ lc$[R( 9&M@	J@nEZfSKhN% 
2?igqaO9! 8PY|L?e@=t 9I9a&<S&z
@!g9OB T wm*Zw@s2Uy DFqW XRvjR@T^|q>e_"pH$Onh+{:.
Bkdb|,[BC %*huv?X%2n2|lhQ x  
C D@{*`=d .oZ B3LnD"at! #.jou7U lG-\]M|m&|@ "e_
rTKs,U\ /|NLZy0k	cw1}4?L- ^yT|H(
ez3q16	L~<QY-FlnG<`P\>g
qW ,Tq! g	&;JuO1?L_S/"_5&g6@VJVk@ UP( Qu*Zd9=% WSMX E4'  AO^1/
mFGIS*-:.V+ }[L%Z0@3b!_WA v6m?_H.( JTO@+%?|1GZY'ln#+K~	twja)K@nD1du='vIDR>18+ ^;ZY/@	+
@\9v6u})7lfg5 p  P=D'jcIe@0%1(?aNqW @&f +"_!s^\)q{6y;K =qww  Jwt%SJ-cs0|: J@\ /xNHElyB GPI(6e! og+bW/oEbWxo5 /vwOmU&R 'r	gzyx%?b$ c;}d?`H$2|("E`[b_Kt%}xe{c1K/)|'S LGj2-`qJaN@s	SejrkObAt
mkJ?IY		H"xQ{qeP@ Py/o
sJ33O qFnR1 ( E^R3ZlMWO* m_+X7D_Q  Z|ZTy:w+OsyY	G^ !UD  
Rc_Z]SX4dVF 8^ke]P dh@bA !PJ(Tc]YVa^<J	8#7Y K!  h(%_+*'qh3xd9gV9() P	Rk+,Wh0iZ<#w/;:5WH!6m1^nL|9CO"tr`1WLY(2L8it	{'
 p1HclU%
f0Yx8mgv@$Qd$ h/
6)nLL% V.]U2LwU/D8+
I%88E@~&216o<a6W Hgs oEg ORA &Zs7S^%`N~`^}m4L90y^78g QioC l>,J7XR3YF~@6.yX 3\P C3* Z JUgF	zc>=c:SctyR	83J>]@ |Cd>HJ:]h1z<`J$q@- "z#V/ P)l9Yt=O:y0r"Pm2(r&fB a Wx9R:1~71lP,g,qW <VLz@qCx.% yvNU%@~6(YOgP*V	6r#\c!Wuj"i9@  *@ u'pA,Hw(^f_n! g*F  t>V9vhk.e3-:`t*:ncz[X|]IT"TsR4 {rKLjo^Q?C '=\L	1\U~Ma/=*u=<bCwKT~5Z+6((M9o['=gctz16ElhC}Y@9%~"BwU_2?vhL*uK;PZszDq*olS<VC%;1P-dNo)oq@{oP ppD
3.w\~U}nc [Z)c~!,z:( P @nK`\8=&Qk PnMk%GY(B s;-$mx1fE<v-6'`cY(9 2FctVs
9-P rhOC2=j\	{G&1%KuNuabJ@=2M{8W  T (J`|X|?s<|G_ht8 w@ 
&pg9xODx6jPS|%6Q6YV%j\  4 H@w%l"+H!Cv7f]s]sy:[m*J{^*"A ~JP6 gTO#7tR_=SDZ}['\hnPa,n19 1(.bG`c$ca_v{e_+3)*a\A^F^  03	&qs%J{V]B~94HMj9G`D
@ lP W! 2a|)e",_a@g*juv
|77bA  ( %Y4,j1f!=u'ANc-?>e7N+?ux-Ek^A D( !&+8O`ebvPcvZ	'}|JP@$]@#8c
u:@Z}uPWd>nWRa`*gLAX hD hcYpV&%f
;*%@	`{P ;s,_~Pxc>~QWR@ 
  P==o~;7T B^Ak)d.z p%0])q	a (@8"_p+UN,K t^	37@P Kp@x=Az_	$]i'A @( %i8A`V|*ctCZf@1@ v;HgHk('6ke 0<bK@$B.Du:]:c*0r#F  4dP%G'9B `( &yP1!aR_Or#^2/!@2Y@ Z7a[Nc_/M1f$c^x5bI X2p.Jz_dZzWcxCQ:PGdHPs?1eh/ Irwin sq@iQl*OW^4% !1$F	}6Sr
][.3?Rys^@f=W17E	y1|~(	]W ^nWA P bx"Qs?X6_-']5K,|_F 
@ XI$Qri~LC~j;Ut G 8Te	459{FaglhL%uan:YA?j|~{
N@pPW=D

t17}u3~L  @@(c-xJ@k
C":*g5@L4<xWXJ){7cTas( 4"U@s]b<jS.6G+pyoP!{( oB* lW3|AH:{mmnA}~Pe@tw@6bE  VEa!2+2=V9{9?'D&Q:ln+umcS!k( n>
0fsxC,%1'\Z1~SglU~x{A 
@CO="DE?hynm9Wq|F8<@	 (:1'~0:rf=E/pgTcNU #1%G>h>~Q~Xwa~XGs%,[`#w5X7ohG}AT5F{~wxx O<MV	 8 9J9\n{{}f=}Iw q( o :?PV J	M|^}2C6fwWz.Cw2A 
@42Ut@2W!U5q;2u#=w.Ncqh ( T{UF
^?+[+2Yu6sDxZyCl 
@75kkv=Wa+_D>U@msu2 "@MUcH`hd]WR#dSVy 
@;N`_EU_{1
]_;pKl0x6jC
5m:hU'1?=5z?T^mZn1=I| 
@
8G@[@7ymj-=SV,}kobM  G#bl7yhtm1?baF[`^y~<n8( T8"+"|U+s9r]4$IT S( 1m8(	YOQnl<knu[YMOU[E F9_&mUfKZ[B}7n!\I1"PkgR_'eK-Mt-@9( 5)GnYpLvx{B(/0( |8TJ-<U2?]K!hxl ,w?'}1[R`Bo1d? G @wW	*1A
R68w_y_!\C B  aVAR40FB~;$m P@  		,[iq_y7:hO9e~6wE@8ZDSsf@*hvwd}:? teS56@5.d+Ny*.2Y^),A %	|g|y "pY>uuv_+~A	M_O^  2P jF`|c~|1:>,c:/;?{@yo.`-#ANp 
SIe"A`fc?&8jX]	_?\Qcde(`m.n/I@pAN	?c8W%@fr`n2bo6|`;zcxU~A e	 CTA
a#7TL	X4g	X`CZ]UOAp=!/hL |!7_+! M5&PL,K*2'J1.,Sn#}u?()A "P."CrF/ho
x58_+ e~\Vo{N ? ?HE1%`rc~z ]7!ScIpfU|_7QltLVW  @6^F[` %umNUONU_NS(?6V@ce219/4  
 B` SL	m}Nd~ >[oc.Ebx0\H@p`	FRPfAo)n.gd<-w/rw2iB 4\SA(|m9")|`K-b?c7/Kwn
"e@C@hf"PKoPT	m:1^n+m
9
d*?wt@?|t-r)' 
@PX1%@Y[ecm^WA
we~<$,A?)$1'	)-bJ9	o@X_7S-8@|R%Ct!9Hp@R%@cw|w\1cYfC^a]]A7\D	 >"eP%`enO^7`
k+B"k/)C@ @zZ_0_?{xF74y,F  0$[a]~f=U
l<+z~K;>?5F7	QPy 
@58@ML}E)V`N{|]wywn_0fk|h_WXB  @9R-Z	!{vWsc;[u_dG5&L-;s{]_>   cE`uK^\t/x=~+B{T~d	 !@@	L1FgQkS~rO;O u^n%zd92F^8?DHMAr*ue|  ^( |
P.E2OIsz(YWT^o6W#7EjI  s!m@`n0\2W/~B#@79SgCJvLd*8cL$]@EP *D$	Q9c*jFz~ di_kdBU*rHio26*{d-E<7g.g
Mks7C!P%*TRtb_~]5uGO&
 ;tx7jTl8@|13Or6p|8UpHk*iRK>oIC RR 8]O>

\|kfblr&?W:A8#03I$KjEDQ3=>_'.EWL@Q Z&LpAJ%^WW`{Gh
zDWG;
@ /G`( ^77WS -="I HF "Q" }P\byA*u{IO#hectRO%:c[0w: "M kL&x=*z^X~3e1?q~nIwSSI
@xHu$'1Sa?^{1%`RQp(oU
{EBUT  pE@?

)_V 5K4pJgDB9gV%&@ ( 	  C^z
a)S~-4)V%`XdN@xcV$@ D( ,!h^jDbJ 6%U!@	 0o=C>nO#^V	[{0@ !i  6)v?oiGK[bukW%@6Y7?/NP3
PGhaUN~cWL	T	8@ R 0 I@5]J	-|^1DC
@')&m[SV.JWKyD5p36|H\ml}6Fw,|Ip;
  $cV   '	83 'hWo)! 8 8%:sg+U	UlC NpGH0	/3qU+Y?f( PP5  Oe_ $ 5LU8}`Ne3o2@y( if oi_w}q@CpFVChO7*d_{3&YA Q! *_KpUx.2fk.u   UN TD3Ld
>@]) (5s$7@ \P =Y(?)5$g 0X.
G'1?!ws 2Qrz|Q	HpG0(YAR L58pI`@hC&1;qRK 
@EFpMcw"@ /# /pIc/< pGH$d# * S|_ApGk"gcR-L8 P!w 68+_2c/j`	8  )8+~TpFw\loB Q 2	|o'~=	8  RR]cHy@YqV M	6*0k@  qV 0 G#Y3_.u@Q 2$(/@yqT T'|-t p*@Q(9 4Jh\?FB'"G
 r_WXg7 JpH`D7{kq] y( ,VM7@	 qbbns|0)2 *g Wz!'5VmkT @ #P("1Q 0.( H8w}QfTB 3J8q'}q(? 
@C5wL+u~7@3  ""IDAT:zV'b]DYN]4d
@&3
@@?
h@T	 De\Qo/7: |nYOZu  w, 7l>QphqGGDqg"D K Q l{EI?.U/_MA! b/mQ lG *_'q}A w fJNG?QrEU a&	[~#~1  4g, 4XOo?9Q>7	ph3
150	K	~-Cys: dL"wB%.|= 3wLZ4T>P@=?'l@ ALg`K?Kl]@ D3DQzKg~.VL ",%YPp C kT*5J(V<pqfg7
?8&H g( ]?>=BA=_R JH3lL`L%Z%E@ Mwb%RVPH 8(T7Q= ["kI  *	Ng, U~5c6>?[/V  :fX]H3u&;kcpC u@	*N)~W8c$P %l5fw|oYje	PE@ ^	pEta	o*x]-zS@z2yX+( 'x59oO{@ dL-,@, ( }&UwMFS%7QKS8 A;@m$@5~m2
!8+ L &;?oX\]"x[@R+@@%ks mZtG mM^;Qe"1@xdlrmNqW ht3n=R{@ , ^\C !1: _UZ!\ T3W
OX<j1tgx+qU 
tI[@O`ljZ% +@KP 5U( ,zSR_#}kL%$@8j=c#4
R<@- -`m)C  o d`:d&npQ]0M@Vtedc s.8+ |6Qs90WN	93@  `JW*F9LoYRQogS  Z.WclmCd:{2l ~!mK)` K@Wy'R[\.( ZYb+_%/GV	Y@r I/}4
ZX[OziGf` B3y) P2&+oc.pfmW@i>LHqu]_5}&SU}1Wc6zb1y@2v>5gXe`#KaH)
Xu3^;.U"<LRbD.Juae$@ !< _UP	*.,^a<L{AV
    Z rGr(,M3
J_#<|lQ#4hJDJy  x,mZ Vx2 rgLk@ @-mc kz;gb
 "OO-N|0
   P]:lZ$[4 Xo${N]9  8G`}wzTJeM{meO,w@5o%(4  DnU ?`( V	Hb=
@%-O@ u~iD-b mu}q_d2`   k*ZhSP aZt[:'{@ =9)}8T :T}@ xo^+i*u\ >O	X   xKeJ_'Sl+)X Wu   G`<k"mU|lkLF9  @?YV;~@ OKzd4V ma  v&~hW x50Z
d@ $	)y|Ne (tocJ5gl
@ ! k+VS 6B^<=% .  @KS` *o5v( 
6m:]P`@ =rHz;VD)+
mHY%>28@ K`!}J2	(.( *o'`0  @J{kU T;U.( J(yJrJ@ Q'sd.
V	^	pEPm-\{O	@  *$0ke+Olv8+L)\R lxS16%   KOW brvE}J.=gM_  PWy~<yQ\Q l;j	x[9F   #{v2P\U J@\{7y@ B czi g0 Xk;i5*@ x_~s2Ir&N%@ix ml#N35  P/_^	C}9g hf5gyyE@ ^>!^J]S y*V6W56vJ! F9ZWy{+c25@[6w"`Vgs@ @-	y{QIU[2P;yddgS @ Z+){ 'wQ g7Y<ke   u]s>r5[_T8\T lYE@ YsxYn#C @+[9a@ZY W `FFYn\kR!@ ;]/}d\2t hKS%@S63^'  @A	\?oes\V l#Z% vUkQ*@ o=rvm_eg
u]%>lR1@ (J t_k~Y%e66jrJr_]r@ AooKmT	d->89(H   C|&20mh :{~_f}wlL   g	wn!
j)v~6n^4z*?tbH2F-9 $57j ~0O;`-k
u+E ~`w>aof NB_ Xp*6NT35@ _.xhwB_!zbzY$BuO#D! @ ~o~/JV7`b*.[nN~L-! @ 
Z7WZ ?k1 ]) 5]U[?yUrtfC/C @,Y>=)
{z&l9 *g/UTcAqd5xE:@ ]=+k/K~)p#* VP%@? H!z]=o5 bD t\aRlJ{1C ,oIoadbh   (o|i%>pJ]g'qB 5u_MC':\6r@ "0c+OKl {*|id@1/2<pI#2azX:A @]m5U 4L{JpcFW V	P?99u{w   xkMvmV[5#{	jdZ. B%]nm=i;/1Z '6c-  Y+H*K	f?<{X%@-^X%S@ ~/~eWIV^[k]U .YGx s	Pyj   A]o,^+kGh xn 0GY"!%  	/:=b_ ?m"mo?e-I|l4H|  @ZS.+ hP ob VV	5_Z# jG'ip{$U6
7+PSW#+,?ot{`}w= jD`ss$Uw&U@yX F{o}BbMW&}so?|f:'Z4 N`W.[K*:X_%bY+WyS+^zqGL$Z   
	d2}*L;IbP ,|X)d T<whNmjC @{^1s?q=f+%;rfcm:?`y :'@{GmwL{  " V=McDS?+UkW:, _{?cC  s.;G
w5
=G\#?B-X(k+Z5 uqVc5#
&@c}WsPW{{z_G8+n#c_&%CK:n|l%|L0  $pmS=p/.# T'~kWv
XAVAT!`5YTk3G"	4Us{a5RcVko
t*n u8;$WUTH^&:e3O  g8sV{g/
~[W_^Gj TCt\`TPA?vXURo]>4  'hWq?v^}k<}fl_>_  ^*CV{j	{O%S.c.8@ # KzVy#s

~k=}UPqVh*^#LZ ;UU*`7\  QLwwLi\)5_k/_^sZo}y+**V+/%8hz#8@ "/^s~lM|~k=Gq$K@W[TS*71l~#>0%Yo>x B@m[^Yz?5)[s[o
}f|Z[%@}o 
lr>pFC&3  	tW'{[|N+ Woo{G XDO@Y{*P^b
}UMs&#F)L>eQC qq M@zr$/h+qy~~oa25.@( -mW{{}nO<nG&yqv4|c4m-[;8@ e	ozedV@[m}}VL{ sHF.h{WVM2]7qM[w:dK2|TKrR3'6@CX3w{z*+ 
w>qi~'`QAQ_PmV!* k}h^E{71-Fmo6eqC&lIM?)9N*8@ :Y+lUg%m]_[B^oWH[W| GmB2` [@}koZKN}7>a#[C75E~CZR!C!CE&Li-DBw=t\2C*!\'	cdtte}#Ye&}o:c3n~OtHBmtg[WZ]=+\oXgk+5
k^V[
{ozmTEz|mzmV{O6o'}u_IZW,- PoV[7LV[oU{U[!^{5Enmo^V!a
~otB{uoy}Yp._Rg_{Vk
znj:or!	D3-m#?+~1oq^:}7NRp[Jo\WO{}_{MKIPi8.CF)Q$o[uW[^iyiu^cJpW(z?zmuk!e0\D	x GokRB0{Hfbg6>\$:_W`b~0|l-+~G7TA^'kqo}fC {s{a^VW7--_=.FC6^]{4}kWhrWV,bfu{c:;{k?faiC\%`mRq=CPcVYbm?YS*-!W?^% `Q+6*`.B#P4^h'w}7r|{O '=  @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @    @ ?$ZI
    IENDB`ic05  ARGB Xj      X ~                              X ~     k~                               umlmu ulr  ul r  l   ulul u ll m l  l l ul l uul l u l l u l l u l l ul lull lull l lll l l l ~ l l  l lu l lul lul lu l  ul~l u  l   ul q qlq ulu  n;878;c ;7:  <7 :  n7 Q  <7Ci7 < 7i7 8 7  7 7 Cu7 7 uCC7 7 C 7 7 uC 7 7 C i7 7 Cu7 7C77 7C77 7 777 7 \\ui7 7 P\\ 7 7 \\ 7 7C\\ 7 7\\\C7 7\\\C7 7C 7  <7iP7 <  n7 Q  <7 9 979 b<7<Q ic10 
PNG

   IHDR         +   sRGB    DeXIfMM *    i                                       @ IDATxUgfwoM	)JH $]N@P*"svY;wgo,O=4@ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ @ HSw_ :\Kq%I^}DX/w
J>8y8jZWXIY6jOKICP\n^5ZVNOWSFo
uWuy2}z]bz3eP3%(l_([4zLTdI9/QzU1[Rnj\FjR&Um{vpB<i=yLCkX>{e)^_(_y6i`ueyjB9>n*QSn2$t=Q>kZUX]ZRJkt;"@*7@iV~<)|qTai=?ee2@ )PN zBUQ|uor,7y-iwrkD `  Z `@c$L2A\wq2A<AuniQ,@ +VyYYuEXY@_ T  PK_n3u~3#cl~TLT?6&j3   `@^^$?1gi}X @O [~mj>MWy:MH# C`*jzc7w d
8o6S=j5wtg@ Wjc#*s\t2H1@ )
[7_Y-?sR   L Z=TWC:KW%JP``@d "'cpKviWTlC   P@^JMu]=|P@=l@D "'[|
uuGu}@ A 
Ie'/!C!
 WV@uw:*@ @ 	S];Tj7M]w9W3  h
r'N>VX.Tgs)7   qmfvj! bl:.%:1oX   eJ. ~X@p4[,P8{z^aK@ @ yu[#JwOE$- li	Db#$9X#u$V:!   X)k6u*- ("PM @5#@TO=@ @ 4	PAJ89GzjN0 M_ @yI<ENyVu E   @m%\=/@=?0h2K @6_l|0?R{4?RD @ R,u8`%z c
{u)u^j   %
s'J0 ,~ 7!Q M;n   @A@=+ \./rX
   P(#V"    `@>/:/Li
b@sc[(q~/;\u@ @ 
oTs{6!` |-P:&'W0    `@^~n ]T6S	3SBB?i$-3rR$@ @ ?$?h	x0L@Sc
c`Zu    $@ /u`0R'=UJIIk|;@ @ D
uww~hmO	$TNP	fWg?Q@ @ jyyz}wK	 (u]Mj@A}0\3@ @ 	'\x]`0L lWj[=_dGO	s    _{'.`0,R(Y6J5eT6    yL gts7Jyu:HI@@	$RS    @/|x>@/f&@(aJu]2wa8pA @ @+V8j<LW @|(}_?rs#zo    ~o_?]]ptOlNP(}-+X    \9;lA dJx"P(}XeP\ua     4|yl]vMR
2Fv]J&Cr    XsY<L/H_ZJ	`rA @ @ p|Du5*/o;x1 F 4*~ax'8?	a7!   _8zEh`0iSeg	)
Y\    @$n[z*o;Ij u9`B\.-    iX{D-0+EqPwpV;Vjw3    @oe_8j I;,;JD)(uRg    7rAC|obMM[&(%:(    vcl zM;G|1)%I>:{#   L /t;u=S%^Y(nRL+)~O5+Ogu(5   @{93s_q03N5NfwYh{roUS]iF    	o_#|U6o	 US_anC2{c*Q@ @ @>oc|EyLL" _dhE @ 37*+Y(n\ ]n9sO_w(=    UpH{Kb0_@'Q7m:kv"    <Znm}COm f:S#2
Fa'95{U-u@ @ ^xz*l:f*  o{u_>z-+:i6Pg@ @ >d[SCK.ik+\4kl-8A @ @ 3.;U+ i&M0&'Kr0^~?|@ @ @@%0k^ZqW?Nyx;ih5%1A#`[zss =0    @y#/-k0t   !){su_*    ]qd;o	pN;o@IF*Ac@ @ (P9hu.Y  {UrZ4{lt+c@ @ 8S0e]pqwShH|t[T_ya@ @ jte.y@F
F  *uo_"[#    \9b&*3[ @dP&`[n88{A1    _vfoRl@I @B}fq4@ @ <YGyVn|,g@ ae?Nfgo~~a    POlW.?njng/@ V0l!)>Xys"    @V=[o~r3~ 
]<8TE     0`sd{5Q%e~Ts3 b8+g6~,B @ @ f	8-7qN=I'% RMs^8rUMH$@ @ @l6k/f& PV
O |Va1;wiv1    +>z\K	 $YZ)oGsswVG     !
d]S, %AsPH_q4?+RD @ @ =~tjw
>$,Z<X:!&@ @ Din1L  `oD]2GCW5u@ @ 3i_^fb~-f6 nX:0uk}@ @ pTy~?yK @+)/Q5jJ@ @ @ +|]<	 q/1D @ @ CZ?bwqes 2??o-P}@ @ ,pF/ a(#>rp6wY<O)@ @ H`%
A+	 eoj^+af!c@ @ [ 8vmT)u_(owE(]  amyKTq#    F#~X[>XU @: `t0I{fJ=6    1p&6U	u7"@ c~9rd&v~,%@ @ t	d\. j[Q @ET,4JUkg}N]54=T@ @ tn=`UE3uM_@O3H @FUI[=vF @ @ X8];8[tX @,$ \fv05Tr"    @=c2;~w	  R5s? z8~GW     S%-6{  };:#hOj    @/e z0O D7o?Ol@ @ H@k=gR} o@i HpU_x+B-Y@ @ HA*y	!%@ Pr; ;V!    P'u7`9H l>2@wz'@     H-_roi3zW I29rI4B @ @ J6%FMlhfq $A}TpqV
@ @ R$f<YTM A $q=9cl'Uv     PQrgu!@  _-LOu{:ZC @ @ ddwG~7;$ # 7.|^;f~83[mj     ~Fw+<~vg
 aQ^j@ @ R.O~C7xE2	 HXT{}GMNf    +05?LS~@ @"V-A|#     8>1}380ciKZn@ @ H@ik,?o`V(n\g(j|]Y     iPW8q*R"i3rvzlrJ@ @ @` r:EQGLd2 H@#T- 3SMj     P'G^p#U="  |@?s:'"    @BN'UuL[3! b=/?k~*U     ; 7`AfM!	 	:liGui!M      'T5LBCw1  FQtlk=F @ @ Jlgp@I%9 NvVs      ST^h O@z1m  FR `V}     P@6.|T;bc {`=}rK@ @ -t bp y:m[J    @mw?9MW="-7.@'q;,tULPos?jS(    N UM_tXL  =s?jQj@ @ E#r<hr4 @ 4v1nKwpkGq@ @ @ bUM;a(2~_aCR*Qr@ @ I`Dcd*"y	 Qc{PMs#    `@uvf.wS a+tNgCPx     1PwcTiuCi ,m**?J;O[Cb@ @ @!Aa :1  h;5     Gq}t* @s2  FL tf	"     J`|gjd 0}m q,3p >u@ @ @ f
g3l<O Gifv `Jtcwhk#Y@ @ @@GE  `@ )`v\&     Wq	f\ TV<0m,     tlf][MO	#@   R59tCZ2a     @ >8sgMLb[&@ PAd=N
@ @ h*^|#
 hgPLoT     eMi% ,i`>@ @ @ P\i[}7PZ`` _{{"~cr,      xt% ,i~b>e`
@ @ /0J7L	 ,k1;,}mY     4] :^)STb:fy`s 41TA63-D     z6? jd=Jgv8k/@ @ @ @f	R3m,  `YSsp,g;V!     
C*_@?P%N ``~A=hL_tf3t@ @ @ Zy:h~`w
 QzT~ ?>{-6%C @ @ 4L[YbO HX2& `ICSs@'GU     s W /4.@ qFzuUAeL     _N^M  0 79
lf dW@ @ @iw?mJLU
%LB uwAcuVo6I @ @ hC	Js;6g kdmYa&j@ @ PO(o0}3{)3Y(AR>7(:#    @dmYw[W~GV&2.@ MTkg<(U@ @ (pgL;]
 GqZkc6A @ @ Bn|R{@y_`  BL47qD@ @ @ {e.)lKB /@X@6mK{JI@ @ @ @g X(@ F)?h|Rv      "9R,LFxaD %Q):.
H,B @ @ hmk4U `_ Bi-S,B @ @ 6lP L&{A _jm'qgE     @oL @~NM @h532>&|l     Q	gTLTE!~ *maY@ @ W5NWeLWcP @5.8r@ @ Pi={TL'gtGZ @`mdF_LJ     Tv| cf9 D^%Ks@x;V
*h,F @ @ ;gu ?cG(EA _o["gMv3i@ @ @6!L .,  "R"@ @ @z W &n uMR(P)0iHF
@ @ <-[K}L8C  *wxXk @lD @ @ rwa-,Oce:fl3Y @udW8h:36E @ @ X0~c4 <=0t )}4 F!;@ @ hL`ah,!
D @ u%o ::     X/0E,,I/  Zp.y$G}     `@gp	 X_ -n:4f= >@ @ |ejW K}II  $LeDGnbcI   pv"1i=%/f*~WY^'!@utiL_CO4B  2
L{s{6C @ +0l&E&l>LTmP7_E{By5~O*L 8#UM @;2K  6csp1M?   2E.N"WDgzzc"O'":@8X0igSy[.@  t^z;f9HK 0F @ *2sz(\q:XxZu;RE(Vu<> "  |laV99 `   	%DSd${+krO<_[rJ@c:sD @  D{8YW  o@ N`9";X<\."	"<'_~R`Mpy21j .^ ^	 #oTpl.qM@ @ Dd @R."Tk$~::}M\$y !bWt97=@ @ 	WX|_J}Ny"7_.W_AooB 1=373
0& W
Q3@ @ +GDHK[UoL/Yl@<3{c\+@  3hh@ @`}~^d)M)wG*xR#P@qF]:uA,Cj ^@ @ Fm#EmRz0x f9 ]!9
- X   L)|:O^5aS3T@?!$qd6}NWfs`f
Q3;JG)@ @ ?igtnfDv?Ls*H2yF:uY<m@S
 Wi8ze@ USgm-m"[d[(M6s }O|S& Oq*     W|~Iz%$L%3S^;o|
 Go]\Ra@ Q`m,]|$(i- }>$.
; @ $   Mx+u4)&zT;x;i]u=	 T7Xw\G0F @ 6_ rwDr-v+"Sfhh.md g7eAQ8 pD'gM@ @ 6wnh%:(?'T.-n
 / FD< "xm;/]@ (`/e[~*4' +O<c]d3P @$mf7-p?xB @ FM9B2OX	A@L31;1  N+lk_ll   ts'k')'C.u]@1q@Ml:bhk`d @ pEac>?e _}@sfB8 d[+ z{0t`CKP@ 4e@=v'<\u{( +,Do "Ns@u$m(q<6E @ OdJ<E#w;^w	X-Pvcz$p mQ^O>;3-#  @Ft49Of|]$Ry=KLu
}t-tT)Y0   8A	Rwt
mG#|a-?#mw,)vA &6@fN;E)@ @ fMt=--w}4~7$@M5Lo::+ty!@eA/	y7a@ X`)"Zp&	Ow?gKG|W2bH&vpQ-7s }M\R @@  YeiSw}l)2UuOm[Rsw	X)0-k ~NO!K'>,tE  en@ -?'7%_rHK}Wd&C=5@adO T@	a9Xgi7 !Y   W`(N.af xm]3)p>Oe!  	B]jW(  $^`S;_@*sEn_H4ychq t-i 5D@3<R])@ /0l_ j3)oIZ)sJ-X@d{k|i @^. 9"  ^=

U=?};oTNg K;|x )/	fJQx2 p z4W :@ h@PljHqn/AL#@[@qL  ND\+ "'[@ '"\=:Rd}R#E  Q kv= \@ @ 56bu/^eAGri++ LYL3@ @4Ca3wTHE   @%POet2}X
7mD*ofN IKv7 #  "NQeXU;ji#`@ V;  }OmB	@ H&sDnz6T~SU]4
d\}z"-`
3' `Om iJ  @r+ukVy}/bJLzP|t}) ]Q@ Hp.KP+3^1@YU <r'9s ^%5	9#  YyTj"'|%V,^o 	 1tQ:.emBq@ H%JMPV	4LPtpueO  1gTvW 0@ @ 3/h~II*:j$ PM!x?K !JfOP@ ';n&yjF~vpA!$:;i(	p @>os!  @#od;k~fjmztrW'B b  @ IDAT5SxRe   @I`X$u4n0( sI @"R,d{y@ @  6"2+cg%6cH\3 e(^ @uux@]`l   x=\o_-r5U;zzf9Dl_Y FIx  @ _;T:.LZi~ s n}@[@ Hii"'|O$}Y[vfTqJAvE`	|}]+ e7@ O@nmu9Efx.K+EV)"6S=h:L	Lif8yh#I   @h:R;Dh.WLi~7}7=@q6%N
{q4  4K`z(\^h_oi;"K?&fI}c @"f2' P%E#I@  $U A
-N^"zVV1D$cf	|fI6+:?3JAR?%{   @MQkn~;3#rexs]-e"H[ J}P
A& ~sL@	@ H@W
;_ZJ_tVO_Ri.e}Y2t
}:6,FOT,GF @ KMA Q_et4Qd:zck u.Wj# `O6M(	  <<9uUE*)DFl`W[3 @5/:6cgJ
'^>:9"  4Rj-^z5` +pxY39f(61Gx@9I
@ @Z:i]o|v{F T)?_>jyLxm_L}2   @!9Z3<R}]5>/@W os@hAr@  @:oqT\EVYy]!eay(  p<	e2Wmg
 #8G]Ad ~p\U@p@$  @JIf1_{F ?W
J M @udwb@ @?U+[u{gG]+o0<[l/@ &v]hYP@ /W72/6iX~Wj'"R -mes@PK Qo(<4@ @|L{|5;Q_G}{v9y_~]tz(u<efYd m mnh ]@ @[-=W~uyIWhO{oC \:z @MP7pk  Tr2C @ %<{{7_ r7Sn[ j0@5 K Th!-  s uU>7};W[{xKylL#@ x+pDn   
Wc| yJ"G|9^y"/?][?yoP ,kqW\ 	A @ />jO%>l+ m+ L- 
(Q.rQwa@ @ ,MN0&M3-[*WW]V=Qy5Y O6@ 	]#i`>9mZh8-wmVy|	&)}gD 7U8 p@8  @z(u>[.'"W"WF)@ N7W3 F&}@ *}	"@kt:^%FymVO?\yp*m^ +\}+P@ *EVndTd$pJ*_~d-_Q^)3 k7 5	 A(  IXB]a
.XvJ )3kJ`EZX  hn;VE-   TxU`E]A u%?oAE:zf+>:'_~.@ 6 G= mB)@ H?nMFtcJkPSoFt?V[rH@7X, I@ ^xJEo@SDgu@?So`LD?EVkB['%A k D$j+ oJ  @^d t++^T;;?To8R&XAi3*DR#H  XE ,k  @t  o(o!#znPgk[ .=CdZ[w @ JTpUF@  A@% "Zgkm oQr  o;C Fc@ _{Y|EHA&r'DV<akH h(m;  {U d 7_6F 4 MlJB)$   nimE=AGHN8((@ oBJ qh;R   |;ydg /$V+uiO N6M(	  Ec=A5z]Hn[R3h 0(^J@ @ ZnoW S|0` ,6=f=  k   /pw_]+^QD @  j eNN  ^{E- v5ao&MP~Q
u r   `*k,-\Uwc?<&k"T @\or		@ &.2lME`HeO+~#@=8i'f<S_m@ 
uL>EN5Qd$"yyA}z/Yb "mIXD^~RoX=\k'5a[_ y@&n8%v%G_u?ON[G['-xB@ @ In-2c{Sg:.oVo4we=|%?zUE"h]vymwRG_?GG

5bR +J } @C .S6F @NVu9|vPg;->K}E]T=
^O`"KQy|0x.B5of.K8 M 0>$,@ @ a;QTmrZEVly,4m#rw\P @ UC j
   UkA";J+#C}aC^]V;pLQj;DIu>p , dI@ /^"_TgFc|"o"r\}kn
!#ENDd 	;JKST11 lk   v2^'u\?a2`1R>~_\ 	+"?tz2qQy A# }P@ @KNU"mYc_\h$>Z!r)%#XMRQ #+ | 	  X@?]OkE9YdPW<1tEvWO3=z7Rz ?zY@A T'	   D_!w PX   :)O)N,_Uwo8O	HA }{~T
 Z eBq@ @VVd5p[l+f .yy}B@]5  @zAwEj|@	 5  X&0i~"rgDpM(Bvfy5MA }% W|YPSg"s;9	4`N.P6   @3:E:Ad=i<uN.~Q7QAnFan8{+_oZooh &  L`=SO<<fRWODYd*p:.UAL,& /^r ]PA u~c=\\V'_L@7F
y !  X"0rA|%`1-r-L6o)XoHDv[Yw\WX7J4u@!:@8 4E@ @ {~Ro+px\/v$c}%W:pjomj0 $G?& 6eA @ `&O'Cug|r5'DWHo}z ~Q"Xm#_<gmk< A @ )_*2nJ"U]yE{<OYfuI'_\}V_9DU+c	
 <I.txX`	5   zgElV[E| rTKzfmo(_5\("o&ukzb-f}w*Z}BtYWc	( X -n `
@ wIgBYz~ _"\M;\^<s;s:
fIr"H	$W!G`.^ZA N4 N  <krB H6T!x%\.>fC:l#"~]#C[lG_	pz b#x"[ o6$ u-  @:u8~9T:#^oK}_-WkUuT b2<z"
l[lwE |tg@ "y: oFP}I=n,Q+\	+.R^@q]91    pv=Bvn[E~m-E:</~x~]?y~"|$W7"0 @Q ZM  `]P @ -/?Dm{l+Dt an"l~[<U@aPW8T
KG@      OMO%O-v~hd_"q|vvzPpyUA)23._|@ %Y@ Hp"N.dO>(rzZMT'v<8WSEg0[(V)_E-oqa{
{ HeSi@ b*0r_g8<vtS/iVB!?Sx9~]+}EV*v"mE]&"-2x+3&	 
@ jK?Mqw'M9IyouG]fw\W6Zd"6RXZOs[{W@SZ{>@ 4  4I_(v0u';/?\!~RD?rTt.B6U5+gUGMPAy=c5@``MN @AI@ (0xD6ZO_s-U<WZ]&Tm	a|sy~Xy c>9'A@ @]	|wSse7ea?\c 1} "@ Df"rDJ>z9";Y  @Q ZM  `YP@ R/"c3/<%r	7k7~-[ZhKI(D,qdWg 5a	  D!m9WEXy3 ~+6%U k mk E(  i2x~\z.<SfD6H@ 
 mQp@ "w"7KHT~IiU|q`9=C2`YpeBq@ H"~3U~IubOP/iS[vJ px@08
  +D>^pSS.w_+ 8
@ @F8"wM>G=AwI:  a ?'B @ f&rwEpx=UbP>a@ N5	B @ Iz:';m"V$N5y5@ TS/IZ/;5DtkC  :9"  2="I~'f:N"@_@@ D@ @ U]ocOe9 @ !} "@ $tYrN:~)%=^xR@2 5A @ lacb__/Oz_k/:6B peML 8  Z MUo?{;4V! `Y A(  pa}!7^6s@ |k D}  q=  8"HDU|Uw7ko_w"i4:"G=* V5A @ fm"'|Od| }}k';$=y/]!- 54 Z   KP/_}!@JO)U& `UsP@ b"0q3s*_.{<@e!@ @ <  .-k+_=qS=KsVDN=
pWi V4@ @ &~H3D\7&nB1/".Y	$    uI@ 8A&_=ZWDQD|Ul pAl  `SkP@ l6=6.2)WR~eNyyJFy@C )    `@&mnU/L=})}W_) b-@ # `YP@ 5c)R(WO~'  R)  
l',Bz3iwdvWc @\:9"  `"G}U$	D~s^CF|H /e2F 	p}k J  U{%"Jazbo.mgCB,9WdhG@ g q2Z QcQT@ ;"lmz_kD~9w]%Sg,:K,}J[@ " -  ds"}Kd)RhVH3Z\Dz_1f"rWz:e+H@>Odb\) 1n<  %l]vOXv*[g_I=OG[GUJ9@ mQH}% `_P"@ <\"c6'?r_5k1kj:fK FO9 | X@ FO9I=]?-m-"|k-oVuOYY=/  .@  tr2D @ b_^|Q-D-2iZ}u	U'$@-

W|xzEE@\pA\@A$}%	a_$O{tj]S]uW~>]tKN )$@-  [`WmmZ;>}~mw'F*[/H {M>E  Gc_4`@}Q	KuHTv,~7= .X pCh  u?iKz{t~xg]$u&@%X@ 4K{9x0N:^R~Hfr@G>R|^# 8 @N	  E`A~=K{]*u;c
iYooS+[w@ # i uA @ 6N<_}@22~(L>V_{G 4	d6@>'Pg@ t}.vY	rH!&afkS3	>r,kH # y u	B @vG 1/#MS?Q_J#\T>H@U u u	B @F<m5VKwc7+n;Q$lkWJo|@  ! S  u@*'+&u?sI$}v{$u~|dO9H@.) y|@ dg?,i`J^m?vdq:;~+y?$e E 9%>Ki  T#J=]dTrR{tqnK@ ?Nv+	 w!  P^K_:|$Kw|vezWjw%RT;@ dX&Z@ ,C_/&}3_me=RI75HO,@ =% .mA @&$J&j>lf7\{fv?U>-LvrY%Njo[r # H
D$ "j@ @}>]@7e}5rwhm-C
x	# s]B@ (!`*)UmRjg!N<,<h_  	 @ )iRWm}VL1]J+=~S}KE[GDmr^Qg$_  :k=B{@ (}4lzncm'_HaK|HgVk@ } HCgL)  I&:Tn\#M -zR2f'}f}\ X$<1 NvB Hn&|rMSgbiIe=zjsSv! l&% .mA @
3Yf&W%^.<Ejjld^-b+ XK9$   rKn{h'KEn?rKX#YH@^&\ @ 
9K<W	7CJ7E6OiW }Fr93R@+@C   $;io3_we>pt)m#=3('2t"y@$T  @'[/vRv/|Jew\#YH@4D$ Z  fFNKdO<Qjid_laKqtSwJ8C[ g uA Hz|N2#eV-~+r%K?&GD 
r3l% .mA H~;=[L	7,|U6AZ}}=liC*Q^.YVcsTH@FdX|@|# UJz\[L	w@	_ea#T2Hw#cr4H@NX/ pCh @ks?~N.[oIfGV 3Mu80D Dd%Z@ 
|{~~l>1&Wm?d?GWo[J_}X:h,l;R @@6lK: @N	  	st&D+$'@oi6I6y4hA7   FN@YO8PV$^o^'M5@]fFLd"G{H@. u+	 :  $H`AO.}TBG[B|b?o"7G){qd iX&X@ }GrB5:++C;GA @lH h( @lo}w3q[7|4Toy~c?h@ {l.$"	 :  \`fvst}c~"l~5=;k~vwK 9%@1  PiXF_m?$L8/+Wn7UKYF 2LZW pGh @<olP%|jw8U_{$"#QovWG
G p{I>E  q?MKZl{	a!6Y-~+"9FF@brVp3I 8!4@ f[o?b5<V{O=iIyp?Z:xe(u:Ht"Nu[5  H`(4KDjiy6'm9?g2wOw+_t @:A ! S @Y0C6"'W)U{?`~rJY8  	 @ b+-[V=@u3}L~,gN9D~vZ! +@e  .
tM^7n4o4ega=#G\@ :
 #.F Hr{	lt?rtfMhn_J1X 8#@!  NPYU0YJBzu?"w4x3,uq0k.H .m@ p[`n^kWM[V2NZ|_K=Gzk>@D@ w # 8.A	w
nt\ORr4~qt!uD%_ @$h$ 0 @&2KyK{ (*!W.E	&o\E   	;@ YJS<u=rJ}QN NNG:qh [|ZMj^ibL;Sdti;/~jF 4
>.s''GC 1Aq??o&w?mwN6C|Vf6@R	7ZV Hxsz  U'Os!]f/.W|K(NaE@ 4 QS |9?y[&%	9YK#?Wu<gI".oOriGG6I DO  .5;fftH-M{L`/l^s%>U-bfwy{)s+.!@&@'@ >M?Tui8~6c;O2Kl_;Q&q@  Tw@ P	-?tvf|;oCkZSev.Jj8B H 	d+g  PIsglR+dsaIUyZ%*vT  $ 
0x  /X=I	5 6lD~Q{)}{ @9 u	B wk8xZ$5_7m?,7Qz{.fQ@  h,@ :QH^l|ZH)}Q@  h,@ 1<\Z5&86s>,y_)?I+u\N4i[B   psh @@yj	$rq~5}>yM3~&FKV^Q
@ $ R8 !l6aMep
+C"yH8" D$@ "xE A~WB*j	IhGuU.<`3?_K%lr=gC @ 	 HA  ?vt9?W ])f4uJh $    P@fK&x;FH'WRvE'H"   1$  S5?Hp4fgHs;n@6wwB @` 	 
  87m?$_ifGNvJ~zsE,6WRvvE@ &$ bQ4@=nU8r>oo	/o	}s	AB H@T@ 	q[UW^r7|o'k\6Fdw+tE@ f$ ba4@@6[bgvy[*J)+ZJ~*e;]kA -@ 4'D?oO2W?swAo>?_>     l)gF|d$\	IN<_}]+erk-=  1 N  }\K}}Hn;R5	b|9KzvI+bove	@ $ bi4@MjD3R?X>"oZtiwCJObh @LH h6 @'71eY?=oV3fO7_F\@ }  yOt=?O&_8&vlq|ty.:i7" @ 1$ ^}7p$oWM3Q^;bf}DS2@ H @ SOAz/*)Ij?!HzC>92n-  1  @*K/}[ iJ99ot+L7-~#P/ @
H 9E@ &3Ku6+]{4V?n4vJ37^  @]H " KOU` m fw;{E?^{v1(<;;{
@  +E YJ~|'o$&}r{e3}  @$ B@
@ $@'KkekNm,h? @H h* hZKtNH4.wG{=_0.l  tR  @ IDAT(@ DlB CboV&]~I ;YE%u,6\N{]gVi0@ 6   @PwT,!g ^-)KloYU!?7V/3|@ H FME  =2&PsU$S_^,zMh&meLFGk6Ip  1 N @"~h=?;	;+codtU.dw.Wmd9V{4,wvN6#i_ki5uW-wM@ >H I  uW%=/V;1M'lvS26	5g7o+-D HW  !
m&+estM_GoxC2w4]|r?S@ :0@`d0B|{A.+	 ZWXGM/57+?l$iv"EsA pV vC $`c]o)mOVSj?WG_co-/ nkuk5"  PW u  ]?Da ?>_ 3CNH~f.Q2'Mjk_G~   @4>  SB5y$OrQ>Uo=RI!7O.;!sq)]Kki' @H 9U@ TpWO$xot.7m!;&v4jkUgh= @bH $k91@ B/Q vI B[m+6q9|o'~k&4!   	 ;&! C{I> ` />ww,~FWA_H27-]tZ~@  D7@ !v<;+6	p9$
jmq2fVJ<I0I  N@# 
Ild >=sJfX%Qfh6mIHv6@  x<@ v?xX,[&w/ x/826/wWwNZ\8@ T HE7s @losT3ipsDs5.WiWm.J~2~&rI=vU>gewz  \ a779}@ l/Sa\$iisf	8?CaLL4n_0n%la>l  H 1, 8%`W{^`=>"=ywe$WW..]@  `$@ ?<3o c;_a.bFD$mkmO|~A H 	t4 *Kv=4l3	-sy/J/%%m?"M>YZz8  @H C" 8wSqr[n+~1|K;VG#+55TnB&_%mvf @0e" k~{md;bbpLs.w_>ttvHv@ " E D C?ak`AAo'yr<, Xc]$q+."  PR@Iv" acW^_^o',{w5v?on$[W>nr923Gr  @$ @ .86x[(?vH7${E7mffQ^ki=~w)3{Y@ 	 HPgr* @4kloR9j>|3A]pj>L]>hGAL<Lv=`{[W<"   JNXzpvR%onI~$OJf=  D@L:f" 
|w%_&{n^{E{/=.]&T*mj~I J^^  $F@bA 8\:X-xup~dfMLo)^V|.0CM.	HvJ]JGns  T P@ T		g)/_o{W{05aFH#=vc9l$p,q	`yxD @ $  PT*72W2|}pf8KSp6;6yv{+7&{c$M!   )dN%`56M<k:4\/g4x3-T0q4fJ	b`8;Zn# @BH $#9@_5k|6K-zCzEml?aV[|)Sn SN6I s;@= +m-{e9?=@ H 	Dw/' mh^go5^Yoz~r-\[!&$LWjm'r  5	 ! 	9E{]r{(>l^og}&	`
A&<$]+'/5 @H 9U@H?-.3m4c
mS{/&& vN/Uf~,g-|#(  `sY@ v7'/B{*j f"A;|-08vS.9W?~}F@  8)D H~OH_iv_WjkMgE:risgf8mG L@`@ q=}_	I)f$$]o&Sm;>;len!  P7 u  N~
}VNX(o{*hk#ErIxs$ O n1	d/g  P@-Q:iA%s,[4p|N~@ %@_|p  @PW:R:J%%:NzeV:xe}}=K[;dgH\OCos @#v{Rp	5JJcC D.8n=Nb v$S'{~miZ3kG@ ( Juldpg.gfC ]{'8&p 3Ki?kpE Dw;H tS8$qC#m @Rhh}I!eo[p~	@ aG 0hS  UD{MI ;!$]gH2{#@ Rot9 \e+*{5K_1oI?s'0I/ki7  
 Oe+D@QH^"0~L|>?pUi/-E @ b w@R@ @0Y.-zMZh/KML>E^	?IN@ `H "@ i /.g='u$7ZW2n_i1   7qX @@ND{I-Mo|>UEwh>pcd  +$ \`F! 
|msfav(vDitUKO8  ) Z
k=B{@ Il_UOm)]k@ @ 	N:
 $QoovR>;|on:D,0KVZI'[&$*vio+-D )$@-  c40d|o<SzPyimn[6{{?k3#&$@{tO%Ol  	j\ #^oXkg?M??'~j  []_}g\v9p\vqI]kA '` )Om
n3KOcG??6Q@ {c@>  .Fv8g v$9s-L6#Dl    	(:P& Qr@ M|jq]Ln7 3(0T<T4[hjv6@ x0sG.a z  }@|z^qOs?Jvv$?^Z6x@  JH TNY;@EG};Q]fomM4s_I,G4;NZy.  ,@f@>+'&H39 BFn_}3YanBLj`J&_|y@ %@_|up/!@ CM`o'{g\zwLz- ?1	exw5:@ `0}ES2FY;u! Y~If/	0	6	bt	Rs  I{H D%'P] @M6(,?\xe$}f$nvI @IW  N
 p[r& uB x{|v>{~68|?{tt$/&l    	}W] @lOJ{(UME607g-}nLD)cr$@ %@Sa]C]>*@ ->Mi>z~`{]vs;3'yM{L0#Zw@ @.		.V!I Cg#}_?$K\o1WZ   1d l  ='mexQAzpIq@m4)$+OHSv	B6@ L@d}T
F 'cqvKuHc.P^+GfiB{  D*@ RRg@ WM}6	`oGIK~%7	0GT  IdX>%X@ <L:p)`o8 9I-t3-w@ kH1X@I_,VMK\ n8#s@@  	s @ Vv6f^`kM<}(]'e)   
 We D!Hn23/ s$I+xp9&  8)@na z @X;)4I#`GY$?>xbfwn26@ <&$y$LWlhH9 \ !l4v*6	'9K9!ts@ `~3X;!4/i[.j(-`'[I {J){UI\~e
9  8*;{,l)@ ea['z&6	pMPYg|t?/J!   	 :GX/@ [m|1;Kh.  i 7 $ .0||SK|K<G H  : \[ Z A
lU~mv+H?Q9 @'Xp9 SG{\VH"   	Vc> w3,spE @ $ ZnpOhWc15;Z@  @;$ O#svX3+uML>_I+-  )$}D	H+{ls?N<sL@ `+Iy;t nN Po**@ @ pH ]lP@ ZuSU}`?  Xk* A js+~/uZ    tA8  DNw%8E @  @v	hH E7@}&tH D%rK_[{}} @w@])M'-}@  	 zdC b$0t4v
K4ei5qj5mE @ ~
 '`D hT bQ{I!  $ @]B@'rP,3{{/w5@ " z*P7@{i\w;*6Yt'*   $Wk}a  @@	X}rtOm"C @ pH  $.8^k/=nT  $H{sN G@ 60C~tZs~;/4>m   Pw u'   (ThS   @rH 8 F 8'4+i" $W $yf$ \7F #t_R{k|LK@ -kLe.9W?}n,=tM<K+@ @ 2 8? ` !WUeStfW1
#  @:H 8qKhiS3;u_3+nZ   	 tfYH`G#D @ t&R$ *	~9 @6;aS;k9KzbK--  `.%!~U&(n@ `+[.0f!  @H 89npOh	4ln
U\_U    uSe ]@l?aV>\kOsb{
4@  N_t$2A ;nO#wi&^ji  O  *@ vL7E:<_'2YK@ FL\g pKr>5$O`&KC6O+^~"gB@ @A u
	 !+M9%L$]s   	 pC A 9?(lv{41fY5  $Ks_	B nvbj_Ko>fh  `$ ZAf  n	(kK5$   I`@zk]!Zb-`DT6K7/=1f@ H 	h~ G$	0|g[i2F@ @ $ IH@uz]Lw?%;    	+T+ 6T  eNZvS  0	`z M W`+g?`>]pU@ 0<k5 	V,7 EM=$Oc0=zi^y/   t	 p '8x-dog!   	 p3cv(  ]ZL'h@ @ j zO	;@ 	oGis~mv@ \` z-$  8'4G	K]@ )@'TXLO ,lA ^yBRB@ @ $ | Z$G To*C ZSt]@ @ *H T	V# LX?    /?e@G]W3W   S@?qF C"{S3  *@ P c 94vlk|;@ @ :	 l:k,D 	T{+~aS @2LN(gC>k}B{J`UW9c@ 1y=	
y&Z!O{d3?t_85!  @$ BT],Y%"G LpkWIYz	ZC@ H  8$   'fJLZ@ H 7i uINYD{@ $M5HVrxuR    	;\e Mx@*Yh.:Z@ @ GH 8R"@NG/~,{iG-  ]9  KM]}h'@_CJXM  xI8H7uA YV@ p\{D>E/`JCl(55H7@ J[ ^ } P''.m&$57   :d$ POW3E5$V{y?pD*F @ =8AD "@_nk6]"=x. sT@ )VD=H Scgp]>=4QJkW@ j1v|@}\={~  ft
@ 0S"AH gX: HCLby`q9  d$p$ +oF?X/'[6?r4@ Lfx]Ak P3]>0:rXB |Zi~v?6@ @pQ$ \  QO*:Ujj@ H 	:XS3~4Bi#Gii8[@ E@(T W	3;%FO#  @U I E`\3vvGn!5|>     	mx'`	Ow7rq     	(9RoIY&<I@@ @ 	 D)@ o?{:Tjo	   @r&>wH 8!4b"@_[Gtjs@ @ T rS$B`fiwMKJ"   *@ PN W	wsStc7HQ@ @ p r@H wmg	o4ER:$  $G # p7I 8!4 1>.0-J"   ]@ b/@#wg   @$ B\YN9nD	 l}3-*sQ@ 	o:tcBs@!.=rt|YE @ 	r96H  /sn(ZR"   8#@aLG,7Bi6Qz}+me      PS3	U^?VI'o7S<F @ 6%PE Z^3`/v  {[J\-{d!   *$ B]MKk(@#FInU={4s\gC @   Pg` 1?7vkq@ @ b/@.492nuOhN	?QSQ"   @EbD QA[K\&=trA|8  0o J2\P)k}&9-@ Le #b }DIT&mwMJ9IwIOSs    X	DH%	+cStiy@ `~+G"@ 1iuIMLwr"    	 )Hk=s	"   m* 6	+gF#`T-g1S+Ug   _ L f pt-oX%}Y'   @93YuR_y }B7$ts*L@+G[  G $ .9q?Bi/bM.E@ @ f +9$ X.9qWMOv5	u;K@ .ak]LacBs'asfNDl   oofT@E BRU9)>$=E   @#/U9	R*3?:[m'OHM^|<D@ @ }Z pGr,XXt^M
'0AVwF"  @ 7wS83]oH.* u	q]IWH,<@ @ u\pI 8#,@vQ=JM&	   Z\> # V#	;_0I8@ 0un1	 vg
,t=rJ	x=WbiRg>@ @ 9F y$ \G'?8'RW}8GL@ @  9qq3 A @ e@#CIcrxv3Vh3   [q&[+$ q]K;	 VLNgj&Lz%)#  @^ Osr}WvEKOro$A @ $
r2K$0 |[7t.mB @ l}BoXO)@59 j`#ix_8lo M>!q+   `@dk<.	,e&Cf.6B@ @YC sKSg;Y~r6-',j.@ M + gE$ |BU$aaSOn5w0oU   @, * +a2iSs;#LsVy6	p]baH}   nvWH 8!Xl_$lOO,	@ pT3k[;zk	 tiskcM9_`SWoy?utYu!   N
lXQ$ 748$@}	P~{x K2iI"   @fwqI lQ^X$Q'~| QoHfD&G @ Bv' l$B/U	R*WQ 0{+mG$A_?kWz$!   @sfsTD|$ "Qd7quj;1	py?{}4#r<@ @ Vf@=bXPK No 0 nNWJMRWI=I (J!  @RZ;K& z8/ wSD@' D+>	W2	`G,!   )hbO@}+E-^ avu Gl4j<"   hvvI 8;=gt4	*H?~Fp  $T=-3i J^/U&a]gf>j p:0z@ pP3kWy 	+WF@=$7Ia&X	%@ @ mv{)pI ^KrLG'Fr;ir   Bm5;	 7:G6S9q_hEa^kIE7m &   VanD* Q@Y
#E$g*hoOv.W#  @L63#}>EA k]"Wx?>y{ Px@ +0g=	 w:&mwEK)B5u}~{UK/U#w|@ @.{jz{@w4/$ *K="X8/Ra96	P9k   @*:5E'jcROQ1^S@=uk<vS 5(S$V8n*D @ :sMX_\: ]{f v{cvif"$9  D#cT} :+[ ZSR jGx`w[th0(   @:7j1N1h~bH~M p_hI)8^I</)$ {~k	   @F x1P=\9A D/f -K w.Q&@ @ mi
cO
;E f$`$+j 3Al$ P   NqQ"Ffr,X$n4V A 	$R
"	   $Z9=;_[- ! /zgV|W I'v`YteyD @ -yNO#f:qu*]I6	p'k{d9  N$E wByY3o=-H@Ii ]}3|@ @C[$61g& K}{(::sko5"P ;j N=	^<"   X3}>KhN@tPkiz4^gWxZ%yJ"   1yEQExYO ch,T4>@-i=j 7/9G@ @ \o8''"MujsshFWuK/C [n^[@ R!'Z]SI 7/c}iAzj }U.C	@ @ m+)%$ J?dvF 7fO<j #MG@ @ {[)&J+'ECz=	 w&=-hzVxG}gn2@ @ b,cG`T	<\II|Y^}}vi};   @wz3=YX'u:.[ cf0}}g}[|ld65G`RE3
iV/g 0~FH2j
-~Crii@ @ Evcgym~h7 yfKVT/|ndR<{I3v[O	Xf![H;8?#
`l?Zjk0ge4J   @RV5yK8Ii<H m_B\  @ IDATtnl{DZ@{fmo>=+hR;$>8m#vg$l/p@ M`AcK ^c=CkI$ Z:r+ w{U/P<`#yF86	Pt*D @ .R# l_*//D	+q}<cPwA Z q` oQO/#  @r%\e8r>O5O'O _~eh%@ n&y:pf?6@ @ Y >>Q hv^%!@RxD @ Psg](wJzwjs| @ @ H`}Gv{Zd_E$@ "xS~Ys,0l     7bW>C rQ^" M@ @ pR`6o4G'F pn5      ^X4S{{:<'@ <R5y?bx[}M@ @ pF`eLcbyxI@He)x?m|@ @ @ 'Z;Ko0gh}- QeA5(n@ @ @k
 -:
 #n?-Z;P@ @ D;7#in "geZE8G @ @ 	6_xsH De@J ]y     8%qSmOKcH D^GU]u#    )uM
c>5	 +7}~4V@ @ @@Nl)x@ 	zVl/1ho}C	@ @ @ No{mb{H FgEz~4o      m|4W,qH@H/K`r3Ci:F     @I^5o3l>u} 	}Tc[%(B#    3/iz4iz24@_mIJZ6     8'pS_0*gl= {oac# +jF @ @ >Z:__jb~>gsD#Q (B%    D/(/GPZ- }I3~w^6[X{i    \`A`{P*wy?[Axox@ @ @MsLqKsfH@D}T[(e]fXl     \kmy^' u8~5      uXvuw-}9$ O/|d@ @ \`M#J/6zl
 Tm}m$k
?7[g_G @ @ xw.^=,C@0~^ooyS;D9T     'JC}yW 	V GM@ @ @ YdK8!*	 ({}]?3\L.hF     @^`//kq9^A@Pk8#!?V775uXC|@ @ L2+al=s 	 :aC#=,Zjhl     @$9N|dsGHGH v	s{uz? ug_`!     nx/fb> J1Y^r}7@ @ @ :
o"8n^Vl pJ4x=2jXm %     }OZx>z1houH CxJ=k]?W<^)     [3gmd/N{} 	;`CQj~0<@ @ @ k{TW+[EU~H Q
c)|~\ckoh|5Q    ]e/^b+|\5$ >hJ~d     @g.'y>x 	+TW)~/x@PF @ @ 7u*ZWbj+e#[@	;@_G']X8     PF5o{Aa|bw_,sP@e~H+|-Xv     @6k;m`Ok9"@? =ny{}|     @`#6V_:{ 	Th*=v~1ke[     @f-]w9R1o9$@0M?z<@ @ @ d9xXdk/f 7
<s]     ,4sn0^%<H 8M?x~d]^X56@ @ @ h5cYxqIq`_9"@(Ik1     K.=y0P*.b~'@~Gc_p]J     PJ[n5c^1H D_eGe=~o|w}U     @\b
?^ce9(@N$Tkosth    M`ES3Yiw80VNfsHCQ#G<y6wt.-8O@ @ @ ^Xnx1}wP]:NOOh4"@B	+ k.61]8cek[ P( PbQ9uO
{*tTsj7T>g#@UOD7nzsN @ @ @@._csCS+V$	f/0@ @ Hx'	X h7$ttX_7Q2<yW<4#     U0#jSn8q, 8jGo cU	{\mr@ @ @ 4}g?|(6i~X 8o@MGtGO>mdnus3@ @ 8J>4F @	5:l     @]&rmkN3,)OcBo, 4N-fQ7nMy]k7qv     hl_1y*Hz3*TMoB+n\G}#|
*]     pdo[wOhrS;, 	`VN	m~K7
G`      5,*+PF`sOQ7f9>ob}7%OC+     pX~57c$MyEm6b	 @oFSfT2)?|*s     m.jFr!~>is| L?.={tD@ @ @ (sBr[=T$z
 oJSG>o{pW0/]     /r>eH\puZ[n.     @YlrByry9(4  n8FM*~>     PX~e{B>O-|bsne`7EbcC!     %{H]PQ.E ]E&`4nJfMR;]ku-    @_a~%>Br#uj;, LG%IH9M?k98?     .`_
\B9D\|6&`I(wGrr=Y|~@ @ XC@Gv>^s^: YOeZS_Nr{9    D-|ka!|rwVgk" J9UvcZ*V{=`6R|4#    @|kKByB7<CybueUeUe-Xb\.2krw1l     F{sO_q.YI~.6+O$7KW@7v&U/|my/3G @ @ zbwa8OPhg(ZoqQnP N7_7bn_?Gj8C@ @ @7}~p)6<#~D{^ 7_O~`i~ @ @ 	ds%I9B8~zkckB Msx9F+_x^ln"    -?e47.-)Gm%,8hA$`M0:{:;^+x"     '\O|J=  ^|o@kn`_V[)wo$M    4@Xm Yn+krhfkV ;uSo`(D>iiA @ @ fxh|kJ FfhsW ZG}/ ,Z{BM:C     Cua
S6->p![@.*>	Pj~ixE     bmDrv-[\}D&yj8n\bi]\8R     ,G;7S}G<t,Pek~?o>+ t0;y-]6V@ @ O>B#K}& Mfp1jj/'=fp@ @ h0WM~_Or q:, jYi!@ ,
?s4ooKL@ @ @7}{wiJ-ZD_h72}Um!^BX|g.9l>6@ @ hPcSOg)%}?P', zdP}r#qz_'     '~54gOj'j1i )f[	Fx*]/M7nx#@ @ h!}pUGLy_(*_h!.%` itEVmQM)^Sa5Q@ @ @3kT8+5V]\O4s6$ [X<f=<mOj""    4^
|OW? ~]$Z, bohE ph;6zyKOsq1hB @ @  +G~089^E%,b%IVz7_njK(7}7n|b0@ @ B[7	?d_Q?\@9EkR|'~S=)'*t7O</[S>?!e@ @ ['YpTK-C<E=W]6^(  N8]>-*DJ}x*6@ @ V`XB&?^ }
@_s~4 PNJ{<m_I     07+Nz~@c,ZO?7oUEOw8jV@C+qM^sg,@ @ RrockLAGT1h] ZveZ /yh1@sV;     0?h'n0qYc|s;1 ort EuW hL)Nw?N~KOgHD @ @ g?_sK3|KGvzEo .i	|]e:n>8m] 2    3&&%>y1Qs	 \L{	D}o=c;3nMJD @ @ <<+_LxX+j@WCAvx'I# `}*{;G,~! oL@ @ vglPJ'J?)hZ "&ST}I[vjiN& "    	N#?%`c;j Z<40(7y-{&""    @}w>o|$z%I`'^}u%:R_a\BD @ @f;U__e;@rEJUd?fI;    _cyp_K}~, [)>JUW}]sX@ @ =a'qY W?8#BxkH%i;?6Xjc@ @ ,0+{wJ%O{oA[ os'*+r kr]fl     pX /~5VK+SO , *+Z>e{_C/_<@ @ hW\aoi_>Oc+*WlWb	 0(*~!vS={/\2L&!B @ @_}k?z%W6}OCG
 pqz}/W_w^t7 B"   @	Mwk>z=k@=OzqiOyn_XU*@m$?|mUK1|i."    -+0o}/|E	y%>jlO_Ib:ra PY;<fIJm__`/[>puXT@ @ Z^`?kl(\%i'Z8 :H@NjS?6&s|\Lv$"    G+>v(;/-W?_ ?oE:iX !F	6>+uxxC%o;(     B/WJ'-%/ 2, b{Z8iy`wuwTA @ @Y1KoX+%qos(H%AL` %)f?&[F7w</ZY !    ,7wb_Z,bf!<P9nC>\}f<MN;    .m~s=X-~%>W, ,=pVhg[W~6_
 @ @ E`({9+qW" ?c~@sXoeH bhY@	{!*X}C|uk~[F?|_@ @ [`/~>{`b$w%J-_u.@u#F$%m"w.uv&"    me_[|w%J+*WTE9+[], H'QW]U?/wlN~v{qI=+\~'    ,L
mox(sK'J}}m%`~38R`6S]=gl:3}G5@ @ Nosu3{- I%J}i,y+, <9S 6>r-w==>g+t.     [5_};r0LxIOISiYdnk eNzu^=jX~#p5WX    
Mv>7Ol__Q%VS~E%oQsl%Vl_9m<xNx]OgL@ @ H04'n0+]IO%$m	#^zo+Z9>	qW\\]gC @ @`Vro_wo8O%J 'jq>y_14fF'k33# pYh,Z2O}k=,N@`@cC @ 9u_c}u^I|E-&(W23&`	!P)Kk8}'N_ti    @=Oyo?01I_ J}O8`QZy7a3#Pk63GcvE4_OO 4Ww?~vwfkF @ 8~O??j0z-(j@ $61CJ%3 `e%>e ,jAsfv_|~EL    S[n]s[+*yW2o'Ek_`8N/3(ld*%J+~%IQc9;^>txV4"    pH`}{5r04)9WO~ib_{E HJj kL`#kZWRf@ @ 68oG>,	-W^ J}T~kk^%>0P"633#J $? jEW;oee@F+   @;	
npX+1W%>WY}J<V&qVAHYk_QZ Pm~?9+}x~wi@ @M7|\	O+}osX]sCsx>ZY _ _	~} X^ }=}LE@ @ 6~]'%[8N/s 98@(}d^J-i~"@OsKT&~6@ @ i|i_ z=1)Wk.(Y-ND`Nt8):>aW2oQTB +W,;.?7^wU!   #;Fn;|cX~*\qJhe_Xu%J/	(s@"XJCE %i5NQ(cd>kV|hYEQE @ h"b[?8\J}X?JM'l}lOYY	J-*Oo<_^>   @Bfp=d\QIE%J~-hJ$f
X@	G%>q	{-M)W)O.?sl@ 8B $yCvCOlwD?-%FDrd@er+W@+W\6u}W\s    BqbCnzxR\}[}]?>'l}lPRrsB#.>Uh/%>yWG%q<*XW-?_}]pLA @ f[c}Cxr)Wbn	+WBd_UX!p!:WX/1tW`>]_>%a   s'q+aqVV$~OsXVME 4@)iDH_Jmk'>O}YCh[<o;c{ul@ @ fZ`p/t0+h	u>Wb}_VGsc@C	(idH_*[/%z_1NU<8v_^oF6@ @ c*~j];zp0&U9-Wd>&_ VhxKbh6uDJ}8*mZt{}szI_y    P@<2[7eaSD;N_I:b&7Ts1gUJDZ=i!O:]|\@oJ<@ @ d]cS7?<d	}Yul49aNHlQ/[Y/%VWYQVcMcR-?OUZsu!   *P(FO=k{rkdOUVt]U+j;u<T^VgC),YaC8	W=N-6%I1WbXg6Ux9K}SzW}Mi    -.+N|#|i0;y-M	wRt+1v,.C`k%(q5\Eg|+*Aw%GW1DEK+/Wm   
cuCy?{t3cRmfm>	%GKDV1l}eB6ZM]\'V%qT_ P[5E;i k-.{E;oqu==@ @ OirZwJ}rRb'RtvFD)|4sT6h8oK+CsW,%]S^www.@ @ (&~xSgw@+.\	+6}y)R' J:8J-^6iuSTnS|r.Xg]W--:3ns!   s"x#5_F$Zui/K/N}'ie>5|Z_6A;J]e-Ec|l_h?/>._pY{;y^N)u   0CM{&r/'>/}hmIe%6F8IyG_qku\kSYc\:-%.AWb'>"~lI`mUE'w)={aNs"""  @@6_o	iK5RuZ-8VOUV~d>6EGUkmq?V6	4^uI/$^e%VWYQc|R=)6+fuyy:{8W.Z9dC @ Sm'rwmm7ePv|]hmi/%>e'[srh.mql@)1hB8R WbK'q]KIbWv}T>l+,=S3OYy{2t-}GD @ 
cS!~WG>ctw6;tioO*[UN'%J*h:|Z6thr&e"$[eKf'q_9TKr\peg-]gy]WO?,d   ,~4$kl~S{7g>|]lNC'%q'fQ/;JVNd_ch[}[i  n^Auq~A )W[Qsj>eeTlmi~)W`Yw@_WL&| 3+	  T82U(McX6?&}6?6dcC;Y?<1x5$"TETV[R64yz^k9jQV@[
oH}r|J|oSb\V[R	}/[ml<S;oQowCy^ggoO/:z:1tu83am#eBsG#al)$SF h^B#W(|1cCllG.W,]6O'\6M:&O
\a2<LMMd;&G{'r{&3>Z%lI+Eg%jWG+'hsTba|YmDVm#0-he-yWIXxiq^rrR=f8l;  )0ds&|=6+/eIU1.'-n9}[|-tND C	|IzrZVS}II1[6?iKk:.l]  J*g7mlXkYc'ggsu'-{d})N A2@>QluJJfm6inz-u+EfV9g9iG hO8G}TV[RmVN=)*AWeChf[[ND ~HN@	{UOU5<1j)eqr-m6o%ZZ  J(jUM/Nki	kv<vlgR6l6Cb()}*[jKiI}-64Z]bTZ=-;>m@ SXZIzRYmIe/Iom?TQ>!@ \CQ ~m*[IukKKc_.Q8je[V~4^micc  |UzR9nSTe|RUKj* u
p`GF{c\|mIeY_t66NbG? XYVJcJu]k-'ULJ[u}IukcC cWjH|IY9jN}}]Zk'6t#X" @s
X2Zm4&/=nKWkWq*/nhi<fHxgiC m*'E:.j%1VMszZ[vg9 @3	TK,?i}TWLjSqiuW[RmVU'",	,2-vq  	IDAT5
$-j-]>K9'f|kG[u2 @cTVWo_<RU+/tTq9T'X4tm6OfAng)8FW+4]kmA<^?kz<^*O2 @kTK<+%mV6aQ}qrj4lqkMk?<@z@&G 7S..U*}VMM=i1@ [Jq_i1IjKImOjKrRlsM/Pz2*
T_JuT-i]HZ{T7r5qOD h|Zj*'mq6_O*t[|~/nm}ND y#8Q=Uv}X]R[Z9)# @IkqiIc|kizZn_hx9A(PNOj+SOs+V:7mN@ VXz4c'Uj $$orWWo]J>2k> " 4&_Jcmw'm2 M&Mq@=j[ZL4?m  #0Ios:qwqr P ?L@VxO~1j9  \%{xw 	AhI~2Wi7B J8 pA{aJ  #@:%W                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            PEt<]G    IENDB`ic11  PNG

   IHDR           szz   sRGB    DeXIfMM *    i                                       b  IDATX	WMLQ~PJ-P0V^x"M0Qjp8x@x0w1
hAAjX/6 KEiv4%yflPW!!`A$)D{	Vh1I	dII>$Hb$qB:I %H<Zk{<e/R__H}jb#cRd%w+\{AU"'IB.<\.-
A;0E]I2;Y*!h8$FRzoNufnRU+zp|s_^2%}<=@,Vj^%!	8<"eNzu_' [
pl  *5\Z3K9h,6>'DxyX:/]W?~Y_uBug3&"Vc5mhhV.`,g\.1f
qWX	4L'PTo.H2#<d({A{PCB<NYm/KR`QrODq|}{ <=P!n7z3m$Bx\|HUPXk~z![ @*Q@M ^@H]b@vB#x3ccxG \1wI_FE>g\hMBHREj^_A'$f<@CP$< G1]?D#3>2HOJUX$ekZI bd.<+or'I_hV!@ Pb;kVyunl`\u57ZBI P8H) 1\jxC	~L#0*D@(H802-.JG    IENDB`info  >bplist00
X$versionY$archiverT$topX$objects _NSKeyedArchiver	TrootU$nullWNS.keysZNS.objectsV$classTname_assetcatalog-referenceTicon !"Z$classnameX$classes\NSDictionary!#XNSObject$)27ILQS[ahp{             $                                                                                                                                                                                                                            Postman/Contents/Resources/._profile.json                                                           000644  000766  000024  00000024221 14767123777 021311  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                             Mac OS X            	   2  (_     (                                      ATTR      (  l  '%                 l     com.apple.cs.CodeDirectory     +    com.apple.cs.CodeEntitlements      .     com.apple.cs.CodeRequirements           com.apple.cs.CodeRequirements-1      #x  com.apple.cs.CodeSignature     (U   <  com.apple.quarantine               4         M             <profile H7H8Q7M5CK YlbLgQE cj                                         ;5F`N#                    d+`-;b}dpqq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>
                            profile                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK               4         M              <profile H7H8Q7M5CK J?dUb;'}^q3G                                                                6)OC7_`V8:c9*05f                                33I/z/|[d,y0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234449Z0/	*H	1" @,3Bk&DU0R|O0[	*Hcd	1N0+[xbGQIi8_I,q00-	`He Eu~e'wfH`gQz0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		W3iuDtIYYkdRmElpOF/RSSxxhTA=
		</data>
		<data>
		RfPgdaR+ZZSoHYqWJxn0d+63Zkg=
		</data>
	</array>
</dict>
</plist>
0	*H  FM`	#2v`"B5X}Z&i)WeG4e
"wh)V_D&8(wOV=2!hm14IB3Mquc|E~eC>~aXh[RW C9~mX}G+4)lEQp`%C^vbO6[uI`^2Iz^YMY(
&$}N$o0*H	10	*H010	+ 0z*H	ki0g*010	`He  kQ2&	'n-~EuRr%,20250320234449Z0~000KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234449Z0#	*H	1bwQ I>Lxq"0+*H	10006PK%!>?Y[0	*H  ~ j0<O!I}D20T\qan5 DmHhSmN?\{3Slv6|	CHTu@+JzkTX]i KSQuag{Y*Fvux/GKY){ioSE=5+k^D\v+0:91D+SjmK"J)2`M.{V`HtS      q/0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57                                                                                                                                                                                                                                                                                                                                                                                Postman/Contents/Resources/PaxHeader/profile.json                                                   000644  000766  000024  00000056621 14767123777 023056  x                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         119 LIBARCHIVE.xattr.com.apple.quarantine=MDA4Mzs2N2U2N2ExYTtTYWZhcmk7OEY5RDc4RkEtNUNFMS00MzhELUIzQUEtREE0ODY5NENGQTU3
95 SCHILY.xattr.com.apple.quarantine=0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57
12158 LIBARCHIVE.xattr.com.apple.cs.CodeSignature=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
9126 SCHILY.xattr.com.apple.cs.CodeSignature=0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234449Z0/	*H	1" @,3Bk&DU0R|O0[	*Hcd	1N0+[xbGQIi8_I,q00-	`He Eu~e'wfH`gQz0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		W3iuDtIYYkdRmElpOF/RSSxxhTA=
		</data>
		<data>
		RfPgdaR+ZZSoHYqWJxn0d+63Zkg=
		</data>
	</array>
</dict>
</plist>
0	*H  FM`	#2v`"B5X}Z&i)WeG4e
"wh)V_D&8(wOV=2!hm14IB3Mquc|E~eC>~aXh[RW C9~mX}G+4)lEQp`%C^vbO6[uI`^2Iz^YMY(
&$}N$o0*H	10	*H010	+ 0z*H	ki0g*010	`He  kQ2&	'n-~EuRr%,20250320234449Z0~000KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234449Z0#	*H	1bwQ I>Lxq"0+*H	10006PK%!>?Y[0	*H  ~ j0<O!I}D20T\qan5 DmHhSmN?\{3Slv6|	CHTu@+JzkTX]i KSQuag{Y*Fvux/GKY){ioSE=5+k^D\v+0:91D+SjmK"J)2`M.{V`HtS      
405 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements-1=+t4MAgAAAQcAAgIAAAEAAAAAAOcAAAA0AAAABQAAAAEAAABNIAIAAAAAAAAAAAAAAAAAPHByb2ZpbGUASDdIOFE3TTVDSwBKsNU/ZJRVomK/G407hhcnvxXlmRSUxrN9XnEz+9hHAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2KfRPtEOR2fLA+Te4X/tg+ZVWjzg6EmOFhjnoKjA1ZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+DOZM0nsL3r/rMnaqIvyL3xbZAiLLAV5/s6js7e90BU
313 SCHILY.xattr.com.apple.cs.CodeRequirements-1=             4         M              <profile H7H8Q7M5CK J?dUb;'}^q3G                                                                6)OC7_`V8:c9*05f                                33I/z/|[d,y
276 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements=+t4MAQAAAKgAAAABAAAAAwAAABT63gwAAAAAlAAAAAEAAAAGAAAAAgAAAAdwcm9maWxlAAAAAAYAAAAPAAAABgAAAA4AAAABAAAACiqGSIb3Y2QGAgYAAAAAAAAAAAAGAAAADgAAAAAAAAAKKoZIhvdjZAYBDQAAAAAAAAAAAAsAAAAAAAAACnN1YmplY3QuT1UAAAAAAAEAAAAKSDdIOFE3TTVDSwAA
216 SCHILY.xattr.com.apple.cs.CodeRequirements=                            profile                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK  
398 LIBARCHIVE.xattr.com.apple.cs.CodeEntitlements=+t5xcQAAAQM8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CiAgPGRpY3Q+CiAgICA8a2V5PmNvbS5hcHBsZS5zZWN1cml0eS5jcy5hbGxvdy1qaXQ8L2tleT4KICAgIDx0cnVlLz4KICA8L2RpY3Q+CjwvcGxpc3Q+Cg
307 SCHILY.xattr.com.apple.cs.CodeEntitlements=qq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>

304 LIBARCHIVE.xattr.com.apple.cs.CodeDirectory=+t4MAgAAAL8AAgIAAAEAAAAAAKsAAAA0AAAABQAAAAEAAABNFAEAAAAAAAAAAAAAAAAAPHByb2ZpbGUASDdIOFE3TTVDSwDvWbFsYkzz/mcN7lFFvMb0AIRjagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACphQCzsTuUNUauYIroTs0L2a67IwAAAAAAAAAAAAAAAAAAAAAAAAAAZCvaYC3fO2J99ODEZMH+v/bw63A
236 SCHILY.xattr.com.apple.cs.CodeDirectory=              4         M             <profile H7H8Q7M5CK YlbLgQE cj                                         ;5F`N#                    d+`-;b}dp
                                                                                                               Postman/Contents/Resources/profile.json                                                             000644  000766  000024  00000000115 14767123777 021070  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         {
  "name": "Postman",
  "company": "Postman",
  "installationOptions": {}
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                   Postman/Contents/MacOS/._Postman                                                                    000755  000766  000024  00000000324 14767124204 017275  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                             Mac OS X            	   2                                               ATTR             <                     <  com.apple.quarantine q/0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57                                                                                                                                                                                                                                                                                                             Postman/Contents/MacOS/PaxHeader/Postman                                                            000755  000766  000024  00000000326 14767124204 021033  x                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         119 LIBARCHIVE.xattr.com.apple.quarantine=MDA4Mzs2N2U2N2ExYTtTYWZhcmk7OEY5RDc4RkEtNUNFMS00MzhELUIzQUEtREE0ODY5NENGQTU3
95 SCHILY.xattr.com.apple.quarantine=0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57
                                                                                                                                                                                                                                                                                                          Postman/Contents/MacOS/Postman                                                                      000755  000766  000024  00000207200 14767124204 017062  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                                     h            H   __PAGEZERO                                                          __TEXT                  @               @                   __text          __TEXT               P                                 __stubs         __TEXT               T                               __stub_helper   __TEXT          L     l       L                           __cstring       __TEXT               #                                          __DATA_CONST     @      @       @       @                  __got           __DATA_CONST     @              @                                  __DATA                 @              @                   __la_symbol_ptr __DATA                8                                   __data          __DATA          8            8                                H   __LINKEDIT                          N                    "  0           H           P                      0        P                                                                     0      @executable_path/../Frameworks                /usr/lib/dyld             LLDUU1D\G<52                         (                      P                  @rpath/Electron Framework.framework/Electron Framework     8            8   /usr/lib/libSystem.B.dylib              pK                                  O{C    W   4  P     @9  4{AOE  {AO=  {	C@O =   RC  6>   @% q! T X@ 0  p 0     R3  6.   @% q! T X@	 0 	 0     @ R#  6   @% q! T X@ 0  0   {I_P  @ P  @ P  
@ P  @ P  @ P  @ P  @ Q  1 G0  @ P      P     P  =   P  K   P  {   P     P     ELECTRON_RUN_AS_NODE /dev/null r w                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      d     p     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # W    @___stderrp Qr @___stdoutp Q@___stdinp Q@dyld_stub_binder Q        s @_ElectronMain  s@_ElectronInitializeICUandStartNode  s@_getenv  s@__ZN8electron5fuses18IsRunAsNodeEnabledEv  s @_freopen  s(@___error  s0@_fstat     __mh_execute_header            <   BEa               B             e                                                                                           {             s                                                  	      
               	      
       __mh_execute_header __ZN8electron5fuses18IsRunAsNodeEnabledEv _ElectronInitializeICUandStartNode _ElectronMain _getenv _fstat ___error _freopen ___stdinp ___stdoutp ___stderrp dyld_stub_binder radr://5614542               (N          4     3                        _   `                     t                          @               com.postmanlabs.mac H7H8Q7M5CK )<K`)@d({                                J?dUb;'}^q3G                                rN6K'W99nd* 
mCdw<)q?|HGo!Vad=lz>jbU8PM!TXHaX}GlXofkOX||zH,XofkOX||zH,XofkOX||zH,XofkOX||zH,XofkOX||zH,XofkOX||zH,XofkOX||zH,E#l,k4f[mtQ{XofkOX||zH,XofkOX||zH,XofkOX||zH,Cy2 UZ'AsG                            com.postmanlabs.mac                   
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK  qq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>
qr   5p+&0$com.apple.security.cs.allow-jit  #/0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1\0X00y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He 0	*H	1	*H0	*H	1250320234508Z0/	*H	1" ?;N[fw u40<	*Hcd	1/0-	`He ?;N[fw u40)	*Hcd	1<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		mN+gwj+SxtT0/eI7mB9OW+xmdxQ=
		</data>
	</array>
</dict>
</plist>
0	*H  4#v;gatpB`+]n`;)jz{^[yo;&tC^>;JCa,tPzb0">%$'b9t(Hf}Zu[Ma~x2lSb(K_fTSU.; jN<l):X	G3uiR^Y0*H	10	*H010	+ 0z*H	ki0g*010	`He  4a~T
A(%Nk$!20250320234508Z0nf00R;u.w0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250311154732Z250422154731Z0A10UTimestamp Signer MA210U

Apple Inc.10	UUS0"0	*H  0
 PPha4t
OdnA&mF*C;-3(M?6>EVn6k(jV[{"M}cGq(GV[!%UZ"?m5"x5@D)?nn--l%CWt] o\$M|a<6IAGUzOd\<y 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U)~bB'?/L
qs0U0	*H  $B_/nbq/I^;.s6q?`A~md%A/`	|"WK!7'-!cU`\KLv
]*S8Nth]dw*4|=q_]p{bCwT/0eY]?1B#q@LPX5_uDH80pKV9"9T3`00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSR;u.w0	+ 0	*H	1*H	0	*H	1250320234508Z0#	*H	1(Q+
0+*H	1000'8h]4^b$0	*H  o*CX(4%]9E3Y]*y60DARtcuUAU$.jUcUR [T6a?soPlv:C	Cw@ .tNZ:*F8fRea[M+''y*;$Gv{!A~ZXhv>I4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Postman/Contents/_CodeSignature/._CodeResources                                                     000644  000766  000024  00000024246 14767124204 022360  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                             Mac OS X            	   2  (t     (                                      ATTR      (  l  ':                 l     com.apple.cs.CodeDirectory     1    com.apple.cs.CodeEntitlements      4     com.apple.cs.CodeRequirements           com.apple.cs.CodeRequirements-1      #y  com.apple.cs.CodeSignature     (j   <  com.apple.quarantine               4                     BCodeResources H7H8Q7M5CK YlbLgQE cj                                        v`	D                    WR0ehqq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>
                            CodeResources                     
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK               4                      BCodeResources H7H8Q7M5CK J?dUb;'}^q3G                                                                6}6sWGB<T2T:fb                                +/^O'Rc5*L0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234447Z0/	*H	1" S|i8N}?K&7N0[	*Hcd	1N0+	>U^|&Ep!eG$0-	`He wDvM<5[Z((& 0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		CT5VjhdefCYIjkX2cOPqIcRlRyQ=
		</data>
		<data>
		d4FEgXYf4NPs09YXTfzIqNU8NcE=
		</data>
	</array>
</dict>
</plist>
0	*H  .|QcREN 6n:'xLUDCj\CfF7y0	*equ,`1jo6:ff
rhvC9U(y%u'w6EG`aGG95.o.7vG2;"2RH#\rDEVP3<</"8cWW&)8qgm0*H	10	*H010	+ 0{*H	lj0h*010	`He  < }B1 'PiUkj<$20250320234447Z0	 z}LP00KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234447Z0#	*H	1&u`
*0G0+*H	10006PK%!>?Y[0	*H  KEP{pU-8..@b"(t~0I9$/`wG& q#^1Ez/3%WKS=(vOWc3D]0P)nDZc>GiujzMYx/cHW,6q ;fVO?YJBA7
OM,wiyXS'kJ'hEj      q/0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57                                                                                                                                                                                                                                                                                                                                                           Postman/Contents/_CodeSignature/PaxHeader/CodeResources                                             000644  000766  000024  00000056702 14767124204 024116  x                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         119 LIBARCHIVE.xattr.com.apple.quarantine=MDA4Mzs2N2U2N2ExYTtTYWZhcmk7OEY5RDc4RkEtNUNFMS00MzhELUIzQUEtREE0ODY5NENGQTU3
95 SCHILY.xattr.com.apple.quarantine=0083;67e67a1a;Safari;8F9D78FA-5CE1-438D-B3AA-DA48694CFA57
12159 LIBARCHIVE.xattr.com.apple.cs.CodeSignature=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
9127 SCHILY.xattr.com.apple.cs.CodeSignature=0	*H010	`He 0	*H  00z!0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120201221215Z270201221215Z0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 vO[A#+_s?5
?$?O>mG	V)5
`)xEii`k_#:"1O4YBx.3EEoZ[:2m6lp&D{HX#9~]2_R@d[jDl>&{^j=GX1? v(mNi&NVtKfxLY 00UW|-,T0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd 0	*H  B9tk7*
D,Ya2;P9jDt[pKl#q-_pe-xXI(3 zvOJVg/>:wmt.#Qo`HZFE~' "rorPu=%] 6H9;.`x
S>O2VMxBzFXV,*EK4aUD'sNp000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!000	*H 0y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0230111102755Z270201221215Z010
	&,d
H7H8Q7M5CK1I0GU@Developer ID Application: Postdot Technologies, Inc (H7H8Q7M5CK)10U
H7H8Q7M5CK1"0 U
Postdot Technologies, Inc10	UUS0"0	*H  0
 F *Y)s&"Nl?A9P{fhZ1i)U$hkxVKV-WEMsHe5;z|]MX2,[Qax>S @/3WDD= o)Q$,1`J`!>t?z/M0m
s~TR 00U0 0U#0W|-,T0@+40200+0$http://ocsp.apple.com/ocsp03-devid060U 00	*Hcd00+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.06+*http://www.apple.com/certificateauthority/0U%0
+0UI&5b0U0
*Hcd!20151204000000Z0
*Hcd 0	*H  WQY#VE0%Eu4>ut*:^KMY	Qe-'2W8i)qO&j~8YO)S&$-Z,j7*3+iz{4\:vsy.kCaN~nm2?wkAqV=0n.TZm@L~g{Q2yd1000y1-0+U$Developer ID Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0	`He %0	*H	1	*H0	*H	1250320234447Z0/	*H	1" S|i8N}?K&7N0[	*Hcd	1N0+	>U^|&Ep!eG$0-	`He wDvM<5[Z((& 0[	*Hcd	1LH<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>cdhashes</key>
	<array>
		<data>
		CT5VjhdefCYIjkX2cOPqIcRlRyQ=
		</data>
		<data>
		d4FEgXYf4NPs09YXTfzIqNU8NcE=
		</data>
	</array>
</dict>
</plist>
0	*H  .|QcREN 6n:'xLUDCj\CfF7y0	*equ,`1jo6:ff
rhvC9U(y%u'w6EG`aGG95.o.7vG2;"2RH#\rDEVP3<</"8cWW&)8qgm0*H	10	*H010	+ 0{*H	lj0h*010	`He  < }B1 'PiUkj<$20250320234447Z0	 z}LP00KH'@0	*H 0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0250221183757Z250404183756Z0A10UTimestamp Signer MA110U

Apple Inc.10	UUS0"0	*H  0
 "X5&\.U5Msl)<$E:Gs=mp\U17rv,PgF g$;dXZ)yEaHjp2/3\\`3UuRyq drOj<qp6:tM3V0pao=3Q8Vw%HsT[7ilJX3mu7oIF>/u5u 00U0 0U#04%N78X&)0U 00	*Hcd00(+http://www.apple.com/appleca0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0U%0
+03U,0*0(&$"http://crl.apple.com/timestamp.crl0U[C|?~=0U0	*H  L~4TsE79Te mYW1'a&jx^=NtX%g"A2y_z""wbt2&B[O}K@9%epNA,.j5IxL? s^;YGsy88{` ~@E3Pp(3mX"`S'S@B|t'Ilf@p0A_3c5F00}LWc0	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0120405120244Z270405120244Z0|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUS0"0	*H  0
 wg\.#g>B	}
s@/P'4p<No97ecIm] 9	:JidF5ea.=o%L	x"!{[~I;
r3,JZr
9Pt(ny_~VVl (tM&By^`EXQI^JMs{R]klt-D>a>E~4u&@u0Kw 00U4%N78X&)0U00U#0+iGv	k.@GM^0.U'0%0#!http://crl.apple.com/root.crl0U0
*Hcd	 0	*H  6qS#xe[#(p!93rC=BQu]jj:T}k>mzT_Cv\ N<>r4\ge0B4Bsu|QC`'kg3EoMiKEN"W""En?F\:m7(FeoUhR>?&:k22H;K000	*H 0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0060425214036Z350209214036Z0b10	UUS10U

Apple Inc.1&0$UApple Certification Authority10UApple Root CA0"0	*H  0
 	GP^y-6WLUKl"0>P	Af$k*zG[73Mir]_%UM]d5#KYPXPg , op?0C=+I(^=: !.t<bqGSU/ApLE~LkPAtbA30XZ2hesg^eIv3ew- z0v0U0U00U+iGv	k.@GM^0U#0+iGv	k.@GM^0U 00 	*Hcd00*+https://www.apple.com/appleca/0+0Reliance on this certificate by any party assumes acceptance of the then applicable standard terms and conditions of use, certificate policy and certification practice statements.0	*H  \6L-xwvw0O=G7@,sdyO4>xk}9S 8O
k+Y	|@Vt#;Go$pE'mx~"5%k$#s`[	/DH`8=&g 3j/Sj[dc3w:,V!sO6U2Bq~RB$*M^cKP	7uu!1?0;00|100.U'Apple Timestamp Certification Authority1&0$UApple Certification Authority10U

Apple Inc.10	UUSKH'@0	+ 0	*H	1*H	0	*H	1250320234447Z0#	*H	1&u`
*0G0+*H	10006PK%!>?Y[0	*H  KEP{pU-8..@b"(t~0I9$/`wG& q#^1Ez/3%WKS=(vOWc3D]0P)nDZc>GiujzMYx/cHW,6q ;fVO?YJBA7
OM,wiyXS'kJ'hEj      
413 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements-1=+t4MAgAAAQ0AAgIAAAEAAAAAAO0AAAA0AAAABQAAAAEAABOcIAIAAAAAAAAAAAAAAAAAQkNvZGVSZXNvdXJjZXMASDdIOFE3TTVDSwBKsNU/ZJRVomK/G407hhcnvxXlmRSUxrN9XnEz+9hHAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2rH2bNhSWc1fYxPyqR0LnPFQyVBGRuTrT8QamZrZikgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3qCGm8bqDSvrL15PDIYn7QWQ16XvUuJjNQ6kjCpMnZc
319 SCHILY.xattr.com.apple.cs.CodeRequirements-1=             4                      BCodeResources H7H8Q7M5CK J?dUb;'}^q3G                                                                6}6sWGB<T2T:fb                                +/^O'Rc5*L
287 LIBARCHIVE.xattr.com.apple.cs.CodeRequirements=+t4MAQAAALAAAAABAAAAAwAAABT63gwAAAAAnAAAAAEAAAAGAAAAAgAAAA1Db2RlUmVzb3VyY2VzAAAAAAAABgAAAA8AAAAGAAAADgAAAAEAAAAKKoZIhvdjZAYCBgAAAAAAAAAAAAYAAAAOAAAAAAAAAAoqhkiG92NkBgENAAAAAAAAAAAACwAAAAAAAAAKc3ViamVjdC5PVQAAAAAAAQAAAApIN0g4UTdNNUNLAAA
224 SCHILY.xattr.com.apple.cs.CodeRequirements=                            CodeResources                     
*Hcd                   
*Hcd                
subject.OU        
H7H8Q7M5CK  
398 LIBARCHIVE.xattr.com.apple.cs.CodeEntitlements=+t5xcQAAAQM8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/Pgo8IURPQ1RZUEUgcGxpc3QgUFVCTElDICItLy9BcHBsZS8vRFREIFBMSVNUIDEuMC8vRU4iICJodHRwOi8vd3d3LmFwcGxlLmNvbS9EVERzL1Byb3BlcnR5TGlzdC0xLjAuZHRkIj4KPHBsaXN0IHZlcnNpb249IjEuMCI+CiAgPGRpY3Q+CiAgICA8a2V5PmNvbS5hcHBsZS5zZWN1cml0eS5jcy5hbGxvdy1qaXQ8L2tleT4KICAgIDx0cnVlLz4KICA8L2RpY3Q+CjwvcGxpc3Q+Cg
307 SCHILY.xattr.com.apple.cs.CodeEntitlements=qq  <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
  <dict>
    <key>com.apple.security.cs.allow-jit</key>
    <true/>
  </dict>
</plist>

312 LIBARCHIVE.xattr.com.apple.cs.CodeDirectory=+t4MAgAAAMUAAgIAAAEAAAAAALEAAAA0AAAABQAAAAEAABOcFAEAAAAAAAAAAAAAAAAAQkNvZGVSZXNvdXJjZXMASDdIOFE3TTVDSwDvWbFsYkzz/mcN7lFFvMb0AIRjagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACi7B2+GQ0P14IfnBx2wmDQzQmORAAAAAAAAAAAAAAAAAAAAAAAAAAA2LdXUsLusYamxjDQ7/MEjWXLyGg
242 SCHILY.xattr.com.apple.cs.CodeDirectory=              4                     BCodeResources H7H8Q7M5CK YlbLgQE cj                                        v`	D                    WR0eh
                                                              Postman/Contents/_CodeSignature/CodeResources                                                       000644  000766  000024  00000014572 14767124204 022144  0                                                                                                    ustar 00cygan                           staff                           000000  000000                                                                                                                                                                         <?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>files</key>
	<dict>
		<key>Resources/Credits.rtf</key>
		<data>
		78tMM8TJj/07lghJ3WA4UZuLlBc=
		</data>
		<key>Resources/app.asar</key>
		<data>
		gwx7mRZy3PUb4cyYyPWbHuBKpu8=
		</data>
		<key>Resources/app.icns</key>
		<data>
		C1tyuZL5cUSZl1vVJ8NGoA3Jz5M=
		</data>
		<key>Resources/profile.json</key>
		<data>
		ZCvaYC3fO2J99ODEZMH+v/bw63A=
		</data>
	</dict>
	<key>files2</key>
	<dict>
		<key>Frameworks/Electron Framework.framework</key>
		<dict>
			<key>cdhash</key>
			<data>
			2kbqaSCE3SnKfivXuAVNRKrGzek=
			</data>
			<key>requirement</key>
			<string>identifier "com.github.Electron.framework" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Mantle.framework</key>
		<dict>
			<key>cdhash</key>
			<data>
			jXul+jH8lr+1yyVXcckB0DEQHkw=
			</data>
			<key>requirement</key>
			<string>identifier "org.mantle.Mantle" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Postman Helper (GPU).app</key>
		<dict>
			<key>cdhash</key>
			<data>
			pv0EnFH5ahO2EQK8g1GmtuR3Ijk=
			</data>
			<key>requirement</key>
			<string>identifier "com.postmanlabs.mac.helper" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Postman Helper (Plugin).app</key>
		<dict>
			<key>cdhash</key>
			<data>
			MSK7MXOyc2BxUgrWMXLn4vBRJZo=
			</data>
			<key>requirement</key>
			<string>identifier "com.postmanlabs.mac.helper" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Postman Helper (Renderer).app</key>
		<dict>
			<key>cdhash</key>
			<data>
			gWC6hVd0CKCEMtJDAMc22vooYmY=
			</data>
			<key>requirement</key>
			<string>identifier "com.postmanlabs.mac.helper" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Postman Helper.app</key>
		<dict>
			<key>cdhash</key>
			<data>
			RR9wbk12Sw925PXUGUDRPsptMok=
			</data>
			<key>requirement</key>
			<string>identifier "com.postmanlabs.mac.helper" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/ReactiveObjC.framework</key>
		<dict>
			<key>cdhash</key>
			<data>
			lQyfuY9uUy4ulos8twMaQnUC/T0=
			</data>
			<key>requirement</key>
			<string>identifier "com.electron.reactive" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Frameworks/Squirrel.framework</key>
		<dict>
			<key>cdhash</key>
			<data>
			cV1lXPBwPz5T4TSROr1VlM7WHhk=
			</data>
			<key>requirement</key>
			<string>identifier "com.github.Squirrel" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = H7H8Q7M5CK</string>
		</dict>
		<key>Resources/Credits.rtf</key>
		<dict>
			<key>hash2</key>
			<data>
			/9+DDCHSY94MRd3DIQ8bQTk+CXsStSfDpdWe5yg5QgM=
			</data>
		</dict>
		<key>Resources/app.asar</key>
		<dict>
			<key>hash2</key>
			<data>
			bwynGbP06nQpWrbJ6LOLoWkEkiTONRBRkJcabHkIOfc=
			</data>
		</dict>
		<key>Resources/app.icns</key>
		<dict>
			<key>hash2</key>
			<data>
			cTS3MrtTbfnsS+H7idtVd2Vut/p3g2l40kZTck4RdxE=
			</data>
		</dict>
		<key>Resources/profile.json</key>
		<dict>
			<key>hash2</key>
			<data>
			+DOZM0nsL3r/rMnaqIvyL3xbZAiLLAV5/s6js7e90BU=
			</data>
		</dict>
	</dict>
	<key>rules</key>
	<dict>
		<key>^Resources/</key>
		<true/>
		<key>^Resources/.*\.lproj/</key>
		<dict>
			<key>optional</key>
			<true/>
			<key>weight</key>
			<real>1000</real>
		</dict>
		<key>^Resources/.*\.lproj/locversion.plist$</key>
		<dict>
			<key>omit</key>
			<true/>
			<key>weight</key>
			<real>1100</real>
		</dict>
		<key>^Resources/Base\.lproj/</key>
		<dict>
			<key>weight</key>
			<real>1010</real>
		</dict>
		<key>^version.plist$</key>
		<true/>
	</dict>
	<key>rules2</key>
	<dict>
		<key>.*\.dSYM($|/)</key>
		<dict>
			<key>weight</key>
			<real>11</real>
		</dict>
		<key>^(.*/)?\.DS_Store$</key>
		<dict>
			<key>omit</key>
			<true/>
			<key>weight</key>
			<real>2000</real>
		</dict>
		<key>^(Frameworks|SharedFrameworks|PlugIns|Plug-ins|XPCServices|Helpers|MacOS|Library/(Automator|Spotlight|LoginItems))/</key>
		<dict>
			<key>nested</key>
			<true/>
			<key>weight</key>
			<real>10</real>
		</dict>
		<key>^.*</key>
		<true/>
		<key>^Info\.plist$</key>
		<dict>
			<key>omit</key>
			<true/>
			<key>weight</key>
			<real>20</real>
		</dict>
		<key>^PkgInfo$</key>
		<dict>
			<key>omit</key>
			<true/>
			<key>weight</key>
			<real>20</real>
		</dict>
		<key>^Resources/</key>
		<dict>
			<key>weight</key>
			<real>20</real>
		</dict>
		<key>^Resources/.*\.lproj/</key>
		<dict>
			<key>optional</key>
			<true/>
			<key>weight</key>
			<real>1000</real>
		</dict>
		<key>^Resources/.*\.lproj/locversion.plist$</key>
		<dict>
			<key>omit</key>
			<true/>
			<key>weight</key>
			<real>1100</real>
		</dict>
		<key>^Resources/Base\.lproj/</key>
		<dict>
			<key>weight</key>
			<real>1010</real>
		</dict>
		<key>^[^/]+$</key>
		<dict>
			<key>nested</key>
			<true/>
			<key>weight</key>
			<real>10</real>
		</dict>
		<key>^embedded\.provisionprofile$</key>
		<dict>
			<key>weight</key>
			<real>20</real>
		</dict>
		<key>^version\.plist$</key>
		<dict>
			<key>weight</key>
			<real>20</real>
		</dict>
	</dict>
</dict>
</plist>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      